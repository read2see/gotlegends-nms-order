const yt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function n(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerpolicy&&(d.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?d.credentials="include":a.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(a){if(a.ep)return;a.ep=!0;const d=n(a);fetch(a.href,d)}};yt();var ge=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Et={exports:{}};(function(e,t){(function(n,s){s()})(ge,function(){function n(k,L){return typeof L=="undefined"?L={autoBom:!1}:typeof L!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),L={autoBom:!L}),L.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(k.type)?new Blob(["\uFEFF",k],{type:k.type}):k}function s(k,L,F){var S=new XMLHttpRequest;S.open("GET",k),S.responseType="blob",S.onload=function(){A(S.response,L,F)},S.onerror=function(){console.error("could not download file")},S.send()}function a(k){var L=new XMLHttpRequest;L.open("HEAD",k,!1);try{L.send()}catch{}return 200<=L.status&&299>=L.status}function d(k){try{k.dispatchEvent(new MouseEvent("click"))}catch{var L=document.createEvent("MouseEvents");L.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),k.dispatchEvent(L)}}var g=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ge=="object"&&ge.global===ge?ge:void 0,j=g.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),A=g.saveAs||(typeof window!="object"||window!==g?function(){}:"download"in HTMLAnchorElement.prototype&&!j?function(k,L,F){var S=g.URL||g.webkitURL,O=document.createElement("a");L=L||k.name||"download",O.download=L,O.rel="noopener",typeof k=="string"?(O.href=k,O.origin===location.origin?d(O):a(O.href)?s(k,L,F):d(O,O.target="_blank")):(O.href=S.createObjectURL(k),setTimeout(function(){S.revokeObjectURL(O.href)},4e4),setTimeout(function(){d(O)},0))}:"msSaveOrOpenBlob"in navigator?function(k,L,F){if(L=L||k.name||"download",typeof k!="string")navigator.msSaveOrOpenBlob(n(k,F),L);else if(a(k))s(k,L,F);else{var S=document.createElement("a");S.href=k,S.target="_blank",setTimeout(function(){d(S)})}}:function(k,L,F,S){if(S=S||open("","_blank"),S&&(S.document.title=S.document.body.innerText="downloading..."),typeof k=="string")return s(k,L,F);var O=k.type==="application/octet-stream",Be=/constructor/i.test(g.HTMLElement)||g.safari,he=/CriOS\/[\d]+/.test(navigator.userAgent);if((he||O&&Be||j)&&typeof FileReader!="undefined"){var J=new FileReader;J.onloadend=function(){var ne=J.result;ne=he?ne:ne.replace(/^data:[^;]*;/,"data:attachment/file;"),S?S.location.href=ne:location=ne,S=null},J.readAsDataURL(k)}else{var de=g.URL||g.webkitURL,ue=de.createObjectURL(k);S?S.location=ue:location.href=ue,S=null,setTimeout(function(){de.revokeObjectURL(ue)},4e4)}});g.saveAs=A.saveAs=A,e.exports=A})})(Et);var He={exports:{}};(function(e,t){(function(n){var s=pt(),a=bt(),d=ht(),g=wt(),j={imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1},A={toSvg:k,toPng:F,toJpeg:S,toBlob:O,toPixelData:L,toCanvas:Be,impl:{fontFaces:d,images:g,util:s,inliner:a,options:{}}};e.exports=A;function k(m,l){return l=l||{},he(l),Promise.resolve(m).then(function(h){return de(h,l.filter,!0)}).then(ue).then(ne).then(b).then(function(h){return ft(h,l.width||s.width(m),l.height||s.height(m))});function b(h){return l.bgcolor&&(h.style.backgroundColor=l.bgcolor),l.width&&(h.style.width=l.width+"px"),l.height&&(h.style.height=l.height+"px"),l.style&&Object.keys(l.style).forEach(function(x){h.style[x]=l.style[x]}),h}}function L(m,l){return J(m,l||{}).then(function(b){return b.getContext("2d").getImageData(0,0,s.width(m),s.height(m)).data})}function F(m,l){return J(m,l||{}).then(function(b){return b.toDataURL()})}function S(m,l){return l=l||{},J(m,l).then(function(b){return b.toDataURL("image/jpeg",l.quality||1)})}function O(m,l){return J(m,l||{}).then(s.canvasToBlob)}function Be(m,l){return J(m,l||{})}function he(m){typeof m.imagePlaceholder=="undefined"?A.impl.options.imagePlaceholder=j.imagePlaceholder:A.impl.options.imagePlaceholder=m.imagePlaceholder,typeof m.cacheBust=="undefined"?A.impl.options.cacheBust=j.cacheBust:A.impl.options.cacheBust=m.cacheBust,typeof m.useCredentials=="undefined"?A.impl.options.useCredentials=j.useCredentials:A.impl.options.useCredentials=m.useCredentials}function J(m,l){return k(m,l).then(s.makeImage).then(s.delay(100)).then(function(h){var x=typeof l.scale!="number"?1:l.scale;console.log("scale",x);var p=b(m,x),C=p.getContext("2d");return h&&(C.scale(x,x),l.canvas&&l.canvas.width&&(p.width=l.canvas.width),l.canvas&&l.canvas.height&&(p.height=l.canvas.height),l.canvas?(console.log("canv",l.canvas),C.drawImage(h,l.canvas.sx||0,l.canvas.sy||0,l.canvas.sw||l.width,l.canvas.sh||l.height,l.canvas.dx||0,l.canvas.dy||0,l.canvas.dw||l.width,l.canvas.dh||l.height)):C.drawImage(h,0,0)),p});function b(h,x){var p=document.createElement("canvas");if(p.width=(l.width||s.width(h))*x,p.height=(l.height||s.height(h))*x,console.log(p.width,p.height),l.bgcolor){var C=p.getContext("2d");C.fillStyle=l.bgcolor,C.fillRect(0,0,p.width,p.height)}return p}}function de(m,l,b){if(!b&&l&&!l(m))return Promise.resolve();return Promise.resolve(m).then(h).then(function(w){return x(m,w,l)}).then(function(w){return C(m,w)});function h(w){return w instanceof HTMLCanvasElement?s.makeImage(w.toDataURL()):w.cloneNode(!1)}function x(w,E,$){var T=w.tagName==="use"?p(w):w.childNodes;if(T.length===0)return Promise.resolve(E);return ae(E,s.asArray(T),$).then(function(){return E});function ae(re,H,_){var z=Promise.resolve();return H.forEach(function(ee){z=z.then(function(){return de(ee,_)}).then(function(R){R&&re.appendChild(R)})}),z}}function p(w){var E=document.getElementById(w.href.baseVal.replace("#",""));return[E.cloneNode(!0)]}function C(w,E){if(!(E instanceof Element))return E;return Promise.resolve().then($).then(T).then(ae).then(re).then(function(){return E});function $(){H(window.getComputedStyle(w),E.style),s.isChrome()&&E.style.marker&&(E.tagName==="line"||E.tagName==="path")&&(E.style.marker="");function H(_,z){_.cssText?(z.cssText=_.cssText,z.font=_.font):ee(_,z);function ee(R,X){s.asArray(R).forEach(function(u){X.setProperty(u,R.getPropertyValue(u),R.getPropertyPriority(u))})}}}function T(){[":before",":after"].forEach(function(_){H(_)});function H(_){var z=window.getComputedStyle(w,_),ee=z.getPropertyValue("content");if(ee===""||ee==="none")return;var R=s.uid(),X=E.getAttribute("class");X&&E.setAttribute("class",X+" "+R);var u=document.createElement("style");u.appendChild(y(R,_,z)),E.appendChild(u);function y(I,B,D){var U="."+I+":"+B,xe=D.cssText?Se(D):we(D);return document.createTextNode(U+"{"+xe+"}");function Se(q){var ve=q.getPropertyValue("content");return q.cssText+" content: "+ve+";"}function we(q){return s.asArray(q).map(ve).join("; ")+";";function ve(Ie){return Ie+": "+q.getPropertyValue(Ie)+(q.getPropertyPriority(Ie)?" !important":"")}}}}}function ae(){w instanceof HTMLTextAreaElement&&(E.innerHTML=w.value),w instanceof HTMLInputElement&&E.setAttribute("value",w.value)}function re(){E instanceof SVGElement&&(E.setAttribute("xmlns","http://www.w3.org/2000/svg"),E instanceof SVGRectElement&&["width","height"].forEach(function(H){var _=E.getAttribute(H);!_||E.style.setProperty(H,_)}))}}}function ue(m){return d.resolveAll().then(function(l){var b=document.createElement("style");return m.appendChild(b),b.appendChild(document.createTextNode(l)),m})}function ne(m){return g.inlineAll(m).then(function(){return m})}function ft(m,l,b){return Promise.resolve(m).then(function(h){return h.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(h)}).then(s.escapeXhtml).then(function(h){return'<foreignObject x="0" y="0" width="100%" height="100%">'+h+"</foreignObject>"}).then(function(h){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+l+'" height="'+b+'">'+h+"</svg>"}).then(function(h){return"data:image/svg+xml;charset=utf-8,"+h})}function pt(){return{escape:ae,parseExtension:l,mimeType:b,dataAsUrl:T,isDataUrl:h,canvasToBlob:p,resolveUrl:C,getAndEncode:$,uid:w(),delay:H,asArray:_,isChrome:re,escapeXhtml:z,makeImage:E,width:ee,height:R};function m(){var u="application/font-woff",y="image/jpeg";return{woff:u,woff2:u,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:y,jpeg:y,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function l(u){var y=/\.([^\.\/]*?)(\?|$)/g.exec(u);return y?y[1]:""}function b(u){var y=l(u).toLowerCase();return m()[y]||""}function h(u){return u.search(/^(data:)/)!==-1}function x(u){return new Promise(function(y){for(var I=window.atob(u.toDataURL().split(",")[1]),B=I.length,D=new Uint8Array(B),U=0;U<B;U++)D[U]=I.charCodeAt(U);y(new Blob([D],{type:"image/png"}))})}function p(u){return u.toBlob?new Promise(function(y){u.toBlob(y)}):x(u)}function C(u,y){var I=document.implementation.createHTMLDocument(),B=I.createElement("base");I.head.appendChild(B);var D=I.createElement("a");return I.body.appendChild(D),B.href=y,D.href=u,D.href}function w(){var u=0;return function(){return"u"+y()+u++;function y(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function E(u){return u==="data:,"?Promise.resolve():new Promise(function(y,I){var B=new Image;A.impl.options.useCredentials&&(B.crossOrigin="use-credentials"),B.onload=function(){y(B)},B.onerror=I,B.src=u})}function $(u){var y=3e4;return A.impl.options.cacheBust&&(u+=(/\?/.test(u)?"&":"?")+new Date().getTime()),new Promise(function(I){var B=new XMLHttpRequest;B.onreadystatechange=xe,B.ontimeout=Se,B.responseType="blob",B.timeout=y,A.impl.options.useCredentials&&(B.withCredentials=!0),B.open("GET",u,!0),B.send();var D;if(A.impl.options.imagePlaceholder){var U=A.impl.options.imagePlaceholder.split(/,/);U&&U[1]&&(D=U[1])}function xe(){if(B.readyState===4){if(B.status!==200){D?I(D):we("cannot fetch resource: "+u+", status: "+B.status);return}var q=new FileReader;q.onloadend=function(){var ve=q.result.split(/,/)[1];I(ve)},q.readAsDataURL(B.response)}}function Se(){D?I(D):we("timeout of "+y+"ms occured while fetching resource: "+u)}function we(q){console.error(q),I("")}})}function T(u,y){return"data:"+y+";base64,"+u}function ae(u){return u.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function re(){return/chrome/i.test(navigator.userAgent)}function H(u){return function(y){return new Promise(function(I){setTimeout(function(){I(y)},u)})}}function _(u){for(var y=[],I=u.length,B=0;B<I;B++)y.push(u[B]);return y}function z(u){return u.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ee(u){var y=X(u,"border-left-width"),I=X(u,"border-right-width");return u.scrollWidth+y+I}function R(u){var y=X(u,"border-top-width"),I=X(u,"border-bottom-width");return u.scrollHeight+y+I}function X(u,y){var I=window.getComputedStyle(u).getPropertyValue(y);return parseFloat(I.replace("px",""))}}function bt(){var m=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:x,shouldProcess:l,impl:{readUrls:b,inline:h}};function l(p){return p.search(m)!==-1}function b(p){for(var C=[],w;(w=m.exec(p))!==null;)C.push(w[1]);return C.filter(function(E){return!s.isDataUrl(E)})}function h(p,C,w,E){return Promise.resolve(C).then(function(T){return w?s.resolveUrl(T,w):T}).then(E||s.getAndEncode).then(function(T){return s.dataAsUrl(T,s.mimeType(C))}).then(function(T){return p.replace($(C),"$1"+T+"$3")});function $(T){return new RegExp(`(url\\(['"]?)(`+s.escape(T)+`)(['"]?\\))`,"g")}}function x(p,C,w){if(E())return Promise.resolve(p);return Promise.resolve(p).then(b).then(function($){var T=Promise.resolve(p);return $.forEach(function(ae){T=T.then(function(re){return h(re,ae,C,w)})}),T});function E(){return!l(p)}}}function ht(){return{resolveAll:m,impl:{readAll:l}};function m(){return l().then(function(b){return Promise.all(b.map(function(h){return h.resolve()}))}).then(function(b){return b.join(`
`)})}function l(){return Promise.resolve(s.asArray(document.styleSheets)).then(h).then(b).then(function(p){return p.map(x)});function b(p){return p.filter(function(C){return C.type===CSSRule.FONT_FACE_RULE}).filter(function(C){return a.shouldProcess(C.style.getPropertyValue("src"))})}function h(p){var C=[];return p.forEach(function(w){if(w.hasOwnProperty("cssRules"))try{s.asArray(w.cssRules||[]).forEach(C.push.bind(C))}catch(E){console.log("Error while reading CSS rules from "+w.href,E.toString())}}),C}function x(p){return{resolve:function(){var w=(p.parentStyleSheet||{}).href;return a.inlineAll(p.cssText,w)},src:function(){return p.style.getPropertyValue("src")}}}}}function wt(){return{inlineAll:l,impl:{newImage:m}};function m(b){return{inline:h};function h(x){return s.isDataUrl(b.src)?Promise.resolve():Promise.resolve(b.src).then(x||s.getAndEncode).then(function(p){return s.dataAsUrl(p,s.mimeType(b.src))}).then(function(p){return new Promise(function(C,w){b.onload=C,b.onerror=C,b.src=p})})}}function l(b){if(!(b instanceof Element))return Promise.resolve(b);return h(b).then(function(){return b instanceof HTMLImageElement?m(b).inline():Promise.all(s.asArray(b.childNodes).map(function(x){return l(x)}))});function h(x){var p=x.style.getPropertyValue("background");return p?a.inlineAll(p).then(function(C){x.style.setProperty("background",C,x.style.getPropertyPriority("background"))}).then(function(){return x}):Promise.resolve(x)}}}})()})(He);var Ue=He.exports;function V(e,t){typeof f.errors.previousAlert!="undefined"&&f.errors.previousAlert.remove(),window.scrollTo({top:0,behavior:"smooth"});const n=document.createElement("p");n.innerText=t,f.nav[0].parentElement.insertAdjacentElement("beforebegin",n),e=="error"?n.classList.add("error-alert","slide-in"):e=="success"&&n.classList.add("success-alert","slide-in"),f.errors.previousAlert=document.querySelectorAll(".error-alert")[0],f.errors.previousAlert_2=document.querySelectorAll(".success-alert")[0],typeof f.errors.previousAlert!="undefined"&&setTimeout(function(){n.classList.replace("slide-in","fade-out"),setTimeout(()=>f.errors.previousAlert.remove(),500)},3e3),typeof f.errors.previousAlert_2!="undefined"&&setTimeout(function(){n.classList.replace("slide-in","fade-out"),setTimeout(()=>f.errors.previousAlert_2.remove(),500)},3e3)}function kt(e,t,n){V(e,t),n()}function K(e){return typeof e!="undefined"}function ie(e){return e.length==0}function Ct(e){return e.length>=16}function te(e,t,n){return e.replace(t,"").length>n}function Ne(e){return e.includes(",")}function Ge(e){return e.split(",").length==3}function Je(e){return typeof e!="string"?!1:!isNaN(parseInt(e.trim()))}function Lt(e,t){const n=document.createElement("div");n.classList.add("caught-errors");const s=document.createElement("h2");s.classList.add("caught-errors-title"),s.textContent="Errors Report";const a=document.createElement("ul");a.classList.add("error-list");for(let d=0;d<e.length;d++)if(d<t){const g=document.createElement("li");g.classList.add("error-item"),g.textContent=e[d],a.append(g)}n.append(s,a),v.container.insertAdjacentElement("beforebegin",n)}function N(e,t){const n=document.createElement("ul");n.classList.add("form-errors-container"),K(e)&&(e.forEach(s=>{const a=Bt(s);n.append(a)}),t.insertAdjacentElement("afterend",n))}function Bt(e){const t=document.createElement("li");return t.classList.add("form-error"),t.textContent=e,t}function xt(e){switch(e){case 1:return $e();case 2:return Xe();case 3:return Ze();case 4:return Ye()}}function $e(){let e=[];if(ie(i.fields.currentWeek.value.trim())){let a="Current week was left empty.";e.push(a)}if(te(i.fields.currentWeek.value.trim(),"",2)){let a="Current week exceeded maximum ("+2+") characters.";e.push(a)}if(!Je(i.fields.currentWeek.value.trim())){let a="Provided current week ("+i.fields.currentWeek.value+") is not a valid number.";e.push(a)}N(e,i.fields.currentWeek);let t=[];if(te(i.fields.credits.value.trim(),"",78)){let a="Credits exceeded maximum ("+78+") characters.";t.push(a)}N(t,i.fields.credits);let n=[];if(te(i.fields.version.value.trim(),"",11)){let a="Version exceeded maximum ("+11+") characters.";n.push(a)}return N(n,i.fields.version),!e.concat(t).concat(n).length>0}function Xe(){return De([i.fields.wave_1,i.fields.wave_2,i.fields.wave_3,i.fields.wave_4,i.fields.wave_5],1)}function Ze(){return De([i.fields.wave_6,i.fields.wave_7,i.fields.wave_8,i.fields.wave_9,i.fields.wave_10],6)}function Ye(){return De([i.fields.wave_11,i.fields.wave_12,i.fields.wave_13,i.fields.wave_14,i.fields.wave_15],11)}function De(e,t){let n=[],s=e;for(let a=0;a<s.length;a++){let d=[];if(!Ne(s[a].value)){let g="Wave ["+(a+t)+"] is not comma separated.";n.push(g),d.push(g)}if(Ge(s[a].value))s[a].value.split(",").forEach((g,j)=>{if(ie(g.trim())){let A="Zone ["+(a+t)+"."+(j+1)+"] is empty.";n.push(A),d.push(A)}if(te(g.trim(),/\*[T|D]#\d/g,15)){let A="Zone ["+(a+t)+"."+(j+1)+"] exceeded maximum ("+15+") characters.";n.push(A),d.push(A)}});else{let g="Missing zones in wave ["+(a+t)+']. Use "," to separate each zone except for the last zone in the wave.';n.push(g),d.push(g)}N(d,s[a])}return!n.length>0}function pe(){document.querySelectorAll(".form-errors-container").forEach(e=>{K(e)&&e.remove()}),document.querySelectorAll(".form-error").forEach(e=>{K(e)&&e.remove()})}function St(){K(document.querySelectorAll(".caught-errors")[0])&&document.querySelectorAll(".caught-errors")[0].remove()}function P(e,t,n){K(e[t]&&e[t].length>0)||(e[t]=[]),e[t].push(n)}function Ae(e,t=[]){return e.forEach(n=>{Array.isArray(n)?Ae(n,t):t.push(n)}),t}function It(){let e=v.textArea.value,t=e.split(`
`),n={};if(ie(e.trim())){let s="No data were provided.";kt("error",s,()=>{v.textArea.classList.add("red-border")}),P(n,"data",s)}else{if(!Ct(t)){let s="Insufficient data please use a template and modify it as needed.";V("error",s),P(n,"pattern",s)}if(K(t[0])&&ie(t[0].trim())){let s="Current week was left empty.";V("error",s),P(n,"currentWeek",s)}if(K(t[0])&&te(t[0].trim(),"",2)){let s="Current week exceeded maximum ("+2+") characters.";V("error",s),P(n,"currentWeek",s)}if(K(t[0])&&!Je(t[0].trim())){let s="Provided current week ("+t[0]+") is not a valid number.";V("error",s),P(n,"currentWeek",s)}if(K(t[3])&&ie(t[3].trim())){let s="Missing Hazard at line 4.";V("error",s),P(n,"hazard",s)}if(t.slice(1,16).forEach((s,a)=>{if(!Ne(s)){let d="Wave ["+(a+1)+"] is not comma separated.";V("error",d),P(n,"wave_"+(a+1),d),N(n["wave_"+(a+1)],i.fields["wave_"+(a+1)])}if(Ge(s))s.split(",").forEach((d,g)=>{if(ie(d.trim())){let j="Zone ["+(a+1)+"."+(g+1)+"] is empty.";V("error",j),P(n,"wave_"+(a+1),j),N(n["wave_"+(a+1)],i.fields["wave_"+(a+1)])}if(te(d.trim(),/\*[T|D#\d]+/g,15)){let j="Zone ["+(a+1)+"."+(g+1)+"] exceeded maximum ("+15+") characters.";V("error",j),P(n,"wave_"+(a+1),j),N(n["wave_"+(a+1)],i.fields["wave_"+(a+1)])}});else{let d="Missing zones in wave ["+(a+1)+']. Use "," to separate each zone except for the last zone in the wave.';V("error",d),P(n,"wave_"+(a+1),d),N(n["wave_"+(a+1)],i.fields["wave_"+(a+1)])}}),K(v.optionals.credits)&&te(v.optionals.credits.value.trim(),"",78)){let s="Credits exceeded maximum ("+78+") characters.";V("error",s),P(n,"credits",s),N(n.credits,formElements.credits)}if(K(v.optionals.version)&&te(v.optionals.version.value.trim(),"",11)){let s="Version exceeded maximum ("+11+") characters.";V("error",s),P(n,"version",s),N(n.version,formElements.version)}}return Ae(Object.values(n)).length>0&&Lt(Ae(Object.values(n)),5),!Object.values(n).length>0}function At(e){const t=["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"];let n=-1;switch(e){case 0:n=t[0];break;case 1:n=t[1];break;case 2:n=t[2];break;case 3:n=t[3];break;case 4:n=t[4];break;case 5:n=t[5];break;case 6:n=t[6];break;case 7:n=t[7];break;case 8:n=t[8];break;case 9:n=t[9];break;case 10:n=t[10];break;case 11:n=t[11];break}return n}function Tt(e){const t=[0,1,2,3,4,5,6,7,8,9,10,11];let n=-1;switch(e){case"Jan":n=t[0];break;case"Feb":n=t[1];break;case"March":n=t[2];break;case"April":n=t[3];break;case"May":n=t[4];break;case"June":n=t[5];break;case"July":n=t[6];break;case"Aug":n=t[7];break;case"Sept":n=t[8];break;case"Oct":n=t[9];break;case"Nov":n=t[10];break;case"Dec":n=t[11];break}return n}function jt(e){let t=[];return t=e.split(" "),t[0]=parseInt(t[0]),t[1]=Tt(t[1]),t[2]=parseInt(t[2]),new Date(t[2],t[1],t[0])}function _t(e){let t=new Date(e);t=jt(e);let n=[t.getFullYear(),t.getMonth()+1,t.getDate()];return n.forEach((s,a)=>{s<10&&(n[a]="0".concat(s))}),t=n[0]+"-"+n[1]+"-"+n[2],t}function ye(e){return e.getDate()+" "+At(e.getMonth())+" "+String(e.getFullYear()).substring(2)}function Qe(e){let t={};return e=="now"||e==""||e==null?t=new Date:t=new Date(e),t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}const f={app:document.getElementById("app"),subApp:document.getElementById("sub-app"),nav:document.querySelectorAll(".nav-method-item"),totalBows:document.getElementById("bows"),upateDateContainer:document.getElementById("update-date"),updatedByContainer:document.getElementById("updated-by"),latestUpdate:document.getElementById("time-stamp"),updatedBy:document.getElementById("updated-by-person"),headerContainer:document.querySelector(".header-container"),wavesHeading:document.getElementById("waves-heading"),modals:{exportModal:{container:document.getElementById("export-modal"),buttons:{close:document.getElementById("close-export-modal"),exportInfoGraphScreenshot:document.getElementById("info-graph-screenshot-btn"),exportTabularScreenshot:document.getElementById("tabular-view-screenshot-btn"),exportCSV:document.getElementById("csv-export-btn"),copyToClipBoard:document.getElementById("copy-to-clipboard-btn")}},updateModal:{container:document.getElementById("update-modal"),fields:{username:document.getElementById("username")},buttons:{close:document.querySelector("#update-modal .close"),show:document.getElementById("update-modal-btn"),update:document.getElementById("m-update-btn")}}},buttons:{bow:document.getElementById("bow-btn"),lightsOn:document.getElementById("lights-on"),lightsOff:document.getElementById("lights-off"),share:document.getElementById("share"),singleView:document.getElementById("toggle-single-view-btn")},anchors:{screenshot:document.getElementById("infograph-screeshot-link")},errors:{previousAlert:document.querySelectorAll(".error-alert")[0]}},v={container:document.getElementById("text-panel"),textArea:document.getElementById("text-area-a0"),required:{weeklyModifier:document.getElementById("weekly-modifier-txt"),weeklyHazard:document.getElementById("weekly-hazard-txt")},optionals:{credits:document.getElementById("optional-credits"),version:document.getElementById("optional-version"),date:document.getElementById("optional-date")},mapSelection:document.getElementById("map-selection-txt"),buttons:{template:document.getElementById("template-txt"),process:document.getElementById("process-txt"),clear:document.getElementById("clear-txt")}},i={container:document.getElementById("form-container"),mapSelection:document.getElementById("map-selection-form"),subforms:{_1:document.getElementById("subform-1"),_2:document.getElementById("subform-2"),_3:document.getElementById("subform-3"),_4:document.getElementById("subform-4")},fields:{currentWeek:document.getElementById("current-week"),weeklyModifier:document.getElementById("weekly-modifier"),weeklyHazard:document.getElementById("weekly-hazard"),version:document.getElementById("version"),credits:document.getElementById("credits"),date:document.getElementById("date"),wave_1:document.getElementById("wave-1"),wave_2:document.getElementById("wave-2"),wave_3:document.getElementById("wave-3"),wave_4:document.getElementById("wave-4"),wave_5:document.getElementById("wave-5"),wave_6:document.getElementById("wave-6"),wave_7:document.getElementById("wave-7"),wave_8:document.getElementById("wave-8"),wave_9:document.getElementById("wave-9"),wave_10:document.getElementById("wave-10"),wave_11:document.getElementById("wave-11"),wave_12:document.getElementById("wave-12"),wave_13:document.getElementById("wave-13"),wave_14:document.getElementById("wave-14"),wave_15:document.getElementById("wave-15")},buttons:{back:document.getElementById("back-form-a0"),clear:document.getElementById("clear-form-a0"),next:document.getElementById("next-form-a0"),process:document.getElementById("process-form-a0")},state:{current:1}},Z={container:document.getElementById("legend-container"),control:document.querySelector(".legend-control"),communityLegend:document.querySelector(".legend-list-4"),buttons:{legend:document.getElementById("legend-btn"),edit:document.getElementById("edit-legend-btn")}},c={container:document.getElementById("info-graph"),backDrop:document.querySelector(".back-drop"),fallBackTitle:document.getElementById("fallback-title"),bonusWaves:document.querySelectorAll(".bonus-i"),bossWaves:document.querySelectorAll(".boss-i"),waveBorders:document.querySelectorAll(".wave-border"),zones:document.querySelectorAll(".zone"),specialEnemies:document.querySelectorAll(".special-enemies"),bonusObjectives:document.querySelectorAll(".bonus-objective"),bonusAmounts:document.querySelectorAll(".amount"),bossWavesModifiers:document.querySelectorAll(".boss-modifier"),currentWeek:document.getElementById("info-graph-week"),weeklyModifier:document.getElementById("info-graph-weekly-modifier"),weeklyHazard:document.getElementById("info-graph-weekly-hazard"),credits:document.getElementById("info-graph-credits"),date:document.getElementById("info-graph-date"),version:document.getElementById("info-graph-version"),state:{edit:!0},buttons:{edit:document.getElementById("edit-infograph"),save:document.getElementById("save-edits"),graphView:document.getElementById("toggle-infograph-view-btn"),singleView:document.getElementById("toggle-single-view-btn"),tabularView:document.getElementById("toggle-tabular-view-btn"),share:document.getElementById("share"),export:document.getElementById("export-modal-btn")}},r={container:document.getElementById("single-wave-view"),wave_g_container:document.querySelector(".sv-wave-container"),wave_count:document.querySelector(".sv-wave-number"),wave_s_container:document.querySelector(".sv-wave"),waveBorder:document.querySelector(".sv-wave-border"),zones:document.querySelectorAll(".sv-zone"),linkLines:document.querySelector(".sv-link-lines"),extendedInfo:document.querySelector(".sv-extend-info"),amount:document.querySelector(".sv-amount"),state:{currentWave:1,recordMode:!1},data:{editedZones:[]},buttons:{previous:document.getElementById("previous-wave"),next:document.getElementById("next-wave"),reset:document.getElementById("reset-single-view"),recordMode:document.getElementById("record-mode")}},se={container:document.getElementById("tabular-view"),zones:document.querySelectorAll(".td-zone"),bonusObjectives:document.querySelectorAll(".objective-cell"),bossModifiers:document.querySelectorAll(".modifier-cell")};function et(){Oe(),ke(f.nav[0],"active-tab"),ce(f.updatedByContainer),ce(f.upateDateContainer),Q(v.container),Q(i.container),Q(f.modals.updateModal.buttons.show),Object.values(i.subforms).forEach(e=>{e.classList.remove("scroll-x-left","scroll-x-right")}),mt().then(e=>{let t=new Date(e.currentTemplate.latestUpdate);f.updatedBy.textContent=o.updatedBy,f.latestUpdate.textContent=ye(t),v.mapSelection.value=e.currentTemplate.mapKey,tt(),it(),le(),oe(r.state.currentWave,r.state.recordMode),document.querySelectorAll(".legend-list-4 li").forEach(n=>n.remove()),o.legend.forEach(n=>{const s=document.createElement("li");s.textContent=n,s.classList.add("c-legend-item","mb-2"),Z.communityLegend.append(s)})})}function Me(){Oe(),ke(f.nav[1],"active-tab"),ce(v.container),ce(f.modals.updateModal.buttons.show),Q(f.updatedByContainer),Q(f.upateDateContainer),Q(i.container),Object.values(i.subforms).forEach(e=>{e.classList.remove("scroll-x-left","scroll-x-right")}),ze("text")}function Dt(){Oe(),ke(f.nav[2],"active-tab"),ce(i.container),Q(f.updatedByContainer),Q(f.upateDateContainer),ce(f.modals.updateModal.buttons.show),Q(v.container),ze("form")}function le(){pe();let e="";Fe=="text"?(e=v.mapSelection.value,Ke(e),i.mapSelection.value=e):(e=i.mapSelection.value,Ke(e),v.mapSelection.value=e);let t=Object.entries(G).filter(s=>s[1].mapKey==e)[0][1];Le(t),c.fallBackTitle.textContent=Y(t.map);let n=t.week+`
`;v.required.weeklyModifier.value=Object.values(We).filter(s=>s.modifier==t.modifiers[0])[0].key,v.required.weeklyHazard.value=Object.values(Ve).filter(s=>s.modifier.includes(t.modifiers[1].toLocaleLowerCase()))[0].key,t.zones.forEach((s,a)=>{(a+1)%3==0?n=n.concat(s.trim()+`
`):n=n.concat(s.trim()+",")}),v.textArea.value=n.trim(),v.optionals.credits.value=t.credits,v.optionals.version.value=t.version,v.optionals.date.value=Qe(),Gt(n.split(`
`))}function Te(){document.querySelectorAll(".editField").length>0&&document.querySelectorAll(".editField").forEach(e=>e.value=""),v.textArea.value="",nt(),Object.values(v.optionals).forEach(e=>e.value=""),Object.values(i.fields).forEach(e=>e.value="")}function Mt(){c.waveBorders.forEach(e=>{let t="";["normal","bonus","boss"].forEach(s=>{e.classList.contains(s)&&(t=s,e.classList=[],e.classList.add("wave-border",t))})})}function Ot(){pe(),xt(i.state.current)&&(i.state.current==4?(i.buttons.next.disabled=!0,i.buttons.back.disabled=!1,i.subforms["_"+i.state.current].classList.remove("scroll-x-right")):(i.buttons.back.disabled=!1,i.buttons.next.disabled=!1,i.subforms["_"+i.state.current].classList.remove("scroll-x-left"),i.subforms["_"+i.state.current].classList.remove("scroll-x-right"),je(i.subforms["_"+i.state.current]),i.state.current=i.state.current+1,ke(i.subforms["_"+i.state.current],"scroll-x-right"),i.subforms["_"+i.state.current].classList.replace("setInvisible","setVisible"),i.state.current==4&&(je(i.buttons.next),i.buttons.process.classList.replace("setInvisible","setVisible"))))}function Wt(){i.state.current==1?(i.buttons.back.disabled=!0,i.buttons.next.disabled=!1,i.subforms["_"+i.state.current].classList.remove("scroll-x-right")):(i.buttons.back.disabled=!1,i.subforms["_"+i.state.current].classList.remove("scroll-x-right"),i.subforms["_"+i.state.current].classList.remove("scroll-x-left"),je(i.subforms["_"+i.state.current]),i.state.current=i.state.current-1,$t(i.subforms["_"+i.state.current],"scroll-x-right","scroll-x-left"),i.subforms["_"+i.state.current].classList.replace("setInvisible","setVisible"),i.state.current<4&&(i.buttons.next.classList.replace("setInvisible","setVisible"),i.buttons.process.classList.replace("setVisible","setInvisible")))}function Ee(){if(St(),pe(),v.textArea.value.split(`
`).length>19){let e=v.textArea.value.match(/[a-z\s()]+,\s[a-z\s()]+,\s[a-z ]+/gi),t=[];v.textArea.value=`4
`,e.forEach(n=>{n.includes("(Tengu)")&&(n=n.trim().replace("(Tengu)","")),n.includes("(Disciple)")&&(n=n.trim().replace("(Disciple)","")),n.split(",").forEach(s=>t.push(s.trim()))}),o.tengu.forEach(n=>t[n.split("*")[0]-1]=t[n.split("*")[0]-1].concat("*"+n.split("*")[1])),o.disciples&&o.disciples.forEach(n=>{t[n.split("*")[0]-1]=t[n.split("*")[0]-1].concat("*"+n.split("*")[1])}),e=be(t),e.forEach(n=>{v.textArea.value=v.textArea.value.concat(n.join(",")+`
`)}),v.textArea.value=v.textArea.value.trim()}It()&&(Fe=="form"&&Jt(),ze("text"),zt(v.textArea.value.split(`
`),o),tt(),it(),fe(),oe(r.state.currentWave,r.state.recordMode))}function Vt(e){if(Me(),c.buttons.singleView.disabled=!0,c.buttons.tabularView.disabled=!0,M(c.buttons.save,"setVvisible","setInvisible"),M(e.target,"setInvisible","setVisible"),c.state.edit){c.zones.forEach((a,d)=>{const g=me("zone-efi");g.setAttribute("maxlength","18"),g.value=o.zones[d],M(a.firstElementChild,"setInvisible","setVisible"),a.append(g)});const t=me("credits-efi");t.setAttribute("maxlength","78"),t.value=o.credits,M(c.credits,"setInvisible","setVisible"),c.credits.insertAdjacentElement("afterend",t);const n=me("current-week-efi");n.setAttribute("maxlength","2"),n.value=o.week,M(c.currentWeek,"setInvisible","setVisible"),c.currentWeek.insertAdjacentElement("afterend",n);const s=me("version-efi");s.setAttribute("maxlength","11"),s.value=o.version,M(c.version,"setInvisible","setVisible"),c.version.parentElement.insertAdjacentElement("afterbegin",s),c.state.edit=!1}}function Ft(e){c.buttons.singleView.disabled=!1,c.buttons.tabularView.disabled=!1,M(e.target,"setInvisible","setVisible"),M(c.buttons.edit,"setVisible","setInvisible");let t=document.querySelectorAll(".zone-efi"),n=o;n.zones=[],t.forEach(g=>{n.zones.push(g.value),g.previousElementSibling.tagName=="P"?g.previousElementSibling.classList.replace("setInvisible","setVisible"):g.previousElementSibling.previousElementSibling.classList.replace("setInvisible","setVisible"),g.remove()});let s=document.querySelector(".current-week-efi"),a=document.querySelector(".credits-efi");document.querySelector(".date-efi");let d=document.querySelector(".version-efi");n.week=s.value,n.credits=a.value,n.version=d.value,c.currentWeek.classList.remove("setInvisible"),s.remove(),c.credits.classList.remove("setInvisible"),a.remove(),c.version.classList.remove("setInvisible"),d.remove(),Le(n),Te(),le(),Ee(),c.state.edit=!0}function me(e){const t=document.createElement("input");return typeof e=="string"?t.classList.add("editField",e):t.classList.add("editField",...e),t}function tt(){nt(),c.backDrop.src="./img/"+o.background,c.zones.forEach((s,a)=>{s.firstChild.nextSibling.textContent=o.zones[a].replace(/\*[TD#1-3]+/g,""),qt(s,o.zones[a],a)}),c.bonusObjectives.forEach((s,a)=>{s.textContent=Object.values(o.bonus)[a].objective}),c.bonusAmounts.forEach((s,a)=>{s.textContent=Object.values(o.bonus)[a].amount}),c.bossWavesModifiers.forEach((s,a)=>{s.textContent=Object.values(o.bossWave)[a].modifier}),c.bonusWaves.forEach((s,a)=>{o.bonus[a].objective.toLowerCase()=="p.parry counter atk"||o.bonus[a].objective.toLowerCase()=="ranged kills"||o.bonus[a].objective.toLowerCase()=="headshots"?s.style.background="url(./svg/"+Object.values(o.bonus)[a].svg+") no-repeat center center/90%":o.bonus[a].objective.toLowerCase()=="kill outside def. area"||o.bonus[a].objective.toLowerCase()=="kill inside def. area"||o.bonus[a].objective.toLowerCase()=="assassinate from above"||o.bonus[a].objective.toLowerCase()=="assassinate | crits"||o.bonus[a].objective.toLowerCase()=="ghost weapon kills"?s.style.background="url(./svg/"+Object.values(o.bonus)[a].svg+") no-repeat center center/70%":s.style.background="url(./svg/"+Object.values(o.bonus)[a].svg+") no-repeat center center/50%"}),c.bossWaves.forEach((s,a)=>{s.style.background="url(./svg/"+Object.values(o.bossWave)[a].svg+") no-repeat center center/70%"}),c.currentWeek.textContent=o.week,c.weeklyModifier.firstChild.nextSibling.textContent=Y(o.modifiers[0]);const e=document.createElement("img");e.src="./svg/"+Object.values(We).filter(s=>s.modifier==o.modifiers[0])[0].svg,c.weeklyModifier.insertAdjacentElement("afterbegin",e),c.weeklyHazard.firstChild.nextSibling.textContent=Y(o.modifiers[1]);const t=document.createElement("img");t.src="./svg/"+Object.values(Ve).filter(s=>s.modifier.includes(o.modifiers[1].toLowerCase()))[0].svg,c.weeklyHazard.insertAdjacentElement("afterbegin",t),c.credits.textContent=o.credits,c.version.textContent=o.version,c.date.textContent=ye(new Date(o.latestUpdate)),at(be(o.zones)).forEach(s=>{c.waveBorders[s.waveIndex].classList.add(s.clipClass)}),o.dogs&&o.dogs.forEach(s=>{const a=document.createElement("img");a.classList.add("se-dog"),a.src="./svg/se-dogs.svg",c.specialEnemies[s-1].parentElement.classList.add("wrapper"),c.specialEnemies[s-1].appendChild(a)}),o.bears&&o.bears.forEach(s=>{const a=document.createElement("img");a.classList.add("se-bear"),a.src="./svg/se-bears.svg",c.specialEnemies[s-1].parentElement.classList.add("wrapper"),c.specialEnemies[s-1].appendChild(a)})}function zt(e,t){let n=t;n.week=e[0],n.modifiers[0]=Object.values(We).filter(a=>a.key==v.required.weeklyModifier.value)[0].modifier,n.modifiers[1]=Object.values(Ve).filter(a=>a.key==v.required.weeklyHazard.value)[0].modifier,n.zones=[],e.slice(1,16).forEach(a=>{n.zones=n.zones.concat(a.split(","))}),n.credits=v.optionals.credits.value||"",n.latestUpdate=v.optionals.date.value||new Date,n.version=v.optionals.version.value||"ver2.18",Le(n)}function Y(e){let t=e.split(" ");return t.forEach((n,s)=>{t[s]=n.charAt(0).toUpperCase()+n.slice(1)}),t.join(" ")}function qt(e,t,n,s){if(t.includes("*")){e.classList.add("wrapper","special-enemy-red");const a=document.createElement("img");switch(a.classList.add("special-enemy"),t.split("*")[1]){case"T#1":a.src="./svg/x-1-tengu.svg";break;case"T#2":a.src="./svg/x-2-tengu.svg";break;case"T#3":a.src="./svg/x-3-tengu.svg";break;case"D#1":a.src="./svg/x-1-disciple.svg";break;case"D#2":a.src="./svg/x-2-disciple.svg";break}c.zones[n].insertAdjacentElement("beforeend",a)}}function st(e,t,n,s){if(e.classList.remove("special-enemy-red"),r.zones[n].lastElementChild&&!r.state.recordMode&&r.zones[n].lastElementChild.classList.contains("sv-special-enemy")&&r.zones[n].firstElementChild.nextElementSibling.remove(),r.zones[n].lastElementChild.previousElementSibling&&r.state.recordMode&&r.zones[n].lastElementChild.classList.contains("sv-special-enemy")&&r.zones[n].lastElementChild.remove(),t.includes("*")){e.classList.add("wrapper","special-enemy-red");const a=document.createElement("img");switch(a.classList.add("sv-special-enemy"),t.split("*")[1]){case"T#1":a.src="./svg/x-1-tengu.svg";break;case"T#2":a.src="./svg/x-2-tengu.svg";break;case"T#3":a.src="./svg/x-3-tengu.svg";break;case"D#1":a.src="./svg/x-1-disciple.svg";break;case"D#2":a.src="./svg/x-2-disciple.svg";break}r.zones[n].insertAdjacentElement("beforeend",a)}}function nt(){Mt(),document.querySelectorAll(".se-dog").forEach(e=>e.remove()),document.querySelectorAll(".se-bear").forEach(e=>e.remove()),document.querySelectorAll(".special-enemy").forEach(e=>{e.parentElement.classList.remove("special-enemy-red"),e.remove()}),document.querySelector("#info-graph-weekly-modifier img")&&document.querySelector("#info-graph-weekly-modifier img").remove(),document.querySelector("#info-graph-weekly-hazard img")&&document.querySelector("#info-graph-weekly-hazard img").remove()}function at(e,t){let n=[],s=[];return e.forEach((a,d)=>{if(a.forEach((g,j)=>{g.includes("*")&&s.push(j)}),s.length>0)if(t=="singleView"){let g=Rt(s);n.push({waveIndex:d,clipClass:g}),s=[]}else{let g=Pt(s);n.push({waveIndex:d,clipClass:g}),s=[]}}),n}function Pt(e){let t="";switch(e.length){case 1:e[0]==0?t="intersect-a":e[0]==1?t="intersect-b":t="intersect-c";break;case 2:e[0]==0&&e[1]==1?t="intersect-ab":e[0]==0&&e[1]==2?t="intersect-ac":t="intersect-bc";break;case 3:t="intersect-abc";break}return t}function Rt(e){let t="";switch(e.length){case 1:e[0]==0?t="sv-intersect-a":e[0]==1?t="sv-intersect-b":t="sv-intersect-c";break;case 2:e[0]==0&&e[1]==1?t="sv-intersect-ab":e[0]==0&&e[1]==2?t="sv-intersect-ac":t="sv-intersect-bc";break;case 3:t="sv-intersect-abc";break}return t}function be(e){let t=[],n=[];return e.forEach((s,a)=>{(a+1)%3==0?(n.push(s),t.push(n),n=[]):n.push(s)}),t}function rt(){c.container.id="info-graph",c.container.classList.remove("setInvisible"),se.container.classList.replace("seVisible","setInvisible"),c.buttons.singleView.classList.remove("selected-view"),c.buttons.tabularView.classList.remove("selected-view"),M(r.container,"setInvisible","setVisible"),M(se.container,"setInvisible","setVisible"),c.state.edit&&c.buttons.edit.classList.replace("setInvisible","setVisible"),c.buttons.graphView.classList.add("selected-view")}function Kt(){oe(r.state.currentWave,r.state.recordMode),c.container.id="",c.buttons.graphView.classList.remove("selected-view"),c.buttons.tabularView.classList.remove("selected-view"),c.buttons.singleView.classList.add("selected-view"),M(c.buttons.edit,"setInvisible","setVisible"),M(c.buttons.save,"setInvisible","setVisible"),M(se.container,"setInvisible","setVisible"),r.container.classList.replace("setInvisible","setVisible"),c.container.classList.add("setInvisible")}function ot(){c.container.id="",c.container.classList.add("setInvisible"),M(r.container,"setInvisible","setVisible"),M(c.buttons.edit,"setInvisible","setVisible"),M(c.buttons.save,"setInvisible","setVisible"),c.buttons.graphView.classList.remove("selected-view"),c.buttons.singleView.classList.remove("selected-view"),c.buttons.tabularView.classList.add("selected-view"),se.container.classList.replace("setInvisible","setVisible")}function it(){Ht(),se.zones.forEach((e,t)=>{if(e.textContent=o.zones[t].replace(/\*[TD#1-3]+/g,""),o.zones[t].includes("*")){let n=o.zones[t].split("*")[1];const s=document.createElement("img");switch(s.classList.add("td-special-enemy-icon"),e.classList.add("boss-w-cell"),n){case"T#1":s.src="./svg/td-x-1-tengu.svg";break;case"T#2":s.src="./svg/td-x-2-tengu.svg";break;case"T#3":s.src="./svg/td-x-3-tengu.svg";break;case"D#1":s.src="./svg/td-x-1-disciple.svg";break;case"D#2":s.src="./svg/td-x-2-disciple.svg";break}e.parentElement.append(s)}}),se.bonusObjectives.forEach((e,t)=>{const n=document.createElement("img");n.classList.add("td-bonus-icon"),n.src="./svg/"+o.bonus[t].tsvg,e.append(n)}),se.bossModifiers.forEach((e,t)=>{const n=document.createElement("img");n.classList.add("td-bonus-icon"),n.src="./svg/"+o.bossWave[t].tsvg,e.append(n)})}function Ht(){document.querySelectorAll(".td-bonus-icon").forEach(e=>e.remove()),document.querySelectorAll(".td-modifier-icon").forEach(e=>e.remove()),document.querySelectorAll(".td-special-enemy-icon").forEach(e=>e.remove())}function Ut(){if(r.wave_g_container.classList.add("scroll-x-right"),setTimeout(()=>r.wave_g_container.classList.remove("scroll-x-right"),500),r.state.currentWave++,oe(r.state.currentWave,r.state.recordMode),r.state.recordMode&&(document.querySelectorAll(".single-wave-edit-efi").forEach(e=>{e.value.length>0&&r.data.editedZones.push(e.value),e.value=""}),r.data.editedZones.length==45)){document.querySelectorAll(".single-wave-edit-efi").forEach(t=>t.remove());const e=o;e.zones=[],e.zones=e.zones.concat(r.data.editedZones),Le(e),r.data.editedZones=[],r.state.recordMode=!1,r.buttons.recordMode.textContent="Enable Record Data Mode",le(),Ee(),fe()}r.state.currentWave==16?(lt(),r.state.currentWave=15,r.buttons.next.disabled=!0,r.buttons.previous.disabled=!1):(r.buttons.next.disabled=!1,r.buttons.previous.disabled=!1)}function lt(){r.state.recordMode||(r.state.currentWave==1?(oe(r.state.currentWave,r.state.recordMode),r.buttons.previous.disabled=!0,r.buttons.next.disabled=!1):(r.wave_g_container.classList.add("scroll-x-left"),setTimeout(()=>r.wave_g_container.classList.remove("scroll-x-left"),500),r.state.currentWave--,oe(r.state.currentWave,r.state.recordMode))),r.state.currentWave<=15&&(r.buttons.next.disabled=!1)}function fe(){["sv-intersect-a","sv-intersect-b","sv-intersect-c","sv-intersect-ab","sv-intersect-ac","sv-intersect-bc","sv-intersect-abc"].forEach(t=>{r.waveBorder.classList.contains(t)&&r.waveBorder.classList.remove(t)}),r.state.currentWave=1,oe(r.state.currentWave,r.state.recordMode),r.wave_g_container.classList.add("scroll-x-left"),setTimeout(()=>r.wave_g_container.classList.remove("scroll-x-left"),500),r.buttons.next.disabled=!1}function Nt(e){r.state.recordMode?(r.state.recordMode=!1,e.target.textContent="Enable Record Data Mode",document.querySelectorAll(".single-wave-edit-efi").forEach(t=>t.remove()),fe()):(window.scrollTo({top:0,behavior:"smooth"}),Me(),fe(),r.zones.forEach(t=>{t.firstElementChild.textContent="",t.append(me("single-wave-edit-efi"))}),r.data.editedZones=[],r.state.recordMode=!0,e.target.textContent="Disable Record Mode")}function oe(e,t){if(t)switch(e){case 1:case 5:case 8:case 11:case 14:r.wave_s_container.style.background="transparent",qe(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent="",r.zones[1].firstElementChild.textContent="",r.zones[2].firstElementChild.textContent="";break;case 2:case 4:case 7:case 10:case 13:Pe(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent="",r.zones[1].firstElementChild.textContent="",r.zones[2].firstElementChild.textContent="";break;case 3:case 6:case 9:case 12:case 15:Re(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent="",r.zones[1].firstElementChild.textContent="",r.zones[2].firstElementChild.textContent="";break}else switch(e){case 1:case 5:case 8:case 11:case 14:r.wave_s_container.style.background="transparent",qe(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent=o.zones[r.state.currentWave*3-3].replace(/\*[TD#1-3]+/g,""),r.zones[1].firstElementChild.textContent=o.zones[r.state.currentWave*3-2].replace(/\*[TD#1-3]+/g,""),r.zones[2].firstElementChild.textContent=o.zones[r.state.currentWave*3-1].replace(/\*[TD#1-3]+/g,"");break;case 2:case 4:case 7:case 10:case 13:Pe(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent=o.zones[r.state.currentWave*3-3].replace(/\*[TD#1-3]+/g,""),r.zones[1].firstElementChild.textContent=o.zones[r.state.currentWave*3-2].replace(/\*[TD#1-3]+/g,""),r.zones[2].firstElementChild.textContent=o.zones[r.state.currentWave*3-1].replace(/\*[TD#1-3]+/g,"");break;case 3:case 6:case 9:case 12:case 15:Re(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent=o.zones[r.state.currentWave*3-3].replace(/\*[TD#1-3]+/g,""),r.zones[1].firstElementChild.textContent=o.zones[r.state.currentWave*3-2].replace(/\*[TD#1-3]+/g,""),r.zones[2].firstElementChild.textContent=o.zones[r.state.currentWave*3-1].replace(/\*[TD#1-3]+/g,"");break}switch(e){case 1:W();break;case 2:W(),r.extendedInfo.textContent=o.bonus[0].objective,r.amount.textContent=o.bonus[0].amount,r.wave_s_container.style.background=`url(./svg/${o.bonus[0].svg}) no-repeat center center/58%`;break;case 3:W(),r.extendedInfo.textContent=o.bossWave[0].modifier,r.wave_s_container.style.background=`url(./svg/${o.bossWave[0].svg}) no-repeat center center/58%`;break;case 4:W(),r.extendedInfo.textContent=o.bonus[1].objective,r.amount.textContent=o.bonus[1].amount,r.wave_s_container.style.background=`url(./svg/${o.bonus[1].svg}) no-repeat center center/58%`;break;case 5:W();break;case 6:W(),r.extendedInfo.textContent=o.bossWave[1].modifier,r.wave_s_container.style.background=`url(./svg/${o.bossWave[1].svg}) no-repeat center center/58%`;break;case 7:W(),r.extendedInfo.textContent=o.bonus[2].objective,r.amount.textContent=o.bonus[2].amount,r.wave_s_container.style.background=`url(./svg/${o.bonus[2].svg}) no-repeat center center/58%`;break;case 8:W(),r.zones.forEach((s,a)=>{st(s,o.zones[r.state.currentWave*3+(a-3)],a)});break;case 9:W(),r.extendedInfo.textContent=o.bossWave[2].modifier,r.wave_s_container.style.background=`url(./svg/${o.bossWave[2].svg}) no-repeat center center/58%`;break;case 10:W(),r.extendedInfo.textContent=o.bonus[3].objective,r.amount.textContent=o.bonus[3].amount,r.wave_s_container.style.background=`url(./svg/${o.bonus[3].svg}) no-repeat center center/58%`;break;case 11:W();break;case 12:W();break;case 13:W(),r.extendedInfo.textContent=o.bonus[4].objective,r.amount.textContent=o.bonus[4].amount,r.wave_s_container.style.background=`url(./svg/${o.bonus[4].svg}) no-repeat center center/58%`;break;case 14:W();break;case 15:W(),r.extendedInfo.textContent=o.bossWave[4].modifier,r.wave_s_container.style.background=`url(./svg/${o.bossWave[4].svg}) no-repeat center center/58%`;break}at(be(o.zones),"singleView").forEach(s=>{e==s.waveIndex+1?r.waveBorder.classList.add(s.clipClass):r.waveBorder.classList.remove(s.clipClass)}),o.bears&&o.bears.forEach(s=>{if(s==e){const a=document.createElement("img");a.src="./svg/se-bears.svg",a.classList.add("sv-bear"),document.querySelector(".sv-special-enemies").append(a)}else document.querySelectorAll(".sv-bear").forEach(a=>a.remove())}),o.dogs&&o.dogs.forEach(s=>{if(s==e){const a=document.createElement("img");a.src="./svg/se-dogs.svg",a.classList.add("sv-dog"),document.querySelector(".sv-special-enemies").append(a)}else document.querySelectorAll(".sv-dog").forEach(a=>a.remove())})}function W(){r.zones.forEach((e,t)=>{st(e,o.zones[r.state.currentWave*3+(t-3)],t)})}function qe(){r.amount.classList.replace("setVisible","setInvisible"),r.linkLines.classList.replace("setVisible","setInvisible"),r.extendedInfo.classList.replace("setVisible","setInvisible"),r.wave_count.classList.replace("bonus","normal"),r.wave_count.classList.replace("boss","normal"),r.waveBorder.classList.replace("bonus","normal"),r.waveBorder.classList.replace("boss","normal"),r.zones.forEach(e=>{e.classList.replace("bonus","normal"),e.classList.replace("boss","normal")})}function Pe(){r.amount.classList.replace("setInvisible","setVisible"),r.linkLines.classList.replace("setInvisible","setVisible"),r.extendedInfo.classList.replace("setInvisible","setVisible"),r.linkLines.classList.replace("boss","bonus"),r.extendedInfo.classList.replace("boss","bonus"),r.wave_count.classList.replace("normal","bonus"),r.wave_count.classList.replace("boss","bonus"),r.waveBorder.classList.replace("normal","bonus"),r.waveBorder.classList.replace("boss","bonus"),r.zones.forEach(e=>{e.classList.replace("normal","bonus"),e.classList.replace("boss","bonus")})}function Re(){r.amount.classList.replace("setVisible","setInvisible"),r.linkLines.classList.replace("setInvisible","setVisible"),r.extendedInfo.classList.replace("setInvisible","setVisible"),r.linkLines.classList.replace("bonus","boss"),r.extendedInfo.classList.replace("bonus","boss"),r.wave_count.classList.replace("normal","boss"),r.wave_count.classList.replace("bonus","boss"),r.waveBorder.classList.replace("normal","boss"),r.waveBorder.classList.replace("bonus","boss"),r.zones.forEach(e=>{e.classList.replace("normal","boss"),e.classList.replace("bonus","boss")})}function Gt(e){v.optionals.date.value.length==0?ye(new Date(o.latestUpdate)):v.optionals.date.value,i.fields.currentWeek.value=e[0],i.fields.weeklyModifier.value=v.required.weeklyModifier.value,i.fields.weeklyHazard.value=v.required.weeklyHazard.value,i.fields.wave_1.value=e[1],i.fields.wave_2.value=e[2],i.fields.wave_3.value=e[3],i.fields.wave_4.value=e[4],i.fields.wave_5.value=e[5],i.fields.wave_6.value=e[6],i.fields.wave_7.value=e[7],i.fields.wave_8.value=e[8],i.fields.wave_9.value=e[9],i.fields.wave_10.value=e[10],i.fields.wave_11.value=e[11],i.fields.wave_12.value=e[12],i.fields.wave_13.value=e[13],i.fields.wave_14.value=e[14],i.fields.wave_15.value=e[15],i.fields.credits.value=v.optionals.credits.value||o.credits,i.fields.version.value=v.optionals.version.value||o.version,i.fields.date.value=v.optionals.date.value||_t(ye(new Date))}function Jt(){let e="";v.required.weeklyModifier.value=i.fields.weeklyModifier.value,v.required.weeklyHazard.value=i.fields.weeklyHazard.value,e=i.fields.currentWeek.value.trim()+`
`+i.fields.wave_1.value.trim()+`
`+i.fields.wave_2.value.trim()+`
`+i.fields.wave_3.value.trim()+`
`+i.fields.wave_4.value.trim()+`
`+i.fields.wave_5.value.trim()+`
`+i.fields.wave_6.value.trim()+`
`+i.fields.wave_7.value.trim()+`
`+i.fields.wave_8.value.trim()+`
`+i.fields.wave_9.value.trim()+`
`+i.fields.wave_10.value.trim()+`
`+i.fields.wave_11.value.trim()+`
`+i.fields.wave_12.value.trim()+`
`+i.fields.wave_13.value.trim()+`
`+i.fields.wave_14.value.trim()+`
`+i.fields.wave_15.value.trim()+`
`,v.textArea.value=e.trim(),v.optionals.credits.value=i.fields.credits.value.trim(),v.optionals.version.value=i.fields.version.value.trim(),v.optionals.date.value=i.fields.date.value.trim()}function Q(e){e.classList.add("setInvisible")}function ce(e){e.classList.remove("setInvisible")}function je(e){e.classList.contains("setVisible")?(e.classList.remove("setVisible"),e.classList.add("setInvisible")):e.classList.contains("setInvisible")?(e.classList.add("setVisible"),e.classList.remove("setInvisible")):e.classList.add("setInvisible")}function $t(e,t,n){e.classList.contains(t)?(e.classList.remove(t),e.classList.add(n)):e.classList.contains(n)?(e.classList.add(t),e.classList.remove(n)):e.classList.add(n)}function Oe(){f.nav.forEach(e=>e.classList.remove("active-tab"))}function ke(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}function M(e,t,n){e.classList.contains(n)?e.classList.replace(n,t):e.classList.add(t)}function Xt(){f.modals.exportModal.container.showModal(),window.scrollTo({top:0,behavior:"smooth"})}function Zt(){const e=c.container.cloneNode("deep");return e.classList.remove("setInvisible"),e.style.margin="0",e.style.borderRadius="0",e.style.transform="scale(1)",window.innerWidth<=393?(document.body.append(e),e.id="info-graph-sh",e.style.width="420px",document.querySelectorAll(".grid-a")[1].classList.replace("grid-a","grid-a-sh"),document.querySelectorAll(".grid-b")[1].classList.replace("grid-b","grid-b-sh"),document.querySelectorAll(".grid-b-sh .wave-container").forEach(n=>n.classList.replace("wave-container","wave-container-sh")),document.querySelectorAll(".grid-b-sh .boss-modifier").forEach(n=>n.classList.replace("boss-modifier","boss-modifier-sh")),document.querySelectorAll(".grid-b-sh .bonus-objective").forEach(n=>n.classList.replace("bonus-objective","bonus-objective-sh")),document.querySelector("#info-graph-sh .overlay").classList.replace("overlay","overlay-sh"),document.querySelectorAll(".back-drop")[1].classList.replace("back-drop","back-drop-sh"),document.querySelector("#info-graph-sh .weekly-modifiers").classList.replace("weekly-modifiers","weekly-modifiers-sh"),document.querySelector("#info-graph-sh .decorated-line").classList.replace("decorated-line","decorated-line-sh"),document.querySelector("#info-graph-sh .decorated-line-2").classList.replace("decorated-line-2","decorated-line-2-sh"),document.querySelector("#info-graph-sh .credits").classList.replace("credits","credits-sh"),document.querySelector("#info-graph-sh .infograph-footer").classList.replace("infograph-footer","infograph-footer-sh"),document.querySelector("#info-graph-sh .info-container").classList.replace("info-container","info-container-sh"),document.querySelector("#info-graph-sh #fallback-title").remove()):f.subApp.append(e),e}function ct(){rt();const e=Zt();setTimeout(()=>{Ue.toBlob(e,{scale:4}).then(function(t){t.size>3e6?(window.saveAs(t,"nms-order-infograph-screenshot.png"),e.style="",e.remove()):ct()})},1e3)}function Yt(){ot();const e=se.container.cloneNode("deep");e.style.width="420px",e.style.margin="0",e.style.borderRadius="0",document.body.appendChild(e),setTimeout(()=>{Ue.toBlob(e,{scale:4}).then(function(t){window.saveAs(t,"nms-order-tabular-view-screenshot.png"),e.style="",e.remove()})},1e3)}function Qt(){let e=ss(),t=new Blob([e],{type:"text/csv"});window.saveAs(t,"nms-order.csv")}function es(){let e=ts();navigator.clipboard.writeText(e).then(()=>{f.modals.exportModal.buttons.copyToClipBoard.textContent="Copied",setTimeout(()=>{f.modals.exportModal.buttons.copyToClipBoard.textContent="Copy Text to Clipboard"},900)})}function ts(){let e=o.latestUpdate+`

Week `+o.week+`
`+Y(o.map)+`
(`+Y(o.modifiers[0])+", "+Y(o.modifiers[1])+`)

`,t=[];return o.zones.forEach(s=>{if(s.includes("*")){const a=s.split("*")[1];let d="";switch(a){case"T#1":d="(Tengu x1)";break;case"T#2":d="(Tengu x2)";break;case"T#3":d="(Tengu x3)";break;case"D#1":d="(Disciple x1)";break;case"D#2":d="(Disciple x2)";break}t.push(s.replace(/\*[TD#1-3]+/g," "+d))}else t.push(s)}),be(t).forEach((s,a)=>{switch(a){case 0:e=e.concat("("+o.bonus[0].objective+" x"+o.bonus[0].amount+`)
`+(a+1)+". "+s.join(", ")+`
`);break;case 1:e=e.concat(a+1+". "+s.join(", ")+`
`);break;case 2:e=e.concat(a+1+". "+s.join(", ")+" ("+o.bossWave[0].modifier+`)

`);break;case 3:e=e.concat("("+o.bonus[1].objective+" x"+o.bonus[1].amount+`)
`+(a+1)+". "+s.join(", ")+`
`);break;case 4:e=e.concat(a+1+". "+s.join(", ")+`
`);break;case 5:e=e.concat(a+1+". "+s.join(", ")+" ("+o.bossWave[1].modifier+`)

`);break;case 6:e=e.concat("("+o.bonus[2].objective+" x"+o.bonus[2].amount+`)
`+(a+1)+". "+s.join(", ")+`
`);break;case 7:e=e.concat(a+1+". "+s.join(", ")+`
`);break;case 8:e=e.concat(a+1+". "+s.join(", ")+" ("+o.bossWave[2].modifier+`)

`);break;case 9:e=e.concat("("+o.bonus[3].objective+" x"+o.bonus[3].amount+`)
`+(a+1)+". "+s.join(", ")+`
`);break;case 10:e=e.concat(a+1+". "+s.join(", ")+`
`);break;case 11:e=e.concat(a+1+". "+s.join(", ")+" ("+o.bossWave[3].modifier+`)

`);break;case 12:e=e.concat("("+o.bonus[4].objective+" x"+o.bonus[4].amount+`)
`+(a+1)+". "+s.join(", ")+`
`);break;case 13:e=e.concat(a+1+". "+s.join(", ")+`
`);break;case 14:e=e.concat(a+1+". "+s.join(", ")+" ("+o.bossWave[4].modifier+`)

`);break}}),e=e.concat("Credits: "+o.credits),e}function ss(){let e=`Date, Week, Map, Modifier, Hazard
`+o.latestUpdate+", "+o.week+", "+Y(o.map)+", "+Y(o.modifiers[0])+", "+Y(o.modifiers[1])+`

Wave, Zone #1, Zone #2, Zone #3, Objective | Modifier
`,t=[];return o.zones.forEach(s=>{if(s.includes("*")){const a=s.split("*")[1];let d="";switch(a){case"T#1":d="(Tengu x1)";break;case"T#2":d="(Tengu x2)";break;case"T#3":d="(Tengu x3)";break;case"D#1":d="(Disciple x1)";break;case"D#2":d="(Disiciple x2)";break}t.push(s.replace(/\*[TD#1-3]+/g," "+d))}else t.push(s)}),be(t).forEach((s,a)=>{switch(a){case 0:e=e.concat(a+1+", "+s.join(", ")+`, 
`);break;case 1:e=e.concat(a+1+", "+s.join(", ")+", "+o.bonus[0].objective+" x"+o.bonus[0].amount+`
`);break;case 2:e=e.concat(a+1+", "+s.join(", ")+", "+o.bossWave[0].modifier+`
`);break;case 3:e=e.concat(a+1+", "+s.join(", ")+", "+o.bonus[1].objective+" x"+o.bonus[1].amount+`
`);break;case 4:e=e.concat(a+1+", "+s.join(", ")+`, 
`);break;case 5:e=e.concat(a+1+", "+s.join(", ")+", "+o.bossWave[1].modifier+`
`);break;case 6:e=e.concat(a+1+", "+s.join(", ")+", "+o.bonus[2].objective+" x"+o.bonus[2].amount+`
`);break;case 7:e=e.concat(a+1+", "+s.join(", ")+`, 
`);break;case 8:e=e.concat(a+1+", "+s.join(", ")+", "+o.bossWave[2].modifier+`
`);break;case 9:e=e.concat(a+1+", "+s.join(", ")+", "+o.bonus[3].objective+" x"+o.bonus[3].amount+`
`);break;case 10:e=e.concat(a+1+", "+s.join(", ")+`, 
`);break;case 11:e=e.concat(a+1+", "+s.join(", ")+", "+o.bossWave[3].modifier+`
`);break;case 12:e=e.concat(a+1+", "+s.join(", ")+", "+o.bonus[4].objective+" x"+o.bonus[4].amount+`
`);break;case 13:e=e.concat(a+1+", "+s.join(", ")+`, 
`);break;case 14:e=e.concat(a+1+", "+s.join(", ")+", "+o.bossWave[4].modifier+`

`);break}}),e=e.concat(`Credits
`+o.credits),e}function ns(){f.modals.exportModal.container.close()}function dt(){f.modals.updateModal.container.showModal(),window.scrollTo({top:0,behavior:"smooth"})}function ut(){f.modals.updateModal.container.close()}function as(){pe();let e=o;if(f.modals.updateModal.fields.username.value.trim().length>0)e.updatedBy=f.modals.updateModal.fields.username.value.trim(),e.latestUpdate=Qe(),fs(e),ut(),V("success","Recent Updated Successfully.");else{const t=document.createElement("p");t.classList.add("form-error-2"),t.textContent="Username must not be empty.",f.modals.updateModal.fields.username.insertAdjacentElement("afterend",t)}}function rs(){Z.buttons.edit.classList.add("setInvisible");const e=document.createElement("button");e.textContent="Cancel",e.classList.add("legend-cancel"),e.addEventListener("click",os);const t=document.createElement("button");t.textContent="Update",t.classList.add("legend-update"),t.addEventListener("click",is),Z.control.append(e,t);let n=[];for(let s=0;s<6;s++)n[s]=document.createElement("input"),n[s].classList.add("legend-edit-field");o.legend.length>0&&o.legend.forEach((s,a)=>n[a].value=s),document.querySelectorAll(".legend-list-4 li").forEach(s=>s.remove()),n.forEach(s=>{Z.communityLegend.append(s)})}function os(){document.querySelector(".legend-cancel").remove(),document.querySelector(".legend-update").remove(),Z.buttons.edit.classList.remove("setInvisible"),document.querySelectorAll(".legend-list-4 input").forEach(e=>e.remove()),o.legend.forEach(e=>{const t=document.createElement("li");t.textContent=e,t.classList.add("c-legend-item","mb-2"),Z.communityLegend.append(t)})}function is(){document.querySelector(".legend-cancel").remove(),document.querySelector(".legend-update").remove(),Z.buttons.edit.classList.remove("setInvisible"),document.querySelectorAll(".legend-list-4 input").forEach((e,t)=>{o.legend[t]=e.value,e.remove()}),dt(),o.legend.forEach(e=>{const t=document.createElement("li");t.textContent=e,t.classList.add("c-legend-item","mb-2"),Z.communityLegend.append(t)})}function ls(){f.buttons.bow.addEventListener("click",ms),f.nav[0].addEventListener("click",et),f.nav[1].addEventListener("click",Me),f.nav[2].addEventListener("click",Dt),v.buttons.template.addEventListener("click",le),v.mapSelection.addEventListener("change",le),i.mapSelection.addEventListener("change",le),v.buttons.clear.addEventListener("click",Te),v.buttons.process.addEventListener("click",Ee),i.buttons.next.addEventListener("click",Ot),i.buttons.back.addEventListener("click",Wt),i.buttons.process.addEventListener("click",Ee),i.buttons.clear.addEventListener("click",Te),c.buttons.edit.addEventListener("click",Vt),c.buttons.save.addEventListener("click",Ft),c.buttons.graphView.addEventListener("click",rt),c.buttons.singleView.addEventListener("click",Kt),c.buttons.tabularView.addEventListener("click",ot),r.buttons.previous.addEventListener("click",lt),r.buttons.next.addEventListener("click",Ut),r.buttons.reset.addEventListener("click",fe),r.buttons.recordMode.addEventListener("click",Nt),c.buttons.export.addEventListener("click",Xt),f.modals.exportModal.buttons.exportInfoGraphScreenshot.addEventListener("click",ct),f.modals.exportModal.buttons.exportTabularScreenshot.addEventListener("click",Yt),f.modals.exportModal.buttons.exportCSV.addEventListener("click",Qt),f.modals.exportModal.buttons.copyToClipBoard.addEventListener("click",es),f.modals.exportModal.buttons.close.addEventListener("click",ns),f.modals.updateModal.buttons.show.addEventListener("click",dt),f.modals.updateModal.buttons.close.addEventListener("click",ut),f.modals.updateModal.buttons.update.addEventListener("click",as),Z.buttons.edit.addEventListener("click",rs),window.oninput=()=>{pe(),i.fields.currentWeek.onchange=$e(),i.fields.wave_1.onchange=Xe(),i.fields.wave_6.onchange=Ze(),i.fields.wave_7.onchange=Ye()},c.buttons.share.addEventListener("click",async()=>{const e={title:"NMS Order",url:window.location.href};try{await navigator.share(e)}catch{}})}var cs=[{headshots:{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},killInsideDefArea:{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},ghostWeaponKills:{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},fireDmgKills:{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},killOutsideDefArea:{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"},pParryCounterAtk:{objective:"P.Parry Counter ATK",amount:15,svg:"b-parries.svg",tsvg:"td-b-pParryCounters.svg",png:"b-parries.png"},assassinateFromAbove:{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},rangedKills:{objective:"Ranged Kills",amount:20,svg:"b-rangedKills.svg",tsvg:"td-b-rangedKills.svg",png:"b-rangedKills.png"},assassinateCrits:{objective:"Assassinate | Crits",amount:10,svg:"b-crits.svg",tsvg:"td-b-assassinationsCrits.svg",png:"b-crits.png"}}],ds=[{wildfire:{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},eruption:{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},fightingBlind:{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},burningBlades:{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},toxicClouds:{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},slowedRevives:{modifier:"Slowed Revives",svg:"v-slowedRevives.svg",tsvg:"td-m-slowedRevives.svg",png:"v-slowedRevives.png"},immunity:{modifier:"Immunity",svg:"v-immunity.svg",tsvg:"td-m-immunity.svg",png:"v-immunity.png"},toolShortage:{modifier:"Tool Shortage",svg:"v-toolShortage.svg",tsvg:"td-m-toolShortage.svg",png:"v-toolShortage.png"}}],us=[{barbedArrows:{modifier:"barbed arrows",svg:"w-barbedArrows.svg",png:"w-barbedArrows.png",key:"barbed-arrows"},empoweredFoes:{modifier:"empowered foes",svg:"w-empoweredFoes.svg",png:"w-empoweredFoes.png",key:"empowered-foes"},immunity:{modifier:"immunity",svg:"w-immunity.svg",png:"w-immunity.png",key:"immunity"},incapacitated:{modifier:"incapacitated",svg:"w-incapacitated.svg",png:"w-w-incapacitated.png",key:"incapacitated"},reducedHealing:{modifier:"reduced healing",svg:"w-reducedHealing.svg",png:"w-reducedHealing.png",key:"reduced-healing"},slowedRevives:{modifier:"slowed revives",svg:"w-slowedRevives.svg",png:"w-slowedRevives.png",key:"slowed-revives"},toolShortage:{modifier:"tool shortage",svg:"w-toolShortage.svg",png:"w-toolShortage.png",key:"tool-shortage"}}],vs=[{hwachas:{modifier:"fire spirits, hwachas",svg:"w-hwachas.svg",png:"w-hwachas.png",key:"fire-spirits-hwachas"},eyesOfIyo:{modifier:"eyes of iyo",svg:"w-eyesOfIyo.svg",png:"w-eyesOfIyo.png",key:"eyes-of-iyo"},disciples:{modifier:"disciples of iyo",svg:"w-disciple.svg",png:"w-disciple.png",key:"disciples-of-iyo"}}],gs=[{bloodAndSteel:{map:"blood and steel",mapKey:"blood-and-steel",week:6,modifiers:["tool shortage","eyes of iyo"],zones:["Cliff-Cart","Island-Cart","Camp-Right","Island-Left","Island-Cart","Camp-Right","Cliff-Cart","Cliff-Top","Camp-Right","Island-Left","Island-Cart","Camp-Left","Island-Left","Camp-Right","Island-Cart*T#2","Cliff-Cart","Camp-Left","Island-Cart","Camp-Right*T#2","Cliff-Top","Cliff-Top","Camp-Left","Island-Cart","Island-Cart","Camp-Right","Island-Left","Island-Cart","Cliff-Top","Island-Left","Cliff-Top","Island-Left","Camp-Left","Cliff-Cart","Cliff-Top*T#2","Island-Left*T#2","Camp-Right*T#2","Island-Cart","Cliff-Top","Island-Left","Camp-Right","Island-Cart","Camp-Right","Island-Left","Camp-Right","Camp-Right"],bonus:[{objective:"Assassinate | Crits",amount:10,svg:"b-crits.svg",tsvg:"td-b-assassinationsCrits.svg",png:"b-crits.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},{objective:"P.Parry Counter ATK",amount:15,svg:"b-parries.svg",tsvg:"td-b-pParryCounters.svg",png:"b-parries.png"}],bossWave:[{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Slowed Revives",svg:"v-slowedRevives.svg",tsvg:"td-m-slowedRevives.svg",png:"v-slowedRevives.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[12,15],shaman:[9],background:"Blood-And-Steel.webp",key:"bloodAndSteel",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},bloodInTheSnow:{map:"blood in the snow",mapKey:"blood-in-the-snow",week:5,modifiers:["immunity","hwachas"],zones:["Camp","Mine","Outpost","Camp","Outpost","Mine","Outpost","Camp","Mine","Outpost*T#2","Mine","Outpost","Camp","Outpost","Camp","Mine","Camp","Outpost","Mine","Mine","Outpost","Mine","Mine*T#2","Outpost","Camp*T#1","Mine*T#2","Outpost*T#3","Outpost","Mine","Outpost","Outpost","Mine","Outpost","Camp","Camp","Mine","Mine","Outpost","Camp","Mine","Camp","Camp","Camp","Camp","Mine"],bonus:[{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"}],bossWave:[{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[15],background:"Blood-In-The-Snow.webp",key:"bloodInTheSnow",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},theDefenseOfAoiVillage:{map:"the defense of aoi village",mapKey:"the-defense-of-aoi-village",week:2,modifiers:["reduced healing","hwachas"],zones:["Villa","Farm-Right","Side","Beach","Farm-Right","Villa","Villa","Side","Farm-Left","Farm-Right*T#2","Farm-Left","Beach","Beach","Villa","Side","Beach","Villa","Farm-Right","Villa","Beach","Farm-Right","Farm-Left","Villa*T#2","Beach","Villa","Side","Side","Farm-Right","Beach","Villa","Villa","Villa","Farm-Left","Side","Villa","Villa","Beach","Beach","Farm-Left","Villa","Farm-Left","Beach","Farm-Right","Villa","Farm-Left"],bonus:[{objective:"P.Parry Counter ATK",amount:15,svg:"b-parries.svg",tsvg:"td-b-pParryCounters.svg",png:"b-parries.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"},{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},{objective:"Ranged Kills",amount:20,svg:"b-rangedKills.svg",tsvg:"td-b-rangedKills.svg",png:"b-rangedKills.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"}],bossWave:[{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.svg"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.svg"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[9,12,15],bears:[9,15],background:"the-defense-of-aoi-village.webp",key:"theDefenseOfAoiVillage",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},theShadowsOfWar:{map:"the shadows of war",mapKey:"the-shadows-of-war",week:7,modifiers:["reduced healing","hwachas"],zones:["Dojo Middle","Stable","Barracks Left","Dojo Right","Stable","Barracks Right","Stable","Dojo Deep","Barracks Middle","Stable","Dojo Middle","Barracks Right","Barracks Right","Stable","Dojo Right*T#2","Dojo Deep","Stable","Barracks Left","Barracks Right*T#2","Dojo Deep","Barracks Middle","Barracks Middle","Dojo Deep","Stable","Stable","Barracks Left","Barracks Right","Dojo Right","Dojo Middle","Stable","Dojo Right","Stable","Stable","Stable","Barracks Right","Barracks Left","Barracks Middle","Dojo Middle","Stable","Dojo Deep","Stable","Stable","Stable","Dojo Deep","Dojo Middle"],bonus:[{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"}],bossWave:[{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[15],background:"the-shadows-of-war.webp",key:"theShadowsOfWar",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},theShoresOfVengeance:{map:"the shores of vengeance",mapKey:"the-shores-of-vengeance",week:4,modifiers:["empowered foes","disciples"],zones:["Beach","Boat","Cliff-Hut","Beach","Beach","Boat","Beach","Cliff-Hut","Beach","Beach","Cliff-Forest","Boat","Boat","Cliff-Forest","Beach*T#2","Beach","Beach","Cliff-Forest","Beach*T#2","Cliff-Forest","Beach","Boat","Cliff-Forest","Cliff-Hut","Boat","Beach","Boat","Boat","Beach","Beach","Beach","Beach","Boat","Cliff-Forest","Beach","Boat","Beach","Beach","Cliff-Hut","Boat","Beach","Cliff-Forest","Cliff-Forest","Boat","Beach"],bonus:[{objective:"Ranged Kills",amount:20,svg:"b-rangedKills.svg",tsvg:"td-b-rangedKills.svg",png:"b-rangedKills.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},{objective:"Assassinate | Crits",amount:10,svg:"b-crits.svg",tsvg:"td-b-assassinationsCrits.svg",png:"b-crits.png"},{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"}],bossWave:[{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[12,15],background:"The-Shores-Of-Vengeance.webp",key:"theShoresOfVengeance",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},twilightAndAshes:{map:"twilight and ashes",mapKey:"twilight-and-ashes",week:3,modifiers:["incapacitated","disciples"],zones:["Obelisk","Boulder L","Side LH","Cliff L","Side LH","Side LH","Boulder L*D#2","Obelisk*D#2","Cliff L*D#2","Cliff L","Boulder L","Side LH","Obelisk","Side LH","Boulder LH*T#2","Cliff L","Obelisk","Boulder L","Side LH*T#2","Obelisk","Obelisk","Obelisk","Boulder LH","Obelisk","Obelisk","Cliff L","Side LH","Cliff LH","Obelisk","Obelisk","Side LH","Boulder L","Side LH","Obelisk*D#1","Boulder LH","Boulder L","Boulder LH","Obelisk","Boulder L","Cliff L","Cliff LH","Obelisk","Cliff L","Side LH","Obelisk"],bonus:[{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"}],bossWave:[{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Immunity",svg:"v-immunity.svg",tsvg:"td-m-immunity.svg",png:"v-immunity.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[],bears:[12,15],background:"Twilight-And-Ashes.webp",key:"twilightAndAshes",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}}}];Object.values(cs)[0];Object.values(ds)[0];const We=Object.values(us)[0],Ve=Object.values(vs)[0];let G=Object.values(gs)[0];const vt="/templates/-N70N_ziMiaukkfPTVb_.json",Ce="https://gotlegends-nms-order-default-rtdb.europe-west1.firebasedatabase.app";let o={},_e=0;gt();let Fe="text";function ze(e){Fe=e}function Le(e){o=e}function Ke(e){Object.entries(G).forEach(t=>{t[1].mapKey==e?t[1].selected=!0:t[1].selected=!1})}function gt(){fetch(Ce+"/testBows.json").then(e=>e.json()).then(e=>{_e=parseInt(e),f.totalBows.textContent=_e})}function ms(){fetch(Ce+"/testBows.json",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(_e+1)}).then(e=>gt())}function mt(){return fetch(Ce+vt).then(e=>e.json()).then(e=>(G=e,Object.entries(G).filter(t=>t[1].selected).length>0?o=Object.entries(G).filter(t=>t[1].selected)[0][1]:(o=G.bloodAndSteel,G.bloodAndSteel.selected=!0),Promise.resolve({templates:G,currentTemplate:o})))}function fs(e){G[e.key]=e,fetch(Ce+vt,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}mt();et();ls();
