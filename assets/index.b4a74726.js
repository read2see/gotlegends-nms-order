const yt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function n(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerpolicy&&(d.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?d.credentials="include":a.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(a){if(a.ep)return;a.ep=!0;const d=n(a);fetch(a.href,d)}};yt();var ge=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Et={exports:{}};(function(e,t){(function(n,s){s()})(ge,function(){function n(w,b){return typeof b=="undefined"?b={autoBom:!1}:typeof b!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(w.type)?new Blob(["\uFEFF",w],{type:w.type}):w}function s(w,b,_){var k=new XMLHttpRequest;k.open("GET",w),k.responseType="blob",k.onload=function(){A(k.response,b,_)},k.onerror=function(){console.error("could not download file")},k.send()}function a(w){var b=new XMLHttpRequest;b.open("HEAD",w,!1);try{b.send()}catch{}return 200<=b.status&&299>=b.status}function d(w){try{w.dispatchEvent(new MouseEvent("click"))}catch{var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),w.dispatchEvent(b)}}var g=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ge=="object"&&ge.global===ge?ge:void 0,T=g.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),A=g.saveAs||(typeof window!="object"||window!==g?function(){}:"download"in HTMLAnchorElement.prototype&&!T?function(w,b,_){var k=g.URL||g.webkitURL,W=document.createElement("a");b=b||w.name||"download",W.download=b,W.rel="noopener",typeof w=="string"?(W.href=w,W.origin===location.origin?d(W):a(W.href)?s(w,b,_):d(W,W.target="_blank")):(W.href=k.createObjectURL(w),setTimeout(function(){k.revokeObjectURL(W.href)},4e4),setTimeout(function(){d(W)},0))}:"msSaveOrOpenBlob"in navigator?function(w,b,_){if(b=b||w.name||"download",typeof w!="string")navigator.msSaveOrOpenBlob(n(w,_),b);else if(a(w))s(w,b,_);else{var k=document.createElement("a");k.href=w,k.target="_blank",setTimeout(function(){d(k)})}}:function(w,b,_,k){if(k=k||open("","_blank"),k&&(k.document.title=k.document.body.innerText="downloading..."),typeof w=="string")return s(w,b,_);var W=w.type==="application/octet-stream",Be=/constructor/i.test(g.HTMLElement)||g.safari,he=/CriOS\/[\d]+/.test(navigator.userAgent);if((he||W&&Be||T)&&typeof FileReader!="undefined"){var J=new FileReader;J.onloadend=function(){var ne=J.result;ne=he?ne:ne.replace(/^data:[^;]*;/,"data:attachment/file;"),k?k.location.href=ne:location=ne,k=null},J.readAsDataURL(w)}else{var de=g.URL||g.webkitURL,ue=de.createObjectURL(w);k?k.location=ue:location.href=ue,k=null,setTimeout(function(){de.revokeObjectURL(ue)},4e4)}});g.saveAs=A.saveAs=A,e.exports=A})})(Et);var Ue={exports:{}};(function(e,t){(function(n){var s=pt(),a=bt(),d=ht(),g=wt(),T={imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1},A={toSvg:w,toPng:_,toJpeg:k,toBlob:W,toPixelData:b,toCanvas:Be,impl:{fontFaces:d,images:g,util:s,inliner:a,options:{}}};e.exports=A;function w(f,l){return l=l||{},he(l),Promise.resolve(f).then(function(y){return de(y,l.filter,!0)}).then(ue).then(ne).then(h).then(function(y){return ft(y,l.width||s.width(f),l.height||s.height(f))});function h(y){return l.bgcolor&&(y.style.backgroundColor=l.bgcolor),l.width&&(y.style.width=l.width+"px"),l.height&&(y.style.height=l.height+"px"),l.style&&Object.keys(l.style).forEach(function(S){y.style[S]=l.style[S]}),y}}function b(f,l){return J(f,l||{}).then(function(h){return h.getContext("2d").getImageData(0,0,s.width(f),s.height(f)).data})}function _(f,l){return J(f,l||{}).then(function(h){return h.toDataURL()})}function k(f,l){return l=l||{},J(f,l).then(function(h){return h.toDataURL("image/jpeg",l.quality||1)})}function W(f,l){return J(f,l||{}).then(s.canvasToBlob)}function Be(f,l){return J(f,l||{})}function he(f){typeof f.imagePlaceholder=="undefined"?A.impl.options.imagePlaceholder=T.imagePlaceholder:A.impl.options.imagePlaceholder=f.imagePlaceholder,typeof f.cacheBust=="undefined"?A.impl.options.cacheBust=T.cacheBust:A.impl.options.cacheBust=f.cacheBust,typeof f.useCredentials=="undefined"?A.impl.options.useCredentials=T.useCredentials:A.impl.options.useCredentials=f.useCredentials}function J(f,l){return w(f,l).then(s.makeImage).then(s.delay(100)).then(function(y){var S=typeof l.scale!="number"?1:l.scale;console.log("scale",S);var p=h(f,S),B=p.getContext("2d");return y&&(B.scale(S,S),l.canvas&&l.canvas.width&&(p.width=l.canvas.width),l.canvas&&l.canvas.height&&(p.height=l.canvas.height),l.canvas?(console.log("canv",l.canvas),B.drawImage(y,l.canvas.sx||0,l.canvas.sy||0,l.canvas.sw||l.width,l.canvas.sh||l.height,l.canvas.dx||0,l.canvas.dy||0,l.canvas.dw||l.width,l.canvas.dh||l.height)):B.drawImage(y,0,0)),p});function h(y,S){var p=document.createElement("canvas");if(p.width=(l.width||s.width(y))*S,p.height=(l.height||s.height(y))*S,console.log(p.width,p.height),l.bgcolor){var B=p.getContext("2d");B.fillStyle=l.bgcolor,B.fillRect(0,0,p.width,p.height)}return p}}function de(f,l,h){if(!h&&l&&!l(f))return Promise.resolve();return Promise.resolve(f).then(y).then(function(E){return S(f,E,l)}).then(function(E){return B(f,E)});function y(E){return E instanceof HTMLCanvasElement?s.makeImage(E.toDataURL()):E.cloneNode(!1)}function S(E,L,$){var j=E.tagName==="use"?p(E):E.childNodes;if(j.length===0)return Promise.resolve(L);return ae(L,s.asArray(j),$).then(function(){return L});function ae(re,U,M){var z=Promise.resolve();return U.forEach(function(ee){z=z.then(function(){return de(ee,M)}).then(function(R){R&&re.appendChild(R)})}),z}}function p(E){var L=document.getElementById(E.href.baseVal.replace("#",""));return[L.cloneNode(!0)]}function B(E,L){if(!(L instanceof Element))return L;return Promise.resolve().then($).then(j).then(ae).then(re).then(function(){return L});function $(){U(window.getComputedStyle(E),L.style),s.isChrome()&&L.style.marker&&(L.tagName==="line"||L.tagName==="path")&&(L.style.marker="");function U(M,z){M.cssText?(z.cssText=M.cssText,z.font=M.font):ee(M,z);function ee(R,Z){s.asArray(R).forEach(function(v){Z.setProperty(v,R.getPropertyValue(v),R.getPropertyPriority(v))})}}}function j(){[":before",":after"].forEach(function(M){U(M)});function U(M){var z=window.getComputedStyle(E,M),ee=z.getPropertyValue("content");if(ee===""||ee==="none")return;var R=s.uid(),Z=L.getAttribute("class");Z&&L.setAttribute("class",Z+" "+R);var v=document.createElement("style");v.appendChild(C(R,M,z)),L.appendChild(v);function C(I,x,D){var N="."+I+":"+x,xe=D.cssText?Se(D):we(D);return document.createTextNode(N+"{"+xe+"}");function Se(q){var ve=q.getPropertyValue("content");return q.cssText+" content: "+ve+";"}function we(q){return s.asArray(q).map(ve).join("; ")+";";function ve(Ie){return Ie+": "+q.getPropertyValue(Ie)+(q.getPropertyPriority(Ie)?" !important":"")}}}}}function ae(){E instanceof HTMLTextAreaElement&&(L.innerHTML=E.value),E instanceof HTMLInputElement&&L.setAttribute("value",E.value)}function re(){L instanceof SVGElement&&(L.setAttribute("xmlns","http://www.w3.org/2000/svg"),L instanceof SVGRectElement&&["width","height"].forEach(function(U){var M=L.getAttribute(U);!M||L.style.setProperty(U,M)}))}}}function ue(f){return d.resolveAll().then(function(l){var h=document.createElement("style");return f.appendChild(h),h.appendChild(document.createTextNode(l)),f})}function ne(f){return g.inlineAll(f).then(function(){return f})}function ft(f,l,h){return Promise.resolve(f).then(function(y){return y.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(y)}).then(s.escapeXhtml).then(function(y){return'<foreignObject x="0" y="0" width="100%" height="100%">'+y+"</foreignObject>"}).then(function(y){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+l+'" height="'+h+'">'+y+"</svg>"}).then(function(y){return"data:image/svg+xml;charset=utf-8,"+y})}function pt(){return{escape:ae,parseExtension:l,mimeType:h,dataAsUrl:j,isDataUrl:y,canvasToBlob:p,resolveUrl:B,getAndEncode:$,uid:E(),delay:U,asArray:M,isChrome:re,escapeXhtml:z,makeImage:L,width:ee,height:R};function f(){var v="application/font-woff",C="image/jpeg";return{woff:v,woff2:v,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:C,jpeg:C,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function l(v){var C=/\.([^\.\/]*?)(\?|$)/g.exec(v);return C?C[1]:""}function h(v){var C=l(v).toLowerCase();return f()[C]||""}function y(v){return v.search(/^(data:)/)!==-1}function S(v){return new Promise(function(C){for(var I=window.atob(v.toDataURL().split(",")[1]),x=I.length,D=new Uint8Array(x),N=0;N<x;N++)D[N]=I.charCodeAt(N);C(new Blob([D],{type:"image/png"}))})}function p(v){return v.toBlob?new Promise(function(C){v.toBlob(C)}):S(v)}function B(v,C){var I=document.implementation.createHTMLDocument(),x=I.createElement("base");I.head.appendChild(x);var D=I.createElement("a");return I.body.appendChild(D),x.href=C,D.href=v,D.href}function E(){var v=0;return function(){return"u"+C()+v++;function C(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function L(v){return v==="data:,"?Promise.resolve():new Promise(function(C,I){var x=new Image;A.impl.options.useCredentials&&(x.crossOrigin="use-credentials"),x.onload=function(){C(x)},x.onerror=I,x.src=v})}function $(v){var C=3e4;return A.impl.options.cacheBust&&(v+=(/\?/.test(v)?"&":"?")+new Date().getTime()),new Promise(function(I){var x=new XMLHttpRequest;x.onreadystatechange=xe,x.ontimeout=Se,x.responseType="blob",x.timeout=C,A.impl.options.useCredentials&&(x.withCredentials=!0),x.open("GET",v,!0),x.send();var D;if(A.impl.options.imagePlaceholder){var N=A.impl.options.imagePlaceholder.split(/,/);N&&N[1]&&(D=N[1])}function xe(){if(x.readyState===4){if(x.status!==200){D?I(D):we("cannot fetch resource: "+v+", status: "+x.status);return}var q=new FileReader;q.onloadend=function(){var ve=q.result.split(/,/)[1];I(ve)},q.readAsDataURL(x.response)}}function Se(){D?I(D):we("timeout of "+C+"ms occured while fetching resource: "+v)}function we(q){console.error(q),I("")}})}function j(v,C){return"data:"+C+";base64,"+v}function ae(v){return v.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function re(){return/chrome/i.test(navigator.userAgent)}function U(v){return function(C){return new Promise(function(I){setTimeout(function(){I(C)},v)})}}function M(v){for(var C=[],I=v.length,x=0;x<I;x++)C.push(v[x]);return C}function z(v){return v.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ee(v){var C=Z(v,"border-left-width"),I=Z(v,"border-right-width");return v.scrollWidth+C+I}function R(v){var C=Z(v,"border-top-width"),I=Z(v,"border-bottom-width");return v.scrollHeight+C+I}function Z(v,C){var I=window.getComputedStyle(v).getPropertyValue(C);return parseFloat(I.replace("px",""))}}function bt(){var f=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:S,shouldProcess:l,impl:{readUrls:h,inline:y}};function l(p){return p.search(f)!==-1}function h(p){for(var B=[],E;(E=f.exec(p))!==null;)B.push(E[1]);return B.filter(function(L){return!s.isDataUrl(L)})}function y(p,B,E,L){return Promise.resolve(B).then(function(j){return E?s.resolveUrl(j,E):j}).then(L||s.getAndEncode).then(function(j){return s.dataAsUrl(j,s.mimeType(B))}).then(function(j){return p.replace($(B),"$1"+j+"$3")});function $(j){return new RegExp(`(url\\(['"]?)(`+s.escape(j)+`)(['"]?\\))`,"g")}}function S(p,B,E){if(L())return Promise.resolve(p);return Promise.resolve(p).then(h).then(function($){var j=Promise.resolve(p);return $.forEach(function(ae){j=j.then(function(re){return y(re,ae,B,E)})}),j});function L(){return!l(p)}}}function ht(){return{resolveAll:f,impl:{readAll:l}};function f(){return l().then(function(h){return Promise.all(h.map(function(y){return y.resolve()}))}).then(function(h){return h.join(`
`)})}function l(){return Promise.resolve(s.asArray(document.styleSheets)).then(y).then(h).then(function(p){return p.map(S)});function h(p){return p.filter(function(B){return B.type===CSSRule.FONT_FACE_RULE}).filter(function(B){return a.shouldProcess(B.style.getPropertyValue("src"))})}function y(p){var B=[];return p.forEach(function(E){if(E.hasOwnProperty("cssRules"))try{s.asArray(E.cssRules||[]).forEach(B.push.bind(B))}catch(L){console.log("Error while reading CSS rules from "+E.href,L.toString())}}),B}function S(p){return{resolve:function(){var E=(p.parentStyleSheet||{}).href;return a.inlineAll(p.cssText,E)},src:function(){return p.style.getPropertyValue("src")}}}}}function wt(){return{inlineAll:l,impl:{newImage:f}};function f(h){return{inline:y};function y(S){return s.isDataUrl(h.src)?Promise.resolve():Promise.resolve(h.src).then(S||s.getAndEncode).then(function(p){return s.dataAsUrl(p,s.mimeType(h.src))}).then(function(p){return new Promise(function(B,E){h.onload=B,h.onerror=B,h.src=p})})}}function l(h){if(!(h instanceof Element))return Promise.resolve(h);return y(h).then(function(){return h instanceof HTMLImageElement?f(h).inline():Promise.all(s.asArray(h.childNodes).map(function(S){return l(S)}))});function y(S){var p=S.style.getPropertyValue("background");return p?a.inlineAll(p).then(function(B){S.style.setProperty("background",B,S.style.getPropertyPriority("background"))}).then(function(){return S}):Promise.resolve(S)}}}})()})(Ue);var Ne=Ue.exports;function F(e,t){typeof m.errors.previousAlert!="undefined"&&m.errors.previousAlert.remove(),window.scrollTo({top:0,behavior:"smooth"});const n=document.createElement("p");n.innerText=t,m.nav[0].parentElement.insertAdjacentElement("beforebegin",n),e=="error"?n.classList.add("error-alert","slide-in"):e=="success"&&n.classList.add("success-alert","slide-in"),m.errors.previousAlert=document.querySelectorAll(".error-alert")[0],m.errors.previousAlert_2=document.querySelectorAll(".success-alert")[0],typeof m.errors.previousAlert!="undefined"&&setTimeout(function(){n.classList.replace("slide-in","fade-out"),setTimeout(()=>m.errors.previousAlert.remove(),500)},3e3),typeof m.errors.previousAlert_2!="undefined"&&setTimeout(function(){n.classList.replace("slide-in","fade-out"),setTimeout(()=>m.errors.previousAlert_2.remove(),500)},3e3)}function kt(e,t,n){F(e,t),n()}function K(e){return typeof e!="undefined"}function le(e){return e.length==0}function Ct(e){return e.length>=16}function te(e,t,n){return e.replace(t,"").length>n}function Ge(e){return e.includes(",")}function Je(e){return e.split(",").length==3}function $e(e){return typeof e!="string"?!1:!isNaN(parseInt(e.trim()))}function Lt(e,t){const n=document.createElement("div");n.classList.add("caught-errors");const s=document.createElement("h2");s.classList.add("caught-errors-title"),s.textContent="Errors Report";const a=document.createElement("ul");a.classList.add("error-list");for(let d=0;d<e.length;d++)if(d<t){const g=document.createElement("li");g.classList.add("error-item"),g.textContent=e[d],a.append(g)}n.append(s,a),u.container.insertAdjacentElement("beforebegin",n)}function G(e,t){const n=document.createElement("ul");n.classList.add("form-errors-container"),K(e)&&(e.forEach(s=>{const a=Bt(s);n.append(a)}),t.insertAdjacentElement("afterend",n))}function Bt(e){const t=document.createElement("li");return t.classList.add("form-error"),t.textContent=e,t}function xt(e){switch(e){case 1:return Ze();case 2:return Xe();case 3:return Ye();case 4:return Qe()}}function Ze(){let e=[];if(le(i.fields.currentWeek.value.trim())){let a="Current week was left empty.";e.push(a)}if(te(i.fields.currentWeek.value.trim(),"",2)){let a="Current week exceeded maximum ("+2+") characters.";e.push(a)}if(!$e(i.fields.currentWeek.value.trim())){let a="Provided current week ("+i.fields.currentWeek.value+") is not a valid number.";e.push(a)}G(e,i.fields.currentWeek);let t=[];if(te(i.fields.credits.value.trim(),"",78)){let a="Credits exceeded maximum ("+78+") characters.";t.push(a)}G(t,i.fields.credits);let n=[];if(te(i.fields.version.value.trim(),"",11)){let a="Version exceeded maximum ("+11+") characters.";n.push(a)}return G(n,i.fields.version),!e.concat(t).concat(n).length>0}function Xe(){return Me([i.fields.wave_1,i.fields.wave_2,i.fields.wave_3,i.fields.wave_4,i.fields.wave_5],1)}function Ye(){return Me([i.fields.wave_6,i.fields.wave_7,i.fields.wave_8,i.fields.wave_9,i.fields.wave_10],6)}function Qe(){return Me([i.fields.wave_11,i.fields.wave_12,i.fields.wave_13,i.fields.wave_14,i.fields.wave_15],11)}function Me(e,t){let n=[],s=e;for(let a=0;a<s.length;a++){let d=[];if(!Ge(s[a].value)){let g="Wave ["+(a+t)+"] is not comma separated.";n.push(g),d.push(g)}if(Je(s[a].value))s[a].value.split(",").forEach((g,T)=>{if(le(g.trim())){let A="Zone ["+(a+t)+"."+(T+1)+"] is empty.";n.push(A),d.push(A)}if(te(g.trim(),/\*[T|D]#\d/g,15)){let A="Zone ["+(a+t)+"."+(T+1)+"] exceeded maximum ("+15+") characters.";n.push(A),d.push(A)}});else{let g="Missing zones in wave ["+(a+t)+']. Use "," to separate each zone except for the last zone in the wave.';n.push(g),d.push(g)}G(d,s[a])}return!n.length>0}function pe(){document.querySelectorAll(".form-errors-container").forEach(e=>{K(e)&&e.remove()}),document.querySelectorAll(".form-error").forEach(e=>{K(e)&&e.remove()})}function St(){K(document.querySelectorAll(".caught-errors")[0])&&document.querySelectorAll(".caught-errors")[0].remove()}function P(e,t,n){K(e[t]&&e[t].length>0)||(e[t]=[]),e[t].push(n)}function Ae(e,t=[]){return e.forEach(n=>{Array.isArray(n)?Ae(n,t):t.push(n)}),t}function It(){let e=u.textArea.value,t=e.split(`
`),n={};if(le(e.trim())){let s="No data were provided.";kt("error",s,()=>{u.textArea.classList.add("red-border")}),P(n,"data",s)}else{if(!Ct(t)){let s="Insufficient data please use a template and modify it as needed.";F("error",s),P(n,"pattern",s)}if(K(t[0])&&le(t[0].trim())){let s="Current week was left empty.";F("error",s),P(n,"currentWeek",s)}if(K(t[0])&&te(t[0].trim(),"",2)){let s="Current week exceeded maximum ("+2+") characters.";F("error",s),P(n,"currentWeek",s)}if(K(t[0])&&!$e(t[0].trim())){let s="Provided current week ("+t[0]+") is not a valid number.";F("error",s),P(n,"currentWeek",s)}if(K(t[3])&&le(t[3].trim())){let s="Missing Hazard at line 4.";F("error",s),P(n,"hazard",s)}if(t.slice(1,16).forEach((s,a)=>{if(!Ge(s)){let d="Wave ["+(a+1)+"] is not comma separated.";F("error",d),P(n,"wave_"+(a+1),d),G(n["wave_"+(a+1)],i.fields["wave_"+(a+1)])}if(Je(s))s.split(",").forEach((d,g)=>{if(le(d.trim())){let T="Zone ["+(a+1)+"."+(g+1)+"] is empty.";F("error",T),P(n,"wave_"+(a+1),T),G(n["wave_"+(a+1)],i.fields["wave_"+(a+1)])}if(te(d.trim(),/\*[T|D#\d]+/g,15)){let T="Zone ["+(a+1)+"."+(g+1)+"] exceeded maximum ("+15+") characters.";F("error",T),P(n,"wave_"+(a+1),T),G(n["wave_"+(a+1)],i.fields["wave_"+(a+1)])}});else{let d="Missing zones in wave ["+(a+1)+']. Use "," to separate each zone except for the last zone in the wave.';F("error",d),P(n,"wave_"+(a+1),d),G(n["wave_"+(a+1)],i.fields["wave_"+(a+1)])}}),K(u.optionals.credits)&&te(u.optionals.credits.value.trim(),"",78)){let s="Credits exceeded maximum ("+78+") characters.";F("error",s),P(n,"credits",s),G(n.credits,formElements.credits)}if(K(u.optionals.version)&&te(u.optionals.version.value.trim(),"",11)){let s="Version exceeded maximum ("+11+") characters.";F("error",s),P(n,"version",s),G(n.version,formElements.version)}}return Ae(Object.values(n)).length>0&&Lt(Ae(Object.values(n)),5),!Object.values(n).length>0}function At(e){const t=["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"];let n=-1;switch(e){case 0:n=t[0];break;case 1:n=t[1];break;case 2:n=t[2];break;case 3:n=t[3];break;case 4:n=t[4];break;case 5:n=t[5];break;case 6:n=t[6];break;case 7:n=t[7];break;case 8:n=t[8];break;case 9:n=t[9];break;case 10:n=t[10];break;case 11:n=t[11];break}return n}function Tt(e){const t=[0,1,2,3,4,5,6,7,8,9,10,11];let n=-1;switch(e){case"Jan":n=t[0];break;case"Feb":n=t[1];break;case"March":n=t[2];break;case"April":n=t[3];break;case"May":n=t[4];break;case"June":n=t[5];break;case"July":n=t[6];break;case"Aug":n=t[7];break;case"Sept":n=t[8];break;case"Oct":n=t[9];break;case"Nov":n=t[10];break;case"Dec":n=t[11];break}return n}function jt(e){let t=[];return t=e.split(" "),t[0]=parseInt(t[0]),t[1]=Tt(t[1]),t[2]=parseInt(t[2]),new Date(t[2],t[1],t[0])}function _t(e){let t=new Date(e);t=jt(e);let n=[t.getFullYear(),t.getMonth()+1,t.getDate()];return n.forEach((s,a)=>{s<10&&(n[a]="0".concat(s))}),t=n[0]+"-"+n[1]+"-"+n[2],t}function ye(e){return e.getDate()+" "+At(e.getMonth())+" "+String(e.getFullYear()).substring(2)}function et(e){let t={};return e=="now"||e==""||e==null?t=new Date:t=new Date(e),t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}const m={app:document.getElementById("app"),subApp:document.getElementById("sub-app"),nav:document.querySelectorAll(".nav-method-item"),totalBows:document.getElementById("bows"),upateDateContainer:document.getElementById("update-date"),updatedByContainer:document.getElementById("updated-by"),latestUpdate:document.getElementById("time-stamp"),updatedBy:document.getElementById("updated-by-person"),headerContainer:document.querySelector(".header-container"),wavesHeading:document.getElementById("waves-heading"),modals:{exportModal:{container:document.getElementById("export-modal"),buttons:{close:document.getElementById("close-export-modal"),exportInfoGraphScreenshot:document.getElementById("info-graph-screenshot-btn"),exportTabularScreenshot:document.getElementById("tabular-view-screenshot-btn"),exportCSV:document.getElementById("csv-export-btn"),copyToClipBoard:document.getElementById("copy-to-clipboard-btn")}},updateModal:{container:document.getElementById("update-modal"),fields:{username:document.getElementById("username")},buttons:{close:document.querySelector("#update-modal .close"),show:document.getElementById("update-modal-btn"),update:document.getElementById("m-update-btn")}}},buttons:{bow:document.getElementById("bow-btn"),lightsOn:document.getElementById("lights-on"),lightsOff:document.getElementById("lights-off"),share:document.getElementById("share"),singleView:document.getElementById("toggle-single-view-btn")},anchors:{screenshot:document.getElementById("infograph-screeshot-link")},errors:{previousAlert:document.querySelectorAll(".error-alert")[0]}},u={container:document.getElementById("text-panel"),textArea:document.getElementById("text-area-a0"),required:{weeklyModifier:document.getElementById("weekly-modifier-txt"),weeklyHazard:document.getElementById("weekly-hazard-txt")},optionals:{credits:document.getElementById("optional-credits"),version:document.getElementById("optional-version"),date:document.getElementById("optional-date")},mapSelection:document.getElementById("map-selection-txt"),buttons:{template:document.getElementById("template-txt"),process:document.getElementById("process-txt"),clear:document.getElementById("clear-txt")}},i={container:document.getElementById("form-container"),mapSelection:document.getElementById("map-selection-form"),subforms:{_1:document.getElementById("subform-1"),_2:document.getElementById("subform-2"),_3:document.getElementById("subform-3"),_4:document.getElementById("subform-4")},fields:{currentWeek:document.getElementById("current-week"),weeklyModifier:document.getElementById("weekly-modifier"),weeklyHazard:document.getElementById("weekly-hazard"),version:document.getElementById("version"),credits:document.getElementById("credits"),date:document.getElementById("date"),wave_1:document.getElementById("wave-1"),wave_2:document.getElementById("wave-2"),wave_3:document.getElementById("wave-3"),wave_4:document.getElementById("wave-4"),wave_5:document.getElementById("wave-5"),wave_6:document.getElementById("wave-6"),wave_7:document.getElementById("wave-7"),wave_8:document.getElementById("wave-8"),wave_9:document.getElementById("wave-9"),wave_10:document.getElementById("wave-10"),wave_11:document.getElementById("wave-11"),wave_12:document.getElementById("wave-12"),wave_13:document.getElementById("wave-13"),wave_14:document.getElementById("wave-14"),wave_15:document.getElementById("wave-15")},buttons:{back:document.getElementById("back-form-a0"),clear:document.getElementById("clear-form-a0"),next:document.getElementById("next-form-a0"),process:document.getElementById("process-form-a0")},state:{current:1}},X={container:document.getElementById("legend-container"),control:document.querySelector(".legend-control"),communityLegend:document.querySelector(".legend-list-4"),buttons:{legend:document.getElementById("legend-btn"),edit:document.getElementById("edit-legend-btn")}},c={container:document.getElementById("info-graph"),backDrop:document.querySelector(".back-drop"),fallBackTitle:document.getElementById("fallback-title"),bonusWaves:document.querySelectorAll(".bonus-i"),bossWaves:document.querySelectorAll(".boss-i"),waveBorders:document.querySelectorAll(".wave-border"),zones:document.querySelectorAll(".zone"),specialEnemies:document.querySelectorAll(".special-enemies"),bonusObjectives:document.querySelectorAll(".bonus-objective"),bonusAmounts:document.querySelectorAll(".amount"),bossWavesModifiers:document.querySelectorAll(".boss-modifier"),currentWeek:document.getElementById("info-graph-week"),weeklyModifier:document.getElementById("info-graph-weekly-modifier"),weeklyHazard:document.getElementById("info-graph-weekly-hazard"),credits:document.getElementById("info-graph-credits"),date:document.getElementById("info-graph-date"),version:document.getElementById("info-graph-version"),state:{edit:!0},buttons:{edit:document.getElementById("edit-infograph"),save:document.getElementById("save-edits"),graphView:document.getElementById("toggle-infograph-view-btn"),singleView:document.getElementById("toggle-single-view-btn"),tabularView:document.getElementById("toggle-tabular-view-btn"),share:document.getElementById("share"),export:document.getElementById("export-modal-btn")}},r={container:document.getElementById("single-wave-view"),wave_g_container:document.querySelector(".sv-wave-container"),wave_count:document.querySelector(".sv-wave-number"),wave_s_container:document.querySelector(".sv-wave"),waveBorder:document.querySelector(".sv-wave-border"),zones:document.querySelectorAll(".sv-zone"),linkLines:document.querySelector(".sv-link-lines"),extendedInfo:document.querySelector(".sv-extend-info"),amount:document.querySelector(".sv-amount"),state:{currentWave:1,recordMode:!1},data:{editedZones:[]},buttons:{previous:document.getElementById("previous-wave"),next:document.getElementById("next-wave"),reset:document.getElementById("reset-single-view"),recordMode:document.getElementById("record-mode")}},se={container:document.getElementById("tabular-view"),zones:document.querySelectorAll(".td-zone"),bonusObjectives:document.querySelectorAll(".objective-cell"),bossModifiers:document.querySelectorAll(".modifier-cell")};function tt(){Oe(),ke(m.nav[0],"active-tab"),ce(m.updatedByContainer),ce(m.upateDateContainer),Q(u.container),Q(i.container),Q(m.modals.updateModal.buttons.show),Object.values(i.subforms).forEach(e=>{e.classList.remove("scroll-x-left","scroll-x-right")}),mt().then(e=>{let t=new Date(e.currentTemplate.latestUpdate);m.updatedBy.textContent=o.updatedBy,m.latestUpdate.textContent=ye(t),u.mapSelection.value=e.currentTemplate.mapKey,st(),lt(),oe(),ie(r.state.currentWave,r.state.recordMode),document.querySelectorAll(".legend-list-4 li").forEach(n=>n.remove()),o.legend.forEach(n=>{const s=document.createElement("li");s.textContent=n,s.classList.add("c-legend-item","mb-2"),X.communityLegend.append(s)})})}function De(){Oe(),ke(m.nav[1],"active-tab"),ce(u.container),ce(m.modals.updateModal.buttons.show),Q(m.updatedByContainer),Q(m.upateDateContainer),Q(i.container),Object.values(i.subforms).forEach(e=>{e.classList.remove("scroll-x-left","scroll-x-right")}),qe("text")}function Mt(){Oe(),ke(m.nav[2],"active-tab"),ce(i.container),Q(m.updatedByContainer),Q(m.upateDateContainer),ce(m.modals.updateModal.buttons.show),Q(u.container),qe("form")}function oe(){pe();let e="";ze=="text"?(e=u.mapSelection.value,He(e),i.mapSelection.value=e):(e=i.mapSelection.value,He(e),u.mapSelection.value=e);let t=Object.entries(H).filter(s=>s[1].mapKey==e)[0][1];Le(t),c.fallBackTitle.textContent=Y(t.map);let n=t.week+`
`;u.required.weeklyModifier.value=Object.values(Ve).filter(s=>s.modifier==t.modifiers[0])[0].key,u.required.weeklyHazard.value=Object.values(Fe).filter(s=>s.modifier.includes(t.modifiers[1].toLocaleLowerCase()))[0].key,t.zones.forEach((s,a)=>{(a+1)%3==0?n=n.concat(s.trim()+`
`):n=n.concat(s.trim()+",")}),u.textArea.value=n.trim(),u.optionals.credits.value=t.credits,u.optionals.version.value=t.version,u.optionals.date.value=et(),Gt(n.split(`
`))}function Te(){document.querySelectorAll(".editField").length>0&&document.querySelectorAll(".editField").forEach(e=>e.value=""),u.textArea.value="",at(),Object.values(u.optionals).forEach(e=>e.value=""),Object.values(i.fields).forEach(e=>e.value="")}function Dt(){c.waveBorders.forEach(e=>{let t="";["normal","bonus","boss"].forEach(s=>{e.classList.contains(s)&&(t=s,e.classList=[],e.classList.add("wave-border",t))})})}function Ot(){pe(),xt(i.state.current)&&(i.state.current==4?(i.buttons.next.disabled=!0,i.buttons.back.disabled=!1,i.subforms["_"+i.state.current].classList.remove("scroll-x-right")):(i.buttons.back.disabled=!1,i.buttons.next.disabled=!1,i.subforms["_"+i.state.current].classList.remove("scroll-x-left"),i.subforms["_"+i.state.current].classList.remove("scroll-x-right"),je(i.subforms["_"+i.state.current]),i.state.current=i.state.current+1,ke(i.subforms["_"+i.state.current],"scroll-x-right"),i.subforms["_"+i.state.current].classList.replace("setInvisible","setVisible"),i.state.current==4&&(je(i.buttons.next),i.buttons.process.classList.replace("setInvisible","setVisible"))))}function Wt(){i.state.current==1?(i.buttons.back.disabled=!0,i.buttons.next.disabled=!1,i.subforms["_"+i.state.current].classList.remove("scroll-x-right")):(i.buttons.back.disabled=!1,i.subforms["_"+i.state.current].classList.remove("scroll-x-right"),i.subforms["_"+i.state.current].classList.remove("scroll-x-left"),je(i.subforms["_"+i.state.current]),i.state.current=i.state.current-1,Zt(i.subforms["_"+i.state.current],"scroll-x-right","scroll-x-left"),i.subforms["_"+i.state.current].classList.replace("setInvisible","setVisible"),i.state.current<4&&(i.buttons.next.classList.replace("setInvisible","setVisible"),i.buttons.process.classList.replace("setVisible","setInvisible")))}function Ee(){if(St(),pe(),u.textArea.value.split(`
`)[0]=="@denx"&&Jt(),u.textArea.value.split(`
`).length>19){let e=u.textArea.value.match(/[a-z\s()]+,\s[a-z\s()]+,\s[a-z ]+/gi),t=[];u.textArea.value=`4
`,e.forEach(n=>{n.includes("(Tengu)")&&(n=n.trim().replace("(Tengu)","")),n.includes("(Disciple)")&&(n=n.trim().replace("(Disciple)","")),n.split(",").forEach(s=>t.push(s.trim()))}),o.tengu.forEach(n=>t[n.split("*")[0]-1]=t[n.split("*")[0]-1].concat("*"+n.split("*")[1])),o.disciples&&o.disciples.forEach(n=>{t[n.split("*")[0]-1]=t[n.split("*")[0]-1].concat("*"+n.split("*")[1])}),e=be(t),e.forEach(n=>{u.textArea.value=u.textArea.value.concat(n.join(",")+`
`)}),u.textArea.value=u.textArea.value.trim()}It()&&(ze=="form"&&$t(),qe("text"),zt(u.textArea.value.split(`
`),o),st(),lt(),fe(),ie(r.state.currentWave,r.state.recordMode))}function Vt(e){if(De(),c.buttons.singleView.disabled=!0,c.buttons.tabularView.disabled=!0,O(c.buttons.save,"setVvisible","setInvisible"),O(e.target,"setInvisible","setVisible"),c.state.edit){c.zones.forEach((a,d)=>{const g=me("zone-efi");g.setAttribute("maxlength","18"),g.value=o.zones[d],O(a.firstElementChild,"setInvisible","setVisible"),a.append(g)});const t=me("credits-efi");t.setAttribute("maxlength","78"),t.value=o.credits,O(c.credits,"setInvisible","setVisible"),c.credits.insertAdjacentElement("afterend",t);const n=me("current-week-efi");n.setAttribute("maxlength","2"),n.value=o.week,O(c.currentWeek,"setInvisible","setVisible"),c.currentWeek.insertAdjacentElement("afterend",n);const s=me("version-efi");s.setAttribute("maxlength","11"),s.value=o.version,O(c.version,"setInvisible","setVisible"),c.version.parentElement.insertAdjacentElement("afterbegin",s),c.state.edit=!1}}function Ft(e){c.buttons.singleView.disabled=!1,c.buttons.tabularView.disabled=!1,O(e.target,"setInvisible","setVisible"),O(c.buttons.edit,"setVisible","setInvisible");let t=document.querySelectorAll(".zone-efi"),n=o;n.zones=[],t.forEach(g=>{n.zones.push(g.value),g.previousElementSibling.tagName=="P"?g.previousElementSibling.classList.replace("setInvisible","setVisible"):g.previousElementSibling.previousElementSibling.classList.replace("setInvisible","setVisible"),g.remove()});let s=document.querySelector(".current-week-efi"),a=document.querySelector(".credits-efi");document.querySelector(".date-efi");let d=document.querySelector(".version-efi");n.week=s.value,n.credits=a.value,n.version=d.value,c.currentWeek.classList.remove("setInvisible"),s.remove(),c.credits.classList.remove("setInvisible"),a.remove(),c.version.classList.remove("setInvisible"),d.remove(),Le(n),Te(),oe(),Ee(),We(),c.state.edit=!0}function me(e){const t=document.createElement("input");return typeof e=="string"?t.classList.add("editField",e):t.classList.add("editField",...e),t}function st(){at(),c.backDrop.src="./img/"+o.background,c.zones.forEach((s,a)=>{s.firstChild.nextSibling.textContent=o.zones[a].replace(/\*[TD#1-3]+/g,""),qt(s,o.zones[a],a)}),c.bonusObjectives.forEach((s,a)=>{s.textContent=Object.values(o.bonus)[a].objective}),c.bonusAmounts.forEach((s,a)=>{s.textContent=Object.values(o.bonus)[a].amount}),c.bossWavesModifiers.forEach((s,a)=>{s.textContent=Object.values(o.bossWave)[a].modifier}),c.bonusWaves.forEach((s,a)=>{o.bonus[a].objective.toLowerCase()=="p.parry counter atk"||o.bonus[a].objective.toLowerCase()=="ranged kills"||o.bonus[a].objective.toLowerCase()=="headshots"?s.style.background="url(./svg/"+Object.values(o.bonus)[a].svg+") no-repeat center center/90%":o.bonus[a].objective.toLowerCase()=="kill outside def. area"||o.bonus[a].objective.toLowerCase()=="kill inside def. area"||o.bonus[a].objective.toLowerCase()=="assassinate from above"||o.bonus[a].objective.toLowerCase()=="assassinate | crits"||o.bonus[a].objective.toLowerCase()=="ghost weapon kills"?s.style.background="url(./svg/"+Object.values(o.bonus)[a].svg+") no-repeat center center/70%":s.style.background="url(./svg/"+Object.values(o.bonus)[a].svg+") no-repeat center center/50%"}),c.bossWaves.forEach((s,a)=>{s.style.background="url(./svg/"+Object.values(o.bossWave)[a].svg+") no-repeat center center/70%"}),c.currentWeek.textContent=o.week,c.weeklyModifier.firstChild.nextSibling.textContent=Y(o.modifiers[0]);const e=document.createElement("img");e.src="./svg/"+Object.values(Ve).filter(s=>s.modifier==o.modifiers[0])[0].svg,c.weeklyModifier.insertAdjacentElement("afterbegin",e),c.weeklyHazard.firstChild.nextSibling.textContent=Y(o.modifiers[1]);const t=document.createElement("img");t.src="./svg/"+Object.values(Fe).filter(s=>s.modifier.includes(o.modifiers[1].toLowerCase()))[0].svg,c.weeklyHazard.insertAdjacentElement("afterbegin",t),c.credits.textContent=o.credits,c.version.textContent=o.version,c.date.textContent=ye(new Date(o.latestUpdate)),rt(be(o.zones)).forEach(s=>{c.waveBorders[s.waveIndex].classList.add(s.clipClass)}),o.dogs&&o.dogs.forEach(s=>{const a=document.createElement("img");a.classList.add("se-dog"),a.src="./svg/se-dogs.svg",c.specialEnemies[s-1].parentElement.classList.add("wrapper"),c.specialEnemies[s-1].appendChild(a)}),o.bears&&o.bears.forEach(s=>{const a=document.createElement("img");a.classList.add("se-bear"),a.src="./svg/se-bears.svg",c.specialEnemies[s-1].parentElement.classList.add("wrapper"),c.specialEnemies[s-1].appendChild(a)})}function zt(e,t){let n=t;n.week=e[0],n.modifiers[0]=Object.values(Ve).filter(a=>a.key==u.required.weeklyModifier.value)[0].modifier,n.modifiers[1]=Object.values(Fe).filter(a=>a.key==u.required.weeklyHazard.value)[0].modifier,n.zones=[],e.slice(1,16).forEach(a=>{n.zones=n.zones.concat(a.split(","))}),n.credits=u.optionals.credits.value||"",n.latestUpdate=u.optionals.date.value||new Date,n.version=u.optionals.version.value||"ver2.18",Le(n)}function Y(e){let t=e.split(" ");return t.forEach((n,s)=>{t[s]=n.charAt(0).toUpperCase()+n.slice(1)}),t.join(" ")}function qt(e,t,n,s){if(t.includes("*")){e.classList.add("wrapper","special-enemy-red");const a=document.createElement("img");switch(a.classList.add("special-enemy"),t.split("*")[1]){case"T#1":a.src="./svg/x-1-tengu.svg";break;case"T#2":a.src="./svg/x-2-tengu.svg";break;case"T#3":a.src="./svg/x-3-tengu.svg";break;case"D#1":a.src="./svg/x-1-disciple.svg";break;case"D#2":a.src="./svg/x-2-disciple.svg";break}c.zones[n].insertAdjacentElement("beforeend",a)}}function nt(e,t,n,s){if(e.classList.remove("special-enemy-red"),r.zones[n].lastElementChild&&!r.state.recordMode&&r.zones[n].lastElementChild.classList.contains("sv-special-enemy")&&r.zones[n].firstElementChild.nextElementSibling.remove(),r.zones[n].lastElementChild.previousElementSibling&&r.state.recordMode&&r.zones[n].lastElementChild.classList.contains("sv-special-enemy")&&r.zones[n].lastElementChild.remove(),t.includes("*")){e.classList.add("wrapper","special-enemy-red");const a=document.createElement("img");switch(a.classList.add("sv-special-enemy"),t.split("*")[1]){case"T#1":a.src="./svg/x-1-tengu.svg";break;case"T#2":a.src="./svg/x-2-tengu.svg";break;case"T#3":a.src="./svg/x-3-tengu.svg";break;case"D#1":a.src="./svg/x-1-disciple.svg",a.style.top="19.45px";break;case"D#2":a.src="./svg/x-2-disciple.svg",a.style.top="19.45px";break}r.zones[n].insertAdjacentElement("beforeend",a)}}function at(){Dt(),document.querySelectorAll(".se-dog").forEach(e=>e.remove()),document.querySelectorAll(".se-bear").forEach(e=>e.remove()),document.querySelectorAll(".special-enemy").forEach(e=>{e.parentElement.classList.remove("special-enemy-red"),e.remove()}),document.querySelector("#info-graph-weekly-modifier img")&&document.querySelector("#info-graph-weekly-modifier img").remove(),document.querySelector("#info-graph-weekly-hazard img")&&document.querySelector("#info-graph-weekly-hazard img").remove()}function rt(e,t){let n=[],s=[];return e.forEach((a,d)=>{if(a.forEach((g,T)=>{g.includes("*")&&s.push(T)}),s.length>0)if(t=="singleView"){let g=Rt(s);n.push({waveIndex:d,clipClass:g}),s=[]}else{let g=Pt(s);n.push({waveIndex:d,clipClass:g}),s=[]}}),n}function Pt(e){let t="";switch(e.length){case 1:e[0]==0?t="intersect-a":e[0]==1?t="intersect-b":t="intersect-c";break;case 2:e[0]==0&&e[1]==1?t="intersect-ab":e[0]==0&&e[1]==2?t="intersect-ac":t="intersect-bc";break;case 3:t="intersect-abc";break}return t}function Rt(e){let t="";switch(e.length){case 1:e[0]==0?t="sv-intersect-a":e[0]==1?t="sv-intersect-b":t="sv-intersect-c";break;case 2:e[0]==0&&e[1]==1?t="sv-intersect-ab":e[0]==0&&e[1]==2?t="sv-intersect-ac":t="sv-intersect-bc";break;case 3:t="sv-intersect-abc";break}return t}function be(e){let t=[],n=[];return e.forEach((s,a)=>{(a+1)%3==0?(n.push(s),t.push(n),n=[]):n.push(s)}),t}function ot(){c.container.id="info-graph",c.container.classList.remove("setInvisible"),se.container.classList.replace("seVisible","setInvisible"),c.buttons.singleView.classList.remove("selected-view"),c.buttons.tabularView.classList.remove("selected-view"),O(r.container,"setInvisible","setVisible"),O(se.container,"setInvisible","setVisible"),c.state.edit&&c.buttons.edit.classList.replace("setInvisible","setVisible"),c.buttons.graphView.classList.add("selected-view")}function Kt(){ie(r.state.currentWave,r.state.recordMode),c.container.id="",c.buttons.graphView.classList.remove("selected-view"),c.buttons.tabularView.classList.remove("selected-view"),c.buttons.singleView.classList.add("selected-view"),O(c.buttons.edit,"setInvisible","setVisible"),O(c.buttons.save,"setInvisible","setVisible"),O(se.container,"setInvisible","setVisible"),r.container.classList.replace("setInvisible","setVisible"),c.container.classList.add("setInvisible")}function it(){c.container.id="",c.container.classList.add("setInvisible"),O(r.container,"setInvisible","setVisible"),O(c.buttons.edit,"setInvisible","setVisible"),O(c.buttons.save,"setInvisible","setVisible"),c.buttons.graphView.classList.remove("selected-view"),c.buttons.singleView.classList.remove("selected-view"),c.buttons.tabularView.classList.add("selected-view"),se.container.classList.replace("setInvisible","setVisible")}function lt(){Ht(),se.zones.forEach((e,t)=>{if(e.textContent=o.zones[t].replace(/\*[TD#1-3]+/g,""),o.zones[t].includes("*")){let n=o.zones[t].split("*")[1];const s=document.createElement("img");switch(s.classList.add("td-special-enemy-icon"),e.classList.add("boss-w-cell"),n){case"T#1":s.src="./svg/td-x-1-tengu.svg";break;case"T#2":s.src="./svg/td-x-2-tengu.svg";break;case"T#3":s.src="./svg/td-x-3-tengu.svg";break;case"D#1":s.src="./svg/td-x-1-disciple.svg";break;case"D#2":s.src="./svg/td-x-2-disciple.svg";break}e.parentElement.append(s)}}),se.bonusObjectives.forEach((e,t)=>{const n=document.createElement("img");n.classList.add("td-bonus-icon"),n.src="./svg/"+o.bonus[t].tsvg,e.append(n)}),se.bossModifiers.forEach((e,t)=>{const n=document.createElement("img");n.classList.add("td-bonus-icon"),n.src="./svg/"+o.bossWave[t].tsvg,e.append(n)})}function Ht(){document.querySelectorAll(".td-bonus-icon").forEach(e=>e.remove()),document.querySelectorAll(".td-modifier-icon").forEach(e=>e.remove()),document.querySelectorAll(".td-special-enemy-icon").forEach(e=>e.remove())}function Ut(){if(r.wave_g_container.classList.add("scroll-x-right"),setTimeout(()=>r.wave_g_container.classList.remove("scroll-x-right"),500),r.state.currentWave++,ie(r.state.currentWave,r.state.recordMode),r.state.recordMode&&(document.querySelectorAll(".single-wave-edit-efi").forEach(e=>{e.value.length>0&&r.data.editedZones.push(e.value),e.value=""}),r.data.editedZones.length==45)){document.querySelectorAll(".single-wave-edit-efi").forEach(t=>t.remove());const e=o;e.zones=[],e.zones=e.zones.concat(r.data.editedZones),Le(e),r.data.editedZones=[],r.state.recordMode=!1,r.buttons.recordMode.textContent="Enable Record Data Mode",oe(),Ee(),fe()}r.state.currentWave==16?(ct(),r.state.currentWave=15,r.buttons.next.disabled=!0,r.buttons.previous.disabled=!1):(r.buttons.next.disabled=!1,r.buttons.previous.disabled=!1)}function ct(){r.state.recordMode||(r.state.currentWave==1?(ie(r.state.currentWave,r.state.recordMode),r.buttons.previous.disabled=!0,r.buttons.next.disabled=!1):(r.wave_g_container.classList.add("scroll-x-left"),setTimeout(()=>r.wave_g_container.classList.remove("scroll-x-left"),500),r.state.currentWave--,ie(r.state.currentWave,r.state.recordMode))),r.state.currentWave<=15&&(r.buttons.next.disabled=!1)}function fe(){["sv-intersect-a","sv-intersect-b","sv-intersect-c","sv-intersect-ab","sv-intersect-ac","sv-intersect-bc","sv-intersect-abc"].forEach(t=>{r.waveBorder.classList.contains(t)&&r.waveBorder.classList.remove(t)}),r.state.currentWave=1,ie(r.state.currentWave,r.state.recordMode),r.wave_g_container.classList.add("scroll-x-left"),setTimeout(()=>r.wave_g_container.classList.remove("scroll-x-left"),500),r.buttons.next.disabled=!1}function Nt(e){r.state.recordMode?(r.state.recordMode=!1,e.target.textContent="Enable Record Data Mode",document.querySelectorAll(".single-wave-edit-efi").forEach(t=>t.remove()),fe()):(window.scrollTo({top:0,behavior:"smooth"}),De(),fe(),r.zones.forEach(t=>{t.firstElementChild.textContent="",t.append(me("single-wave-edit-efi"))}),r.data.editedZones=[],r.state.recordMode=!0,e.target.textContent="Disable Record Mode")}function ie(e,t){if(t)switch(e){case 1:case 5:case 8:case 11:case 14:r.wave_s_container.style.background="transparent",Pe(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent="",r.zones[1].firstElementChild.textContent="",r.zones[2].firstElementChild.textContent="";break;case 2:case 4:case 7:case 10:case 13:Re(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent="",r.zones[1].firstElementChild.textContent="",r.zones[2].firstElementChild.textContent="";break;case 3:case 6:case 9:case 12:case 15:Ke(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent="",r.zones[1].firstElementChild.textContent="",r.zones[2].firstElementChild.textContent="";break}else switch(e){case 1:case 5:case 8:case 11:case 14:r.wave_s_container.style.background="transparent",Pe(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent=o.zones[r.state.currentWave*3-3].replace(/\*[TD#1-3]+/g,""),r.zones[1].firstElementChild.textContent=o.zones[r.state.currentWave*3-2].replace(/\*[TD#1-3]+/g,""),r.zones[2].firstElementChild.textContent=o.zones[r.state.currentWave*3-1].replace(/\*[TD#1-3]+/g,"");break;case 2:case 4:case 7:case 10:case 13:Re(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent=o.zones[r.state.currentWave*3-3].replace(/\*[TD#1-3]+/g,""),r.zones[1].firstElementChild.textContent=o.zones[r.state.currentWave*3-2].replace(/\*[TD#1-3]+/g,""),r.zones[2].firstElementChild.textContent=o.zones[r.state.currentWave*3-1].replace(/\*[TD#1-3]+/g,"");break;case 3:case 6:case 9:case 12:case 15:Ke(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent=o.zones[r.state.currentWave*3-3].replace(/\*[TD#1-3]+/g,""),r.zones[1].firstElementChild.textContent=o.zones[r.state.currentWave*3-2].replace(/\*[TD#1-3]+/g,""),r.zones[2].firstElementChild.textContent=o.zones[r.state.currentWave*3-1].replace(/\*[TD#1-3]+/g,"");break}switch(e){case 1:V();break;case 2:V(),r.extendedInfo.textContent=o.bonus[0].objective,r.amount.textContent=o.bonus[0].amount,r.wave_s_container.style.background=`url(./svg/${o.bonus[0].svg}) no-repeat center center/58%`;break;case 3:V(),r.extendedInfo.textContent=o.bossWave[0].modifier,r.wave_s_container.style.background=`url(./svg/${o.bossWave[0].svg}) no-repeat center center/58%`;break;case 4:V(),r.extendedInfo.textContent=o.bonus[1].objective,r.amount.textContent=o.bonus[1].amount,r.wave_s_container.style.background=`url(./svg/${o.bonus[1].svg}) no-repeat center center/58%`;break;case 5:V();break;case 6:V(),r.extendedInfo.textContent=o.bossWave[1].modifier,r.wave_s_container.style.background=`url(./svg/${o.bossWave[1].svg}) no-repeat center center/58%`;break;case 7:V(),r.extendedInfo.textContent=o.bonus[2].objective,r.amount.textContent=o.bonus[2].amount,r.wave_s_container.style.background=`url(./svg/${o.bonus[2].svg}) no-repeat center center/58%`;break;case 8:V(),r.zones.forEach((s,a)=>{nt(s,o.zones[r.state.currentWave*3+(a-3)],a)});break;case 9:V(),r.extendedInfo.textContent=o.bossWave[2].modifier,r.wave_s_container.style.background=`url(./svg/${o.bossWave[2].svg}) no-repeat center center/58%`;break;case 10:V(),r.extendedInfo.textContent=o.bonus[3].objective,r.amount.textContent=o.bonus[3].amount,r.wave_s_container.style.background=`url(./svg/${o.bonus[3].svg}) no-repeat center center/58%`;break;case 11:V();break;case 12:V();break;case 13:V(),r.extendedInfo.textContent=o.bonus[4].objective,r.amount.textContent=o.bonus[4].amount,r.wave_s_container.style.background=`url(./svg/${o.bonus[4].svg}) no-repeat center center/58%`;break;case 14:V();break;case 15:V(),r.extendedInfo.textContent=o.bossWave[4].modifier,r.wave_s_container.style.background=`url(./svg/${o.bossWave[4].svg}) no-repeat center center/58%`;break}let n=rt(be(o.zones),"singleView");n.forEach(s=>{r.waveBorder.classList.remove(s.clipClass)});for(let s=0;s<n.length;s++)if(n[s].waveIndex==e-1){r.waveBorder.classList.add(n[s].clipClass);break}o.bears&&o.bears.forEach(s=>{if(s==e){const a=document.createElement("img");a.src="./svg/se-bears.svg",a.classList.add("sv-bear"),document.querySelector(".sv-special-enemies").append(a)}else document.querySelectorAll(".sv-bear").forEach(a=>a.remove())}),o.dogs&&o.dogs.forEach(s=>{if(s==e){const a=document.createElement("img");a.src="./svg/se-dogs.svg",a.classList.add("sv-dog"),document.querySelector(".sv-special-enemies").append(a)}else document.querySelectorAll(".sv-dog").forEach(a=>a.remove())})}function V(){r.zones.forEach((e,t)=>{nt(e,o.zones[r.state.currentWave*3+(t-3)],t)})}function Pe(){r.amount.classList.replace("setVisible","setInvisible"),r.linkLines.classList.replace("setVisible","setInvisible"),r.extendedInfo.classList.replace("setVisible","setInvisible"),r.wave_count.classList.replace("bonus","normal"),r.wave_count.classList.replace("boss","normal"),r.waveBorder.classList.replace("bonus","normal"),r.waveBorder.classList.replace("boss","normal"),r.zones.forEach(e=>{e.classList.replace("bonus","normal"),e.classList.replace("boss","normal")})}function Re(){r.amount.classList.replace("setInvisible","setVisible"),r.linkLines.classList.replace("setInvisible","setVisible"),r.extendedInfo.classList.replace("setInvisible","setVisible"),r.linkLines.classList.replace("boss","bonus"),r.extendedInfo.classList.replace("boss","bonus"),r.wave_count.classList.replace("normal","bonus"),r.wave_count.classList.replace("boss","bonus"),r.waveBorder.classList.replace("normal","bonus"),r.waveBorder.classList.replace("boss","bonus"),r.zones.forEach(e=>{e.classList.replace("normal","bonus"),e.classList.replace("boss","bonus")})}function Ke(){r.amount.classList.replace("setVisible","setInvisible"),r.linkLines.classList.replace("setInvisible","setVisible"),r.extendedInfo.classList.replace("setInvisible","setVisible"),r.linkLines.classList.replace("bonus","boss"),r.extendedInfo.classList.replace("bonus","boss"),r.wave_count.classList.replace("normal","boss"),r.wave_count.classList.replace("bonus","boss"),r.waveBorder.classList.replace("normal","boss"),r.waveBorder.classList.replace("bonus","boss"),r.zones.forEach(e=>{e.classList.replace("normal","boss"),e.classList.replace("bonus","boss")})}function Gt(e){u.optionals.date.value.length==0?ye(new Date(o.latestUpdate)):u.optionals.date.value,i.fields.currentWeek.value=e[0],i.fields.weeklyModifier.value=u.required.weeklyModifier.value,i.fields.weeklyHazard.value=u.required.weeklyHazard.value,i.fields.wave_1.value=e[1],i.fields.wave_2.value=e[2],i.fields.wave_3.value=e[3],i.fields.wave_4.value=e[4],i.fields.wave_5.value=e[5],i.fields.wave_6.value=e[6],i.fields.wave_7.value=e[7],i.fields.wave_8.value=e[8],i.fields.wave_9.value=e[9],i.fields.wave_10.value=e[10],i.fields.wave_11.value=e[11],i.fields.wave_12.value=e[12],i.fields.wave_13.value=e[13],i.fields.wave_14.value=e[14],i.fields.wave_15.value=e[15],i.fields.credits.value=u.optionals.credits.value||o.credits,i.fields.version.value=u.optionals.version.value||o.version,i.fields.date.value=u.optionals.date.value||_t(ye(new Date))}function Jt(){let e=[],t=u.textArea.value.split(`
`);t.splice(0,1);let n=t[0].charAt(t[0].length-2),s=t[0].substring(0,t[0].indexOf("(")).trim(),a=Object.entries(H).filter(b=>b[1].map.toLowerCase()==s.toLowerCase())[0][1];u.mapSelection.value=a.mapKey,oe(),u.required.weeklyModifier.value=t[1].substring(t[1].indexOf(":")+1,t[1].length).trim().toLowerCase().replace(" ","-");let d=t[2].substring(t[2].indexOf(":")+1,t[2].indexOf("/")==-1?t[2].length:t[2].indexOf("/")).trim().toLowerCase().replace(" ","-").replace(" ","-");d=="hwachas"&&(d="fire-spirits-hwachas"),u.required.weeklyHazard.value=d;let g=t[t.length-1],T=t.splice(5);for(T.pop(),T.pop(),e=[...T.join(`
`).matchAll(/(?![\w\s]*[/:)])\b[^0-9.(&\n,]+\b/g)],e.length>45&&e.shift();e.length>45;)e.pop();if(!t.includes("*")){let b=0,_=0;for(let k=0;k<e.length;k++)b<a.tengu.length&&e.length==45&&k==parseInt(a.tengu[b].split("*")[0])-1&&(e[k][0]=e[k][0].trim().concat("*"+a.tengu[b].split("*")[1]),b++),typeof a.disciples!="undefined"&&_<a.disciples.length&&e.length==45&&k==parseInt(a.disciples[_].split("*")[0])-1&&(e[k][0]=e[k][0].trim().concat("*"+a.disciples[_].split("*")[1]),_++)}let w="";w=n+`
`;for(let b=0;b<e.length;b++)(b+1)%3==0?w=w.concat(e[b][0].trim()+`
`):w=w.concat(e[b][0].trim()+", ");u.optionals.credits.value=g,u.textArea.value=w}function $t(){let e="";u.required.weeklyModifier.value=i.fields.weeklyModifier.value,u.required.weeklyHazard.value=i.fields.weeklyHazard.value,e=i.fields.currentWeek.value.trim()+`
`+i.fields.wave_1.value.trim()+`
`+i.fields.wave_2.value.trim()+`
`+i.fields.wave_3.value.trim()+`
`+i.fields.wave_4.value.trim()+`
`+i.fields.wave_5.value.trim()+`
`+i.fields.wave_6.value.trim()+`
`+i.fields.wave_7.value.trim()+`
`+i.fields.wave_8.value.trim()+`
`+i.fields.wave_9.value.trim()+`
`+i.fields.wave_10.value.trim()+`
`+i.fields.wave_11.value.trim()+`
`+i.fields.wave_12.value.trim()+`
`+i.fields.wave_13.value.trim()+`
`+i.fields.wave_14.value.trim()+`
`+i.fields.wave_15.value.trim()+`
`,u.textArea.value=e.trim(),u.optionals.credits.value=i.fields.credits.value.trim(),u.optionals.version.value=i.fields.version.value.trim(),u.optionals.date.value=i.fields.date.value.trim()}function Q(e){e.classList.add("setInvisible")}function ce(e){e.classList.remove("setInvisible")}function je(e){e.classList.contains("setVisible")?(e.classList.remove("setVisible"),e.classList.add("setInvisible")):e.classList.contains("setInvisible")?(e.classList.add("setVisible"),e.classList.remove("setInvisible")):e.classList.add("setInvisible")}function Zt(e,t,n){e.classList.contains(t)?(e.classList.remove(t),e.classList.add(n)):e.classList.contains(n)?(e.classList.add(t),e.classList.remove(n)):e.classList.add(n)}function Oe(){m.nav.forEach(e=>e.classList.remove("active-tab"))}function ke(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}function O(e,t,n){e.classList.contains(n)?e.classList.replace(n,t):e.classList.add(t)}function Xt(){m.modals.exportModal.container.showModal(),window.scrollTo({top:0,behavior:"smooth"})}function Yt(){const e=c.container.cloneNode("deep");return e.classList.remove("setInvisible"),e.style.margin="0",e.style.borderRadius="0",e.style.transform="scale(1)",window.innerWidth<=400?(document.body.append(e),e.id="info-graph-sh",e.style.width="420px",document.querySelectorAll(".grid-a")[1].classList.replace("grid-a","grid-a-sh"),document.querySelectorAll(".grid-b")[1].classList.replace("grid-b","grid-b-sh"),document.querySelectorAll(".grid-b-sh .wave-container").forEach(n=>n.classList.replace("wave-container","wave-container-sh")),document.querySelectorAll(".grid-b-sh .boss-modifier").forEach(n=>n.classList.replace("boss-modifier","boss-modifier-sh")),document.querySelectorAll(".grid-b-sh .bonus-objective").forEach(n=>n.classList.replace("bonus-objective","bonus-objective-sh")),document.querySelector("#info-graph-sh .overlay").classList.replace("overlay","overlay-sh"),document.querySelectorAll(".back-drop")[1].classList.replace("back-drop","back-drop-sh"),document.querySelector("#info-graph-sh .weekly-modifiers").classList.replace("weekly-modifiers","weekly-modifiers-sh"),document.querySelector("#info-graph-sh .decorated-line").classList.replace("decorated-line","decorated-line-sh"),document.querySelector("#info-graph-sh .decorated-line-2").classList.replace("decorated-line-2","decorated-line-2-sh"),document.querySelector("#info-graph-sh .credits").classList.replace("credits","credits-sh"),document.querySelector("#info-graph-sh .infograph-footer").classList.replace("infograph-footer","infograph-footer-sh"),document.querySelector("#info-graph-sh .info-container").classList.replace("info-container","info-container-sh"),document.querySelector("#info-graph-sh #fallback-title").remove()):m.subApp.append(e),e}function dt(){m.modals.exportModal.buttons.exportInfoGraphScreenshot.textContent="Preparing...",ot();const e=Yt(),t=2.5*Math.pow(10,6);setTimeout(()=>{Ne.toBlob(e,{scale:4}).then(function(n){n.size>t?(window.saveAs(n,"nms-order-infograph-screenshot.png"),e.style="",e.remove()):(e.remove(),dt()),m.modals.exportModal.buttons.exportInfoGraphScreenshot.textContent="Info-Graph Screenshot (PNG)"})},1e3)}function Qt(){m.modals.exportModal.buttons.exportTabularScreenshot.textContent="Preparing...",it();const e=se.container.cloneNode("deep");e.style.width="420px",e.style.margin="0",e.style.borderRadius="0",document.body.appendChild(e),setTimeout(()=>{Ne.toBlob(e,{scale:4}).then(function(t){window.saveAs(t,"nms-order-tabular-view-screenshot.png"),e.style="",e.remove(),m.modals.exportModal.buttons.exportTabularScreenshot.textContent="Tabular View Screenshot (PNG)"})},1e3)}function es(){let e=ns(),t=new Blob([e],{type:"text/csv"});window.saveAs(t,"nms-order.csv")}function ts(){let e=ss();navigator.clipboard.writeText(e).then(()=>{m.modals.exportModal.buttons.copyToClipBoard.textContent="Copied",setTimeout(()=>{m.modals.exportModal.buttons.copyToClipBoard.textContent="Copy Text to Clipboard"},900)})}function ss(){let e=o.latestUpdate+`

Week `+o.week+`
`+Y(o.map)+`
(`+Y(o.modifiers[0])+", "+Y(o.modifiers[1])+`)

`,t=[];return o.zones.forEach(s=>{if(s.includes("*")){const a=s.split("*")[1];let d="";switch(a){case"T#1":d="(Tengu x1)";break;case"T#2":d="(Tengu x2)";break;case"T#3":d="(Tengu x3)";break;case"D#1":d="(Disciple x1)";break;case"D#2":d="(Disciple x2)";break}t.push(s.replace(/\*[TD#1-3]+/g," "+d))}else t.push(s)}),be(t).forEach((s,a)=>{switch(a){case 0:e=e.concat("("+o.bonus[0].objective+" x"+o.bonus[0].amount+`)
`+(a+1)+". "+s.join(", ")+`
`);break;case 1:e=e.concat(a+1+". "+s.join(", ")+`
`);break;case 2:e=e.concat(a+1+". "+s.join(", ")+" ("+o.bossWave[0].modifier+`)

`);break;case 3:e=e.concat("("+o.bonus[1].objective+" x"+o.bonus[1].amount+`)
`+(a+1)+". "+s.join(", ")+`
`);break;case 4:e=e.concat(a+1+". "+s.join(", ")+`
`);break;case 5:e=e.concat(a+1+". "+s.join(", ")+" ("+o.bossWave[1].modifier+`)

`);break;case 6:e=e.concat("("+o.bonus[2].objective+" x"+o.bonus[2].amount+`)
`+(a+1)+". "+s.join(", ")+`
`);break;case 7:e=e.concat(a+1+". "+s.join(", ")+`
`);break;case 8:e=e.concat(a+1+". "+s.join(", ")+" ("+o.bossWave[2].modifier+`)

`);break;case 9:e=e.concat("("+o.bonus[3].objective+" x"+o.bonus[3].amount+`)
`+(a+1)+". "+s.join(", ")+`
`);break;case 10:e=e.concat(a+1+". "+s.join(", ")+`
`);break;case 11:e=e.concat(a+1+". "+s.join(", ")+" ("+o.bossWave[3].modifier+`)

`);break;case 12:e=e.concat("("+o.bonus[4].objective+" x"+o.bonus[4].amount+`)
`+(a+1)+". "+s.join(", ")+`
`);break;case 13:e=e.concat(a+1+". "+s.join(", ")+`
`);break;case 14:e=e.concat(a+1+". "+s.join(", ")+" ("+o.bossWave[4].modifier+`)

`);break}}),e=e.concat("Credits: "+o.credits),e}function ns(){let e=`Date, Week, Map, Modifier, Hazard
`+o.latestUpdate+", "+o.week+", "+Y(o.map)+", "+Y(o.modifiers[0])+", "+Y(o.modifiers[1])+`

Wave, Zone #1, Zone #2, Zone #3, Objective | Modifier
`,t=[];return o.zones.forEach(s=>{if(s.includes("*")){const a=s.split("*")[1];let d="";switch(a){case"T#1":d="(Tengu x1)";break;case"T#2":d="(Tengu x2)";break;case"T#3":d="(Tengu x3)";break;case"D#1":d="(Disciple x1)";break;case"D#2":d="(Disiciple x2)";break}t.push(s.replace(/\*[TD#1-3]+/g," "+d))}else t.push(s)}),be(t).forEach((s,a)=>{switch(a){case 0:e=e.concat(a+1+", "+s.join(", ")+`, 
`);break;case 1:e=e.concat(a+1+", "+s.join(", ")+", "+o.bonus[0].objective+" x"+o.bonus[0].amount+`
`);break;case 2:e=e.concat(a+1+", "+s.join(", ")+", "+o.bossWave[0].modifier+`
`);break;case 3:e=e.concat(a+1+", "+s.join(", ")+", "+o.bonus[1].objective+" x"+o.bonus[1].amount+`
`);break;case 4:e=e.concat(a+1+", "+s.join(", ")+`, 
`);break;case 5:e=e.concat(a+1+", "+s.join(", ")+", "+o.bossWave[1].modifier+`
`);break;case 6:e=e.concat(a+1+", "+s.join(", ")+", "+o.bonus[2].objective+" x"+o.bonus[2].amount+`
`);break;case 7:e=e.concat(a+1+", "+s.join(", ")+`, 
`);break;case 8:e=e.concat(a+1+", "+s.join(", ")+", "+o.bossWave[2].modifier+`
`);break;case 9:e=e.concat(a+1+", "+s.join(", ")+", "+o.bonus[3].objective+" x"+o.bonus[3].amount+`
`);break;case 10:e=e.concat(a+1+", "+s.join(", ")+`, 
`);break;case 11:e=e.concat(a+1+", "+s.join(", ")+", "+o.bossWave[3].modifier+`
`);break;case 12:e=e.concat(a+1+", "+s.join(", ")+", "+o.bonus[4].objective+" x"+o.bonus[4].amount+`
`);break;case 13:e=e.concat(a+1+", "+s.join(", ")+`, 
`);break;case 14:e=e.concat(a+1+", "+s.join(", ")+", "+o.bossWave[4].modifier+`

`);break}}),e=e.concat(`Credits
`+o.credits),e}function as(){m.modals.exportModal.container.close()}function We(){m.modals.updateModal.container.showModal(),window.scrollTo({top:0,behavior:"smooth"})}function ut(){m.modals.updateModal.container.close()}function rs(){pe();let e=o;if(m.modals.updateModal.fields.username.value.trim().length>0)e.updatedBy=m.modals.updateModal.fields.username.value.trim(),e.latestUpdate=et(),ps(e),ut(),F("success","Recent Updated Successfully.");else{const t=document.createElement("p");t.classList.add("form-error-2"),t.textContent="Username must not be empty.",m.modals.updateModal.fields.username.insertAdjacentElement("afterend",t)}}function os(){X.buttons.edit.classList.add("setInvisible");const e=document.createElement("button");e.textContent="Cancel",e.classList.add("legend-cancel"),e.addEventListener("click",is);const t=document.createElement("button");t.textContent="Update",t.classList.add("legend-update"),t.addEventListener("click",ls),X.control.append(e,t);let n=[];for(let s=0;s<6;s++)n[s]=document.createElement("input"),n[s].classList.add("legend-edit-field");o.legend.length>0&&o.legend.forEach((s,a)=>n[a].value=s),document.querySelectorAll(".legend-list-4 li").forEach(s=>s.remove()),n.forEach(s=>{X.communityLegend.append(s)})}function is(){document.querySelector(".legend-cancel").remove(),document.querySelector(".legend-update").remove(),X.buttons.edit.classList.remove("setInvisible"),document.querySelectorAll(".legend-list-4 input").forEach(e=>e.remove()),o.legend.forEach(e=>{const t=document.createElement("li");t.textContent=e,t.classList.add("c-legend-item","mb-2"),X.communityLegend.append(t)})}function ls(){document.querySelector(".legend-cancel").remove(),document.querySelector(".legend-update").remove(),X.buttons.edit.classList.remove("setInvisible"),document.querySelectorAll(".legend-list-4 input").forEach((e,t)=>{o.legend[t]=e.value,e.remove()}),We(),o.legend.forEach(e=>{const t=document.createElement("li");t.textContent=e,t.classList.add("c-legend-item","mb-2"),X.communityLegend.append(t)})}function cs(){m.buttons.bow.addEventListener("click",fs),m.nav[0].addEventListener("click",tt),m.nav[1].addEventListener("click",De),m.nav[2].addEventListener("click",Mt),u.buttons.template.addEventListener("click",oe),u.mapSelection.addEventListener("change",oe),i.mapSelection.addEventListener("change",oe),u.buttons.clear.addEventListener("click",Te),u.buttons.process.addEventListener("click",Ee),i.buttons.next.addEventListener("click",Ot),i.buttons.back.addEventListener("click",Wt),i.buttons.process.addEventListener("click",Ee),i.buttons.clear.addEventListener("click",Te),c.buttons.edit.addEventListener("click",Vt),c.buttons.save.addEventListener("click",Ft),c.buttons.graphView.addEventListener("click",ot),c.buttons.singleView.addEventListener("click",Kt),c.buttons.tabularView.addEventListener("click",it),r.buttons.previous.addEventListener("click",ct),r.buttons.next.addEventListener("click",Ut),r.buttons.reset.addEventListener("click",fe),r.buttons.recordMode.addEventListener("click",Nt),c.buttons.export.addEventListener("click",Xt),m.modals.exportModal.buttons.exportInfoGraphScreenshot.addEventListener("click",dt),m.modals.exportModal.buttons.exportTabularScreenshot.addEventListener("click",Qt),m.modals.exportModal.buttons.exportCSV.addEventListener("click",es),m.modals.exportModal.buttons.copyToClipBoard.addEventListener("click",ts),m.modals.exportModal.buttons.close.addEventListener("click",as),m.modals.updateModal.buttons.show.addEventListener("click",We),m.modals.updateModal.buttons.close.addEventListener("click",ut),m.modals.updateModal.buttons.update.addEventListener("click",rs),X.buttons.edit.addEventListener("click",os),window.oninput=()=>{pe(),i.fields.currentWeek.onchange=Ze(),i.fields.wave_1.onchange=Xe(),i.fields.wave_6.onchange=Ye(),i.fields.wave_7.onchange=Qe()},c.buttons.share.addEventListener("click",async()=>{const e={title:"NMS Order",url:window.location.href};try{await navigator.share(e)}catch{}})}var ds=[{headshots:{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},killInsideDefArea:{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},ghostWeaponKills:{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},fireDmgKills:{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},killOutsideDefArea:{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"},pParryCounterAtk:{objective:"P.Parry Counter ATK",amount:15,svg:"b-parries.svg",tsvg:"td-b-pParryCounters.svg",png:"b-parries.png"},assassinateFromAbove:{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},rangedKills:{objective:"Ranged Kills",amount:20,svg:"b-rangedKills.svg",tsvg:"td-b-rangedKills.svg",png:"b-rangedKills.png"},assassinateCrits:{objective:"Assassinate | Crits",amount:10,svg:"b-crits.svg",tsvg:"td-b-assassinationsCrits.svg",png:"b-crits.png"}}],us=[{wildfire:{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},eruption:{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},fightingBlind:{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},burningBlades:{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},toxicClouds:{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},slowedRevives:{modifier:"Slowed Revives",svg:"v-slowedRevives.svg",tsvg:"td-m-slowedRevives.svg",png:"v-slowedRevives.png"},immunity:{modifier:"Immunity",svg:"v-immunity.svg",tsvg:"td-m-immunity.svg",png:"v-immunity.png"},toolShortage:{modifier:"Tool Shortage",svg:"v-toolShortage.svg",tsvg:"td-m-toolShortage.svg",png:"v-toolShortage.png"}}],vs=[{barbedArrows:{modifier:"barbed arrows",svg:"w-barbedArrows.svg",png:"w-barbedArrows.png",key:"barbed-arrows"},empoweredFoes:{modifier:"empowered foes",svg:"w-empoweredFoes.svg",png:"w-empoweredFoes.png",key:"empowered-foes"},immunity:{modifier:"immunity",svg:"w-immunity.svg",png:"w-immunity.png",key:"immunity"},incapacitated:{modifier:"incapacitated",svg:"w-incapacitated.svg",png:"w-w-incapacitated.png",key:"incapacitated"},reducedHealing:{modifier:"reduced healing",svg:"w-reducedHealing.svg",png:"w-reducedHealing.png",key:"reduced-healing"},slowedRevives:{modifier:"slowed revives",svg:"w-slowedRevives.svg",png:"w-slowedRevives.png",key:"slowed-revives"},toolShortage:{modifier:"tool shortage",svg:"w-toolShortage.svg",png:"w-toolShortage.png",key:"tool-shortage"}}],gs=[{hwachas:{modifier:"fire spirits, hwachas",svg:"w-hwachas.svg",png:"w-hwachas.png",key:"fire-spirits-hwachas"},eyesOfIyo:{modifier:"eyes of iyo",svg:"w-eyesOfIyo.svg",png:"w-eyesOfIyo.png",key:"eyes-of-iyo"},disciples:{modifier:"disciples of iyo",svg:"w-disciple.svg",png:"w-disciple.png",key:"disciples-of-iyo"}}],ms=[{bloodAndSteel:{map:"blood and steel",mapKey:"blood-and-steel",week:6,modifiers:["tool shortage","eyes of iyo"],zones:["Cliff-Cart","Island-Cart","Camp-Right","Island-Left","Island-Cart","Camp-Right","Cliff-Cart","Cliff-Top","Camp-Right","Island-Left","Island-Cart","Camp-Left","Island-Left","Camp-Right","Island-Cart*T#2","Cliff-Cart","Camp-Left","Island-Cart","Camp-Right*T#2","Cliff-Top","Cliff-Top","Camp-Left","Island-Cart","Island-Cart","Camp-Right","Island-Left","Island-Cart","Cliff-Top","Island-Left","Cliff-Top","Island-Left","Camp-Left","Cliff-Cart","Cliff-Top*T#2","Island-Left*T#2","Camp-Right*T#2","Island-Cart","Cliff-Top","Island-Left","Camp-Right","Island-Cart","Camp-Right","Island-Left","Camp-Right","Camp-Right"],bonus:[{objective:"Assassinate | Crits",amount:10,svg:"b-crits.svg",tsvg:"td-b-assassinationsCrits.svg",png:"b-crits.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},{objective:"P.Parry Counter ATK",amount:15,svg:"b-parries.svg",tsvg:"td-b-pParryCounters.svg",png:"b-parries.png"}],bossWave:[{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Slowed Revives",svg:"v-slowedRevives.svg",tsvg:"td-m-slowedRevives.svg",png:"v-slowedRevives.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[12,15],shaman:[9],background:"Blood-And-Steel.webp",key:"bloodAndSteel",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},bloodInTheSnow:{map:"blood in the snow",mapKey:"blood-in-the-snow",week:5,modifiers:["immunity","hwachas"],zones:["Camp","Mine","Outpost","Camp","Outpost","Mine","Outpost","Camp","Mine","Outpost*T#2","Mine","Outpost","Camp","Outpost","Camp","Mine","Camp","Outpost","Mine","Mine","Outpost","Mine","Mine*T#2","Outpost","Camp*T#1","Mine*T#2","Outpost*T#3","Outpost","Mine","Outpost","Outpost","Mine","Outpost","Camp","Camp","Mine","Mine","Outpost","Camp","Mine","Camp","Camp","Camp","Camp","Mine"],bonus:[{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"}],bossWave:[{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[15],background:"Blood-In-The-Snow.webp",key:"bloodInTheSnow",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},theDefenseOfAoiVillage:{map:"the defense of aoi village",mapKey:"the-defense-of-aoi-village",week:2,modifiers:["reduced healing","hwachas"],zones:["Villa","Farm-Right","Side","Beach","Farm-Right","Villa","Villa","Side","Farm-Left","Farm-Right*T#2","Farm-Left","Beach","Beach","Villa","Side","Beach","Villa","Farm-Right","Villa","Beach","Farm-Right","Farm-Left","Villa*T#2","Beach","Villa","Side","Side","Farm-Right","Beach","Villa","Villa","Villa","Farm-Left","Side","Villa","Villa","Beach","Beach","Farm-Left","Villa","Farm-Left","Beach","Farm-Right","Villa","Farm-Left"],bonus:[{objective:"P.Parry Counter ATK",amount:15,svg:"b-parries.svg",tsvg:"td-b-pParryCounters.svg",png:"b-parries.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"},{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},{objective:"Ranged Kills",amount:20,svg:"b-rangedKills.svg",tsvg:"td-b-rangedKills.svg",png:"b-rangedKills.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"}],bossWave:[{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.svg"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.svg"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[9,12,15],bears:[9,15],background:"the-defense-of-aoi-village.webp",key:"theDefenseOfAoiVillage",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},theShadowsOfWar:{map:"the shadows of war",mapKey:"the-shadows-of-war",week:7,modifiers:["reduced healing","hwachas"],zones:["Dojo Middle","Stable","Barracks Left","Dojo Right","Stable","Barracks Right","Stable","Dojo Deep","Barracks Middle","Stable","Dojo Middle","Barracks Right","Barracks Right","Stable","Dojo Right*T#2","Dojo Deep","Stable","Barracks Left","Barracks Right*T#2","Dojo Deep","Barracks Middle","Barracks Middle","Dojo Deep","Stable","Stable","Barracks Left","Barracks Right","Dojo Right","Dojo Middle","Stable","Dojo Right","Stable","Stable","Stable","Barracks Right","Barracks Left","Barracks Middle","Dojo Middle","Stable","Dojo Deep","Stable","Stable","Stable","Dojo Deep","Dojo Middle"],bonus:[{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"}],bossWave:[{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[15],background:"the-shadows-of-war.webp",key:"theShadowsOfWar",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},theShoresOfVengeance:{map:"the shores of vengeance",mapKey:"the-shores-of-vengeance",week:4,modifiers:["empowered foes","disciples"],zones:["Beach","Boat","Cliff-Hut","Beach","Beach","Boat","Beach","Cliff-Hut","Beach","Beach","Cliff-Forest","Boat","Boat","Cliff-Forest","Beach*T#2","Beach","Beach","Cliff-Forest","Beach*T#2","Cliff-Forest","Beach","Boat","Cliff-Forest","Cliff-Hut","Boat","Beach","Boat","Boat","Beach","Beach","Beach","Beach","Boat","Cliff-Forest","Beach","Boat","Beach","Beach","Cliff-Hut","Boat","Beach","Cliff-Forest","Cliff-Forest","Boat","Beach"],bonus:[{objective:"Ranged Kills",amount:20,svg:"b-rangedKills.svg",tsvg:"td-b-rangedKills.svg",png:"b-rangedKills.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},{objective:"Assassinate | Crits",amount:10,svg:"b-crits.svg",tsvg:"td-b-assassinationsCrits.svg",png:"b-crits.png"},{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"}],bossWave:[{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[12,15],background:"The-Shores-Of-Vengeance.webp",key:"theShoresOfVengeance",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},twilightAndAshes:{map:"twilight and ashes",mapKey:"twilight-and-ashes",week:3,modifiers:["incapacitated","disciples"],zones:["Obelisk","Boulder L","Side LH","Cliff L","Side LH","Side LH","Boulder L*D#2","Obelisk*D#2","Cliff L*D#2","Cliff L","Boulder L","Side LH","Obelisk","Side LH","Boulder LH*T#2","Cliff L","Obelisk","Boulder L","Side LH*T#2","Obelisk","Obelisk","Obelisk","Boulder LH","Obelisk","Obelisk","Cliff L","Side LH","Cliff LH","Obelisk","Obelisk","Side LH","Boulder L","Side LH","Obelisk*D#1","Boulder LH","Boulder L","Boulder LH","Obelisk","Boulder L","Cliff L","Cliff LH","Obelisk","Cliff L","Side LH","Obelisk"],bonus:[{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"}],bossWave:[{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Immunity",svg:"v-immunity.svg",tsvg:"td-m-immunity.svg",png:"v-immunity.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[],bears:[12,15],background:"Twilight-And-Ashes.webp",key:"twilightAndAshes",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}}}];Object.values(ds)[0];Object.values(us)[0];const Ve=Object.values(vs)[0],Fe=Object.values(gs)[0];let H=Object.values(ms)[0];const vt="/templates/-N70N_ziMiaukkfPTVb_.json",Ce="https://gotlegends-nms-order-default-rtdb.europe-west1.firebasedatabase.app";let o={},_e=0;gt();let ze="text";function qe(e){ze=e}function Le(e){o=e}function He(e){Object.entries(H).forEach(t=>{t[1].mapKey==e?t[1].selected=!0:t[1].selected=!1})}function gt(){fetch(Ce+"/testBows.json").then(e=>e.json()).then(e=>{_e=parseInt(e),m.totalBows.textContent=_e})}function fs(){fetch(Ce+"/testBows.json",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(_e+1)}).then(e=>gt())}function mt(){return fetch(Ce+vt).then(e=>e.json()).then(e=>(H=e,Object.entries(H).filter(t=>t[1].selected).length>0?o=Object.entries(H).filter(t=>t[1].selected)[0][1]:(o=H.bloodAndSteel,H.bloodAndSteel.selected=!0),Promise.resolve({templates:H,currentTemplate:o})))}function ps(e){H[e.key]=e,fetch(Ce+vt,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)})}mt();tt();cs();
