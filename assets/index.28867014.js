const pt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const v of d.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&s(v)}).observe(document,{childList:!0,subtree:!0});function a(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerpolicy&&(d.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?d.credentials="include":n.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(n){if(n.ep)return;n.ep=!0;const d=a(n);fetch(n.href,d)}};pt();var ue=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},bt={exports:{}};(function(e,t){(function(a,s){s()})(ue,function(){function a(E,B){return typeof B=="undefined"?B={autoBom:!1}:typeof B!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),B={autoBom:!B}),B.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(E.type)?new Blob(["\uFEFF",E],{type:E.type}):E}function s(E,B,F){var x=new XMLHttpRequest;x.open("GET",E),x.responseType="blob",x.onload=function(){T(x.response,B,F)},x.onerror=function(){console.error("could not download file")},x.send()}function n(E){var B=new XMLHttpRequest;B.open("HEAD",E,!1);try{B.send()}catch{}return 200<=B.status&&299>=B.status}function d(E){try{E.dispatchEvent(new MouseEvent("click"))}catch{var B=document.createEvent("MouseEvents");B.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),E.dispatchEvent(B)}}var v=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ue=="object"&&ue.global===ue?ue:void 0,j=v.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),T=v.saveAs||(typeof window!="object"||window!==v?function(){}:"download"in HTMLAnchorElement.prototype&&!j?function(E,B,F){var x=v.URL||v.webkitURL,O=document.createElement("a");B=B||E.name||"download",O.download=B,O.rel="noopener",typeof E=="string"?(O.href=E,O.origin===location.origin?d(O):n(O.href)?s(E,B,F):d(O,O.target="_blank")):(O.href=x.createObjectURL(E),setTimeout(function(){x.revokeObjectURL(O.href)},4e4),setTimeout(function(){d(O)},0))}:"msSaveOrOpenBlob"in navigator?function(E,B,F){if(B=B||E.name||"download",typeof E!="string")navigator.msSaveOrOpenBlob(a(E,F),B);else if(n(E))s(E,B,F);else{var x=document.createElement("a");x.href=E,x.target="_blank",setTimeout(function(){d(x)})}}:function(E,B,F,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof E=="string")return s(E,B,F);var O=E.type==="application/octet-stream",Be=/constructor/i.test(v.HTMLElement)||v.safari,pe=/CriOS\/[\d]+/.test(navigator.userAgent);if((pe||O&&Be||j)&&typeof FileReader!="undefined"){var J=new FileReader;J.onloadend=function(){var se=J.result;se=pe?se:se.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=se:location=se,x=null},J.readAsDataURL(E)}else{var le=v.URL||v.webkitURL,ce=le.createObjectURL(E);x?x.location=ce:location.href=ce,x=null,setTimeout(function(){le.revokeObjectURL(ce)},4e4)}});v.saveAs=T.saveAs=T,e.exports=T})})(bt);var Ke={exports:{}};(function(e,t){(function(a){var s=vt(),n=gt(),d=ft(),v=mt(),j={imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1},T={toSvg:E,toPng:F,toJpeg:x,toBlob:O,toPixelData:B,toCanvas:Be,impl:{fontFaces:d,images:v,util:s,inliner:n,options:{}}};e.exports=T;function E(g,l){return l=l||{},pe(l),Promise.resolve(g).then(function(h){return le(h,l.filter,!0)}).then(ce).then(se).then(b).then(function(h){return ut(h,l.width||s.width(g),l.height||s.height(g))});function b(h){return l.bgcolor&&(h.style.backgroundColor=l.bgcolor),l.width&&(h.style.width=l.width+"px"),l.height&&(h.style.height=l.height+"px"),l.style&&Object.keys(l.style).forEach(function(S){h.style[S]=l.style[S]}),h}}function B(g,l){return J(g,l||{}).then(function(b){return b.getContext("2d").getImageData(0,0,s.width(g),s.height(g)).data})}function F(g,l){return J(g,l||{}).then(function(b){return b.toDataURL()})}function x(g,l){return l=l||{},J(g,l).then(function(b){return b.toDataURL("image/jpeg",l.quality||1)})}function O(g,l){return J(g,l||{}).then(s.canvasToBlob)}function Be(g,l){return J(g,l||{})}function pe(g){typeof g.imagePlaceholder=="undefined"?T.impl.options.imagePlaceholder=j.imagePlaceholder:T.impl.options.imagePlaceholder=g.imagePlaceholder,typeof g.cacheBust=="undefined"?T.impl.options.cacheBust=j.cacheBust:T.impl.options.cacheBust=g.cacheBust,typeof g.useCredentials=="undefined"?T.impl.options.useCredentials=j.useCredentials:T.impl.options.useCredentials=g.useCredentials}function J(g,l){return E(g,l).then(s.makeImage).then(s.delay(100)).then(function(h){var S=typeof l.scale!="number"?1:l.scale;console.log("scale",S);var m=b(g,S),C=m.getContext("2d");return h&&(C.scale(S,S),l.canvas&&l.canvas.width&&(m.width=l.canvas.width),l.canvas&&l.canvas.height&&(m.height=l.canvas.height),l.canvas?(console.log("canv",l.canvas),C.drawImage(h,l.canvas.sx||0,l.canvas.sy||0,l.canvas.sw||l.width,l.canvas.sh||l.height,l.canvas.dx||0,l.canvas.dy||0,l.canvas.dw||l.width,l.canvas.dh||l.height)):C.drawImage(h,0,0)),m});function b(h,S){var m=document.createElement("canvas");if(m.width=(l.width||s.width(h))*S,m.height=(l.height||s.height(h))*S,console.log(m.width,m.height),l.bgcolor){var C=m.getContext("2d");C.fillStyle=l.bgcolor,C.fillRect(0,0,m.width,m.height)}return m}}function le(g,l,b){if(!b&&l&&!l(g))return Promise.resolve();return Promise.resolve(g).then(h).then(function(w){return S(g,w,l)}).then(function(w){return C(g,w)});function h(w){return w instanceof HTMLCanvasElement?s.makeImage(w.toDataURL()):w.cloneNode(!1)}function S(w,k,$){var A=w.tagName==="use"?m(w):w.childNodes;if(A.length===0)return Promise.resolve(k);return ne(k,s.asArray(A),$).then(function(){return k});function ne(ae,H,_){var z=Promise.resolve();return H.forEach(function(Q){z=z.then(function(){return le(Q,_)}).then(function(q){q&&ae.appendChild(q)})}),z}}function m(w){var k=document.getElementById(w.href.baseVal.replace("#",""));return[k.cloneNode(!0)]}function C(w,k){if(!(k instanceof Element))return k;return Promise.resolve().then($).then(A).then(ne).then(ae).then(function(){return k});function $(){H(window.getComputedStyle(w),k.style),s.isChrome()&&k.style.marker&&(k.tagName==="line"||k.tagName==="path")&&(k.style.marker="");function H(_,z){_.cssText?(z.cssText=_.cssText,z.font=_.font):Q(_,z);function Q(q,X){s.asArray(q).forEach(function(u){X.setProperty(u,q.getPropertyValue(u),q.getPropertyPriority(u))})}}}function A(){[":before",":after"].forEach(function(_){H(_)});function H(_){var z=window.getComputedStyle(w,_),Q=z.getPropertyValue("content");if(Q===""||Q==="none")return;var q=s.uid(),X=k.getAttribute("class");X&&k.setAttribute("class",X+" "+q);var u=document.createElement("style");u.appendChild(y(q,_,z)),k.appendChild(u);function y(I,L,D){var U="."+I+":"+L,Le=D.cssText?Se(D):be(D);return document.createTextNode(U+"{"+Le+"}");function Se(P){var de=P.getPropertyValue("content");return P.cssText+" content: "+de+";"}function be(P){return s.asArray(P).map(de).join("; ")+";";function de(xe){return xe+": "+P.getPropertyValue(xe)+(P.getPropertyPriority(xe)?" !important":"")}}}}}function ne(){w instanceof HTMLTextAreaElement&&(k.innerHTML=w.value),w instanceof HTMLInputElement&&k.setAttribute("value",w.value)}function ae(){k instanceof SVGElement&&(k.setAttribute("xmlns","http://www.w3.org/2000/svg"),k instanceof SVGRectElement&&["width","height"].forEach(function(H){var _=k.getAttribute(H);!_||k.style.setProperty(H,_)}))}}}function ce(g){return d.resolveAll().then(function(l){var b=document.createElement("style");return g.appendChild(b),b.appendChild(document.createTextNode(l)),g})}function se(g){return v.inlineAll(g).then(function(){return g})}function ut(g,l,b){return Promise.resolve(g).then(function(h){return h.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(h)}).then(s.escapeXhtml).then(function(h){return'<foreignObject x="0" y="0" width="100%" height="100%">'+h+"</foreignObject>"}).then(function(h){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+l+'" height="'+b+'">'+h+"</svg>"}).then(function(h){return"data:image/svg+xml;charset=utf-8,"+h})}function vt(){return{escape:ne,parseExtension:l,mimeType:b,dataAsUrl:A,isDataUrl:h,canvasToBlob:m,resolveUrl:C,getAndEncode:$,uid:w(),delay:H,asArray:_,isChrome:ae,escapeXhtml:z,makeImage:k,width:Q,height:q};function g(){var u="application/font-woff",y="image/jpeg";return{woff:u,woff2:u,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:y,jpeg:y,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function l(u){var y=/\.([^\.\/]*?)(\?|$)/g.exec(u);return y?y[1]:""}function b(u){var y=l(u).toLowerCase();return g()[y]||""}function h(u){return u.search(/^(data:)/)!==-1}function S(u){return new Promise(function(y){for(var I=window.atob(u.toDataURL().split(",")[1]),L=I.length,D=new Uint8Array(L),U=0;U<L;U++)D[U]=I.charCodeAt(U);y(new Blob([D],{type:"image/png"}))})}function m(u){return u.toBlob?new Promise(function(y){u.toBlob(y)}):S(u)}function C(u,y){var I=document.implementation.createHTMLDocument(),L=I.createElement("base");I.head.appendChild(L);var D=I.createElement("a");return I.body.appendChild(D),L.href=y,D.href=u,D.href}function w(){var u=0;return function(){return"u"+y()+u++;function y(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function k(u){return u==="data:,"?Promise.resolve():new Promise(function(y,I){var L=new Image;T.impl.options.useCredentials&&(L.crossOrigin="use-credentials"),L.onload=function(){y(L)},L.onerror=I,L.src=u})}function $(u){var y=3e4;return T.impl.options.cacheBust&&(u+=(/\?/.test(u)?"&":"?")+new Date().getTime()),new Promise(function(I){var L=new XMLHttpRequest;L.onreadystatechange=Le,L.ontimeout=Se,L.responseType="blob",L.timeout=y,T.impl.options.useCredentials&&(L.withCredentials=!0),L.open("GET",u,!0),L.send();var D;if(T.impl.options.imagePlaceholder){var U=T.impl.options.imagePlaceholder.split(/,/);U&&U[1]&&(D=U[1])}function Le(){if(L.readyState===4){if(L.status!==200){D?I(D):be("cannot fetch resource: "+u+", status: "+L.status);return}var P=new FileReader;P.onloadend=function(){var de=P.result.split(/,/)[1];I(de)},P.readAsDataURL(L.response)}}function Se(){D?I(D):be("timeout of "+y+"ms occured while fetching resource: "+u)}function be(P){console.error(P),I("")}})}function A(u,y){return"data:"+y+";base64,"+u}function ne(u){return u.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function ae(){return/chrome/i.test(navigator.userAgent)}function H(u){return function(y){return new Promise(function(I){setTimeout(function(){I(y)},u)})}}function _(u){for(var y=[],I=u.length,L=0;L<I;L++)y.push(u[L]);return y}function z(u){return u.replace(/#/g,"%23").replace(/\n/g,"%0A")}function Q(u){var y=X(u,"border-left-width"),I=X(u,"border-right-width");return u.scrollWidth+y+I}function q(u){var y=X(u,"border-top-width"),I=X(u,"border-bottom-width");return u.scrollHeight+y+I}function X(u,y){var I=window.getComputedStyle(u).getPropertyValue(y);return parseFloat(I.replace("px",""))}}function gt(){var g=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:S,shouldProcess:l,impl:{readUrls:b,inline:h}};function l(m){return m.search(g)!==-1}function b(m){for(var C=[],w;(w=g.exec(m))!==null;)C.push(w[1]);return C.filter(function(k){return!s.isDataUrl(k)})}function h(m,C,w,k){return Promise.resolve(C).then(function(A){return w?s.resolveUrl(A,w):A}).then(k||s.getAndEncode).then(function(A){return s.dataAsUrl(A,s.mimeType(C))}).then(function(A){return m.replace($(C),"$1"+A+"$3")});function $(A){return new RegExp(`(url\\(['"]?)(`+s.escape(A)+`)(['"]?\\))`,"g")}}function S(m,C,w){if(k())return Promise.resolve(m);return Promise.resolve(m).then(b).then(function($){var A=Promise.resolve(m);return $.forEach(function(ne){A=A.then(function(ae){return h(ae,ne,C,w)})}),A});function k(){return!l(m)}}}function ft(){return{resolveAll:g,impl:{readAll:l}};function g(){return l().then(function(b){return Promise.all(b.map(function(h){return h.resolve()}))}).then(function(b){return b.join(`
`)})}function l(){return Promise.resolve(s.asArray(document.styleSheets)).then(h).then(b).then(function(m){return m.map(S)});function b(m){return m.filter(function(C){return C.type===CSSRule.FONT_FACE_RULE}).filter(function(C){return n.shouldProcess(C.style.getPropertyValue("src"))})}function h(m){var C=[];return m.forEach(function(w){if(w.hasOwnProperty("cssRules"))try{s.asArray(w.cssRules||[]).forEach(C.push.bind(C))}catch(k){console.log("Error while reading CSS rules from "+w.href,k.toString())}}),C}function S(m){return{resolve:function(){var w=(m.parentStyleSheet||{}).href;return n.inlineAll(m.cssText,w)},src:function(){return m.style.getPropertyValue("src")}}}}}function mt(){return{inlineAll:l,impl:{newImage:g}};function g(b){return{inline:h};function h(S){return s.isDataUrl(b.src)?Promise.resolve():Promise.resolve(b.src).then(S||s.getAndEncode).then(function(m){return s.dataAsUrl(m,s.mimeType(b.src))}).then(function(m){return new Promise(function(C,w){b.onload=C,b.onerror=C,b.src=m})})}}function l(b){if(!(b instanceof Element))return Promise.resolve(b);return h(b).then(function(){return b instanceof HTMLImageElement?g(b).inline():Promise.all(s.asArray(b.childNodes).map(function(S){return l(S)}))});function h(S){var m=S.style.getPropertyValue("background");return m?n.inlineAll(m).then(function(C){S.style.setProperty("background",C,S.style.getPropertyPriority("background"))}).then(function(){return S}):Promise.resolve(S)}}}})()})(Ke);var He=Ke.exports;function V(e,t){typeof f.errors.previousAlert!="undefined"&&f.errors.previousAlert.remove(),window.scrollTo({top:0,behavior:"smooth"});const a=document.createElement("p");a.innerText=t,f.nav[0].parentElement.insertAdjacentElement("beforebegin",a),e=="error"?a.classList.add("error-alert","slide-in"):e=="success"&&a.classList.add("success-alert","slide-in"),f.errors.previousAlert=document.querySelectorAll(".error-alert")[0],f.errors.previousAlert_2=document.querySelectorAll(".success-alert")[0],typeof f.errors.previousAlert!="undefined"&&setTimeout(function(){a.classList.replace("slide-in","fade-out"),setTimeout(()=>f.errors.previousAlert.remove(),500)},3e3),typeof f.errors.previousAlert_2!="undefined"&&setTimeout(function(){a.classList.replace("slide-in","fade-out"),setTimeout(()=>f.errors.previousAlert_2.remove(),500)},3e3)}function ht(e,t,a){V(e,t),a()}function K(e){return typeof e!="undefined"}function ie(e){return e.length==0}function wt(e){return e.length>=16}function ee(e,t,a){return e.replace(t,"").length>a}function Ue(e){return e.includes(",")}function Ne(e){return e.split(",").length==3}function Ge(e){return typeof e!="string"?!1:!isNaN(parseInt(e.trim()))}function yt(e,t){const a=document.createElement("div");a.classList.add("caught-errors");const s=document.createElement("h2");s.classList.add("caught-errors-title"),s.textContent="Errors Report";const n=document.createElement("ul");n.classList.add("error-list");for(let d=0;d<e.length;d++)if(d<t){const v=document.createElement("li");v.classList.add("error-item"),v.textContent=e[d],n.append(v)}a.append(s,n),p.container.insertAdjacentElement("beforebegin",a)}function N(e,t){const a=document.createElement("ul");a.classList.add("form-errors-container"),K(e)&&(e.forEach(s=>{const n=kt(s);a.append(n)}),t.insertAdjacentElement("afterend",a))}function kt(e){const t=document.createElement("li");return t.classList.add("form-error"),t.textContent=e,t}function Et(e){switch(e){case 1:return Je();case 2:return $e();case 3:return Xe();case 4:return Ze()}}function Je(){let e=[];if(ie(o.fields.currentWeek.value.trim())){let n="Current week was left empty.";e.push(n)}if(ee(o.fields.currentWeek.value.trim(),"",2)){let n="Current week exceeded maximum ("+2+") characters.";e.push(n)}if(!Ge(o.fields.currentWeek.value.trim())){let n="Provided current week ("+o.fields.currentWeek.value+") is not a valid number.";e.push(n)}N(e,o.fields.currentWeek);let t=[];if(ee(o.fields.credits.value.trim(),"",78)){let n="Credits exceeded maximum ("+78+") characters.";t.push(n)}N(t,o.fields.credits);let a=[];if(ee(o.fields.version.value.trim(),"",11)){let n="Version exceeded maximum ("+11+") characters.";a.push(n)}return N(a,o.fields.version),!e.concat(t).concat(a).length>0}function $e(){return _e([o.fields.wave_1,o.fields.wave_2,o.fields.wave_3,o.fields.wave_4,o.fields.wave_5],1)}function Xe(){return _e([o.fields.wave_6,o.fields.wave_7,o.fields.wave_8,o.fields.wave_9,o.fields.wave_10],6)}function Ze(){return _e([o.fields.wave_11,o.fields.wave_12,o.fields.wave_13,o.fields.wave_14,o.fields.wave_15],11)}function _e(e,t){let a=[],s=e;for(let n=0;n<s.length;n++){let d=[];if(!Ue(s[n].value)){let v="Wave ["+(n+t)+"] is not comma separated.";a.push(v),d.push(v)}if(Ne(s[n].value))s[n].value.split(",").forEach((v,j)=>{if(ie(v.trim())){let T="Zone ["+(n+t)+"."+(j+1)+"] is empty.";a.push(T),d.push(T)}if(ee(v.trim(),/\*[T|D]#\d/g,15)){let T="Zone ["+(n+t)+"."+(j+1)+"] exceeded maximum ("+15+") characters.";a.push(T),d.push(T)}});else{let v="Missing zones in wave ["+(n+t)+']. Use "," to separate each zone except for the last zone in the wave.';a.push(v),d.push(v)}N(d,s[n])}return!a.length>0}function me(){document.querySelectorAll(".form-errors-container").forEach(e=>{K(e)&&e.remove()}),document.querySelectorAll(".form-error").forEach(e=>{K(e)&&e.remove()})}function Ct(){K(document.querySelectorAll(".caught-errors")[0])&&document.querySelectorAll(".caught-errors")[0].remove()}function R(e,t,a){K(e[t]&&e[t].length>0)||(e[t]=[]),e[t].push(a)}function Ie(e,t=[]){return e.forEach(a=>{Array.isArray(a)?Ie(a,t):t.push(a)}),t}function Bt(){let e=p.textArea.value,t=e.split(`
`),a={};if(ie(e.trim())){let s="No data were provided.";ht("error",s,()=>{p.textArea.classList.add("red-border")}),R(a,"data",s)}else{if(!wt(t)){let s="Insufficient data please use a template and modify it as needed.";V("error",s),R(a,"pattern",s)}if(K(t[0])&&ie(t[0].trim())){let s="Current week was left empty.";V("error",s),R(a,"currentWeek",s)}if(K(t[0])&&ee(t[0].trim(),"",2)){let s="Current week exceeded maximum ("+2+") characters.";V("error",s),R(a,"currentWeek",s)}if(K(t[0])&&!Ge(t[0].trim())){let s="Provided current week ("+t[0]+") is not a valid number.";V("error",s),R(a,"currentWeek",s)}if(K(t[3])&&ie(t[3].trim())){let s="Missing Hazard at line 4.";V("error",s),R(a,"hazard",s)}if(t.slice(1,16).forEach((s,n)=>{if(!Ue(s)){let d="Wave ["+(n+1)+"] is not comma separated.";V("error",d),R(a,"wave_"+(n+1),d),N(a["wave_"+(n+1)],o.fields["wave_"+(n+1)])}if(Ne(s))s.split(",").forEach((d,v)=>{if(ie(d.trim())){let j="Zone ["+(n+1)+"."+(v+1)+"] is empty.";V("error",j),R(a,"wave_"+(n+1),j),N(a["wave_"+(n+1)],o.fields["wave_"+(n+1)])}if(ee(d.trim(),/\*[T|D#\d]+/g,15)){let j="Zone ["+(n+1)+"."+(v+1)+"] exceeded maximum ("+15+") characters.";V("error",j),R(a,"wave_"+(n+1),j),N(a["wave_"+(n+1)],o.fields["wave_"+(n+1)])}});else{let d="Missing zones in wave ["+(n+1)+']. Use "," to separate each zone except for the last zone in the wave.';V("error",d),R(a,"wave_"+(n+1),d),N(a["wave_"+(n+1)],o.fields["wave_"+(n+1)])}}),K(p.optionals.credits)&&ee(p.optionals.credits.value.trim(),"",78)){let s="Credits exceeded maximum ("+78+") characters.";V("error",s),R(a,"credits",s),N(a.credits,formElements.credits)}if(K(p.optionals.version)&&ee(p.optionals.version.value.trim(),"",11)){let s="Version exceeded maximum ("+11+") characters.";V("error",s),R(a,"version",s),N(a.version,formElements.version)}}return Ie(Object.values(a)).length>0&&yt(Ie(Object.values(a)),5),!Object.values(a).length>0}function Lt(e){const t=["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"];let a=-1;switch(e){case 0:a=t[0];break;case 1:a=t[1];break;case 2:a=t[2];break;case 3:a=t[3];break;case 4:a=t[4];break;case 5:a=t[5];break;case 6:a=t[6];break;case 7:a=t[7];break;case 8:a=t[8];break;case 9:a=t[9];break;case 10:a=t[10];break;case 11:a=t[11];break}return a}function St(e){const t=[0,1,2,3,4,5,6,7,8,9,10,11];let a=-1;switch(e){case"Jan":a=t[0];break;case"Feb":a=t[1];break;case"March":a=t[2];break;case"April":a=t[3];break;case"May":a=t[4];break;case"June":a=t[5];break;case"July":a=t[6];break;case"Aug":a=t[7];break;case"Sept":a=t[8];break;case"Oct":a=t[9];break;case"Nov":a=t[10];break;case"Dec":a=t[11];break}return a}function xt(e){let t=[];return t=e.split(" "),t[0]=parseInt(t[0]),t[1]=St(t[1]),t[2]=parseInt(t[2]),new Date(t[2],t[1],t[0])}function It(e){let t=new Date(e);t=xt(e);let a=[t.getFullYear(),t.getMonth()+1,t.getDate()];return a.forEach((s,n)=>{s<10&&(a[n]="0".concat(s))}),t=a[0]+"-"+a[1]+"-"+a[2],t}function he(e){return e.getDate()+" "+Lt(e.getMonth())+" "+String(e.getFullYear()).substring(2)}function Tt(e){let t={};return e=="now"||e==""||e==null?t=new Date:t=new Date(e),t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}const f={app:document.getElementById("app"),subApp:document.getElementById("sub-app"),nav:document.querySelectorAll(".nav-method-item"),totalBows:document.getElementById("bows"),upateDateContainer:document.getElementById("update-date"),updatedByContainer:document.getElementById("updated-by"),latestUpdate:document.getElementById("time-stamp"),updatedBy:document.getElementById("updated-by-person"),headerContainer:document.querySelector(".header-container"),wavesHeading:document.getElementById("waves-heading"),modals:{exportModal:{container:document.getElementById("export-modal"),buttons:{close:document.getElementById("close-export-modal"),exportInfoGraphScreenshot:document.getElementById("info-graph-screenshot-btn"),exportTabularScreenshot:document.getElementById("tabular-view-screenshot-btn"),exportCSV:document.getElementById("csv-export-btn"),copyToClipBoard:document.getElementById("copy-to-clipboard-btn")}},updateModal:{container:document.getElementById("update-modal"),fields:{username:document.getElementById("username")},buttons:{close:document.querySelector("#update-modal .close"),show:document.getElementById("update-modal-btn"),update:document.getElementById("m-update-btn")}}},buttons:{bow:document.getElementById("bow-btn"),lightsOn:document.getElementById("lights-on"),lightsOff:document.getElementById("lights-off"),share:document.getElementById("share"),singleView:document.getElementById("toggle-single-view-btn")},anchors:{screenshot:document.getElementById("infograph-screeshot-link")},errors:{previousAlert:document.querySelectorAll(".error-alert")[0]}},p={container:document.getElementById("text-panel"),textArea:document.getElementById("text-area-a0"),required:{weeklyModifier:document.getElementById("weekly-modifier-txt"),weeklyHazard:document.getElementById("weekly-hazard-txt")},optionals:{credits:document.getElementById("optional-credits"),version:document.getElementById("optional-version"),date:document.getElementById("optional-date")},mapSelection:document.getElementById("map-selection-txt"),buttons:{template:document.getElementById("template-txt"),process:document.getElementById("process-txt"),clear:document.getElementById("clear-txt")}},o={container:document.getElementById("form-container"),mapSelection:document.getElementById("map-selection-form"),subforms:{_1:document.getElementById("subform-1"),_2:document.getElementById("subform-2"),_3:document.getElementById("subform-3"),_4:document.getElementById("subform-4")},fields:{currentWeek:document.getElementById("current-week"),weeklyModifier:document.getElementById("weekly-modifier"),weeklyHazard:document.getElementById("weekly-hazard"),version:document.getElementById("version"),credits:document.getElementById("credits"),date:document.getElementById("date"),wave_1:document.getElementById("wave-1"),wave_2:document.getElementById("wave-2"),wave_3:document.getElementById("wave-3"),wave_4:document.getElementById("wave-4"),wave_5:document.getElementById("wave-5"),wave_6:document.getElementById("wave-6"),wave_7:document.getElementById("wave-7"),wave_8:document.getElementById("wave-8"),wave_9:document.getElementById("wave-9"),wave_10:document.getElementById("wave-10"),wave_11:document.getElementById("wave-11"),wave_12:document.getElementById("wave-12"),wave_13:document.getElementById("wave-13"),wave_14:document.getElementById("wave-14"),wave_15:document.getElementById("wave-15")},buttons:{back:document.getElementById("back-form-a0"),clear:document.getElementById("clear-form-a0"),next:document.getElementById("next-form-a0"),process:document.getElementById("process-form-a0")},state:{current:1}};document.getElementById("legend-container"),document.getElementById("legend-btn");const c={container:document.getElementById("info-graph"),backDrop:document.querySelector(".back-drop"),fallBackTitle:document.getElementById("fallback-title"),bonusWaves:document.querySelectorAll(".bonus-i"),bossWaves:document.querySelectorAll(".boss-i"),waveBorders:document.querySelectorAll(".wave-border"),zones:document.querySelectorAll(".zone"),specialEnemies:document.querySelectorAll(".special-enemies"),bonusObjectives:document.querySelectorAll(".bonus-objective"),bonusAmounts:document.querySelectorAll(".amount"),bossWavesModifiers:document.querySelectorAll(".boss-modifier"),currentWeek:document.getElementById("info-graph-week"),weeklyModifier:document.getElementById("info-graph-weekly-modifier"),weeklyHazard:document.getElementById("info-graph-weekly-hazard"),credits:document.getElementById("info-graph-credits"),date:document.getElementById("info-graph-date"),version:document.getElementById("info-graph-version"),state:{edit:!0},buttons:{edit:document.getElementById("edit-infograph"),save:document.getElementById("save-edits"),graphView:document.getElementById("toggle-infograph-view-btn"),singleView:document.getElementById("toggle-single-view-btn"),tabularView:document.getElementById("toggle-tabular-view-btn"),share:document.getElementById("share"),export:document.getElementById("export-modal-btn")}},r={container:document.getElementById("single-wave-view"),wave_g_container:document.querySelector(".sv-wave-container"),wave_count:document.querySelector(".sv-wave-number"),wave_s_container:document.querySelector(".sv-wave"),waveBorder:document.querySelector(".sv-wave-border"),zones:document.querySelectorAll(".sv-zone"),linkLines:document.querySelector(".sv-link-lines"),extendedInfo:document.querySelector(".sv-extend-info"),amount:document.querySelector(".sv-amount"),state:{currentWave:1,recordMode:!1},data:{editedZones:[]},buttons:{previous:document.getElementById("previous-wave"),next:document.getElementById("next-wave"),reset:document.getElementById("reset-single-view"),recordMode:document.getElementById("record-mode")}},te={container:document.getElementById("tabular-view"),zones:document.querySelectorAll(".td-zone"),bonusObjectives:document.querySelectorAll(".objective-cell"),bossModifiers:document.querySelectorAll(".modifier-cell")};function Ye(){Me(),ke(f.nav[0],"active-tab"),oe(f.updatedByContainer),oe(f.upateDateContainer),Y(p.container),Y(o.container),Y(f.modals.updateModal.buttons.show),Object.values(o.subforms).forEach(e=>{e.classList.remove("scroll-x-left","scroll-x-right")}),dt().then(e=>{let t=new Date(e.currentTemplate.latestUpdate);f.updatedBy.textContent=i.updatedBy,f.latestUpdate.textContent=he(t),p.mapSelection.value=e.currentTemplate.mapKey,Qe(),rt(),re(r.state.currentWave,r.state.recordMode)})}function De(){Me(),ke(f.nav[1],"active-tab"),oe(p.container),oe(f.modals.updateModal.buttons.show),Y(f.updatedByContainer),Y(f.upateDateContainer),Y(o.container),Object.values(o.subforms).forEach(e=>{e.classList.remove("scroll-x-left","scroll-x-right")}),Fe("text")}function At(){Me(),ke(f.nav[2],"active-tab"),oe(o.container),Y(f.updatedByContainer),Y(f.upateDateContainer),oe(f.modals.updateModal.buttons.show),Y(p.container),Fe("form")}function ge(){me();let e="";Ve=="text"?(e=p.mapSelection.value,qe(e),o.mapSelection.value=e):(e=o.mapSelection.value,qe(e),p.mapSelection.value=e);let t=Object.entries(G).filter(s=>s[1].mapKey==e)[0][1];Ce(t),c.fallBackTitle.textContent=Z(t.map);let a=t.week+`
`;p.required.weeklyModifier.value=Object.values(Oe).filter(s=>s.modifier==t.modifiers[0])[0].key,p.required.weeklyHazard.value=Object.values(We).filter(s=>s.modifier.includes(t.modifiers[1].toLocaleLowerCase()))[0].key,t.zones.forEach((s,n)=>{(n+1)%3==0?a=a.concat(s.trim()+`
`):a=a.concat(s.trim()+",")}),p.textArea.value=a.trim(),p.optionals.credits.value=t.credits,p.optionals.version.value=t.version,p.optionals.date.value=Tt(),Ht(a.split(`
`))}function Te(){document.querySelectorAll(".editField").length>0&&document.querySelectorAll(".editField").forEach(e=>e.value=""),p.textArea.value="",tt(),Object.values(p.optionals).forEach(e=>e.value=""),Object.values(o.fields).forEach(e=>e.value="")}function jt(){c.waveBorders.forEach(e=>{let t="";["normal","bonus","boss"].forEach(s=>{e.classList.contains(s)&&(t=s,e.classList=[],e.classList.add("wave-border",t))})})}function _t(){me(),Et(o.state.current)&&(o.state.current==4?(o.buttons.next.disabled=!0,o.buttons.back.disabled=!1,o.subforms["_"+o.state.current].classList.remove("scroll-x-right")):(o.buttons.back.disabled=!1,o.buttons.next.disabled=!1,o.subforms["_"+o.state.current].classList.remove("scroll-x-left"),o.subforms["_"+o.state.current].classList.remove("scroll-x-right"),Ae(o.subforms["_"+o.state.current]),o.state.current=o.state.current+1,ke(o.subforms["_"+o.state.current],"scroll-x-right"),o.subforms["_"+o.state.current].classList.replace("setInvisible","setVisible"),o.state.current==4&&(Ae(o.buttons.next),o.buttons.process.classList.replace("setInvisible","setVisible"))))}function Dt(){o.state.current==1?(o.buttons.back.disabled=!0,o.buttons.next.disabled=!1,o.subforms["_"+o.state.current].classList.remove("scroll-x-right")):(o.buttons.back.disabled=!1,o.subforms["_"+o.state.current].classList.remove("scroll-x-right"),o.subforms["_"+o.state.current].classList.remove("scroll-x-left"),Ae(o.subforms["_"+o.state.current]),o.state.current=o.state.current-1,Nt(o.subforms["_"+o.state.current],"scroll-x-right","scroll-x-left"),o.subforms["_"+o.state.current].classList.replace("setInvisible","setVisible"),o.state.current<4&&(o.buttons.next.classList.replace("setInvisible","setVisible"),o.buttons.process.classList.replace("setVisible","setInvisible")))}function we(){Ct(),me(),Bt()&&(Ve=="form"&&Ut(),Fe("text"),Wt(p.textArea.value.split(`
`),i),Qe(),rt(),fe(),re(r.state.currentWave,r.state.recordMode))}function Mt(e){if(De(),c.buttons.singleView.disabled=!0,c.buttons.tabularView.disabled=!0,M(c.buttons.save,"setVvisible","setInvisible"),M(e.target,"setInvisible","setVisible"),c.state.edit){c.zones.forEach((n,d)=>{const v=ve("zone-efi");v.setAttribute("maxlength","18"),v.value=i.zones[d],M(n.firstElementChild,"setInvisible","setVisible"),n.append(v)});const t=ve("credits-efi");t.setAttribute("maxlength","78"),t.value=i.credits,M(c.credits,"setInvisible","setVisible"),c.credits.insertAdjacentElement("afterend",t);const a=ve("current-week-efi");a.setAttribute("maxlength","2"),a.value=i.week,M(c.currentWeek,"setInvisible","setVisible"),c.currentWeek.insertAdjacentElement("afterend",a);const s=ve("version-efi");s.setAttribute("maxlength","11"),s.value=i.version,M(c.version,"setInvisible","setVisible"),c.version.parentElement.insertAdjacentElement("afterbegin",s),c.state.edit=!1}}function Ot(e){c.buttons.singleView.disabled=!1,c.buttons.tabularView.disabled=!1,M(e.target,"setInvisible","setVisible"),M(c.buttons.edit,"setVisible","setInvisible");let t=document.querySelectorAll(".zone-efi"),a=i;a.zones=[],t.forEach(v=>{a.zones.push(v.value),v.previousElementSibling.tagName=="P"?v.previousElementSibling.classList.replace("setInvisible","setVisible"):v.previousElementSibling.previousElementSibling.classList.replace("setInvisible","setVisible"),v.remove()});let s=document.querySelector(".current-week-efi"),n=document.querySelector(".credits-efi");document.querySelector(".date-efi");let d=document.querySelector(".version-efi");a.week=s.value,a.credits=n.value,a.version=d.value,c.currentWeek.classList.remove("setInvisible"),s.remove(),c.credits.classList.remove("setInvisible"),n.remove(),c.version.classList.remove("setInvisible"),d.remove(),Ce(a),Te(),ge(),we(),c.state.edit=!0}function ve(e){const t=document.createElement("input");return typeof e=="string"?t.classList.add("editField",e):t.classList.add("editField",...e),t}function Qe(){tt(),c.backDrop.src="./img/"+i.background,c.zones.forEach((s,n)=>{s.firstChild.nextSibling.textContent=i.zones[n].replace(/\*[TD#1-3]+/g,""),Vt(s,i.zones[n],n)}),c.bonusObjectives.forEach((s,n)=>{s.textContent=Object.values(i.bonus)[n].objective}),c.bonusAmounts.forEach((s,n)=>{s.textContent=Object.values(i.bonus)[n].amount}),c.bossWavesModifiers.forEach((s,n)=>{s.textContent=Object.values(i.bossWave)[n].modifier}),c.bonusWaves.forEach((s,n)=>{i.bonus[n].objective.toLowerCase()=="p.parry counter atk"||i.bonus[n].objective.toLowerCase()=="ranged kills"||i.bonus[n].objective.toLowerCase()=="headshots"?s.style.background="url(./svg/"+Object.values(i.bonus)[n].svg+") no-repeat center center/90%":i.bonus[n].objective.toLowerCase()=="kill outside def. area"||i.bonus[n].objective.toLowerCase()=="kill inside def. area"||i.bonus[n].objective.toLowerCase()=="assassinate from above"||i.bonus[n].objective.toLowerCase()=="assassinate | crits"||i.bonus[n].objective.toLowerCase()=="ghost weapon kills"?s.style.background="url(./svg/"+Object.values(i.bonus)[n].svg+") no-repeat center center/70%":s.style.background="url(./svg/"+Object.values(i.bonus)[n].svg+") no-repeat center center/50%"}),c.bossWaves.forEach((s,n)=>{s.style.background="url(./svg/"+Object.values(i.bossWave)[n].svg+") no-repeat center center/70%"}),c.currentWeek.textContent=i.week,c.weeklyModifier.firstChild.nextSibling.textContent=Z(i.modifiers[0]);const e=document.createElement("img");e.src="./svg/"+Object.values(Oe).filter(s=>s.modifier==i.modifiers[0])[0].svg,c.weeklyModifier.insertAdjacentElement("afterbegin",e),c.weeklyHazard.firstChild.nextSibling.textContent=Z(i.modifiers[1]);const t=document.createElement("img");t.src="./svg/"+Object.values(We).filter(s=>s.modifier.includes(i.modifiers[1].toLowerCase()))[0].svg,c.weeklyHazard.insertAdjacentElement("afterbegin",t),c.credits.textContent=i.credits,c.version.textContent=i.version,c.date.textContent=he(new Date(i.latestUpdate)),st(ye(i.zones)).forEach(s=>{c.waveBorders[s.waveIndex].classList.add(s.clipClass)}),i.dogs&&i.dogs.forEach(s=>{const n=document.createElement("img");n.classList.add("se-dog"),n.src="./svg/se-dogs.svg",c.specialEnemies[s-1].parentElement.classList.add("wrapper"),c.specialEnemies[s-1].appendChild(n)}),i.bears&&i.bears.forEach(s=>{const n=document.createElement("img");n.classList.add("se-bear"),n.src="./svg/se-bears.svg",c.specialEnemies[s-1].parentElement.classList.add("wrapper"),c.specialEnemies[s-1].appendChild(n)})}function Wt(e,t){let a=t;a.week=e[0],a.modifiers[0]=Object.values(Oe).filter(n=>n.key==p.required.weeklyModifier.value)[0].modifier,a.modifiers[1]=Object.values(We).filter(n=>n.key==p.required.weeklyHazard.value)[0].modifier,a.zones=[],e.slice(1,16).forEach(n=>{a.zones=a.zones.concat(n.split(","))}),a.credits=p.optionals.credits.value||"",a.latestUpdate=p.optionals.date.value||new Date,a.version=p.optionals.version.value||"ver2.18",Ce(a)}function Z(e){let t=e.split(" ");return t.forEach((a,s)=>{t[s]=a.charAt(0).toUpperCase()+a.slice(1)}),t.join(" ")}function Vt(e,t,a,s){if(t.includes("*")){e.classList.add("wrapper","special-enemy-red");const n=document.createElement("img");switch(n.classList.add("special-enemy"),t.split("*")[1]){case"T#1":n.src="./svg/x-1-tengu.svg";break;case"T#2":n.src="./svg/x-2-tengu.svg";break;case"T#3":n.src="./svg/x-3-tengu.svg";break;case"D#1":n.src="./svg/x-1-disciple.svg";break;case"D#2":n.src="./svg/x-2-disciple.svg";break}c.zones[a].insertAdjacentElement("beforeend",n)}}function et(e,t,a,s){if(e.classList.remove("special-enemy-red"),r.zones[a].lastElementChild&&!r.state.recordMode&&r.zones[a].lastElementChild.classList.contains("sv-special-enemy")&&r.zones[a].firstElementChild.nextElementSibling.remove(),r.zones[a].lastElementChild.previousElementSibling&&r.state.recordMode&&r.zones[a].lastElementChild.classList.contains("sv-special-enemy")&&r.zones[a].lastElementChild.remove(),t.includes("*")){e.classList.add("wrapper","special-enemy-red");const n=document.createElement("img");switch(n.classList.add("sv-special-enemy"),t.split("*")[1]){case"T#1":n.src="./svg/x-1-tengu.svg";break;case"T#2":n.src="./svg/x-2-tengu.svg";break;case"T#3":n.src="./svg/x-3-tengu.svg";break;case"D#1":n.src="./svg/x-1-disciple.svg";break;case"D#2":n.src="./svg/x-2-disciple.svg";break}r.zones[a].insertAdjacentElement("beforeend",n)}}function tt(){jt(),document.querySelectorAll(".se-dog").forEach(e=>e.remove()),document.querySelectorAll(".se-bear").forEach(e=>e.remove()),document.querySelectorAll(".special-enemy").forEach(e=>{e.parentElement.classList.remove("special-enemy-red"),e.remove()}),document.querySelector("#info-graph-weekly-modifier img")&&document.querySelector("#info-graph-weekly-modifier img").remove(),document.querySelector("#info-graph-weekly-hazard img")&&document.querySelector("#info-graph-weekly-hazard img").remove()}function st(e,t){let a=[],s=[];return e.forEach((n,d)=>{if(n.forEach((v,j)=>{v.includes("*")&&s.push(j)}),s.length>0)if(t=="singleView"){let v=zt(s);a.push({waveIndex:d,clipClass:v}),s=[]}else{let v=Ft(s);a.push({waveIndex:d,clipClass:v}),s=[]}}),a}function Ft(e){let t="";switch(e.length){case 1:e[0]==0?t="intersect-a":e[0]==1?t="intersect-b":t="intersect-c";break;case 2:e[0]==0&&e[1]==1?t="intersect-ab":e[0]==0&&e[1]==2?t="intersect-ac":t="intersect-bc";break;case 3:t="intersect-abc";break}return t}function zt(e){let t="";switch(e.length){case 1:e[0]==0?t="sv-intersect-a":e[0]==1?t="sv-intersect-b":t="sv-intersect-c";break;case 2:e[0]==0&&e[1]==1?t="sv-intersect-ab":e[0]==0&&e[1]==2?t="sv-intersect-ac":t="sv-intersect-bc";break;case 3:t="sv-intersect-abc";break}return t}function ye(e){let t=[],a=[];return e.forEach((s,n)=>{(n+1)%3==0?(a.push(s),t.push(a),a=[]):a.push(s)}),t}function nt(){c.container.id="info-graph",c.container.classList.remove("setInvisible"),te.container.classList.replace("seVisible","setInvisible"),c.buttons.singleView.classList.remove("selected-view"),c.buttons.tabularView.classList.remove("selected-view"),M(r.container,"setInvisible","setVisible"),M(te.container,"setInvisible","setVisible"),c.state.edit&&c.buttons.edit.classList.replace("setInvisible","setVisible"),c.buttons.graphView.classList.add("selected-view")}function Pt(){re(r.state.currentWave,r.state.recordMode),c.container.id="",c.buttons.graphView.classList.remove("selected-view"),c.buttons.tabularView.classList.remove("selected-view"),c.buttons.singleView.classList.add("selected-view"),M(c.buttons.edit,"setInvisible","setVisible"),M(c.buttons.save,"setInvisible","setVisible"),M(te.container,"setInvisible","setVisible"),r.container.classList.replace("setInvisible","setVisible"),c.container.classList.add("setInvisible")}function at(){c.container.id="",c.container.classList.add("setInvisible"),M(r.container,"setInvisible","setVisible"),M(c.buttons.edit,"setInvisible","setVisible"),M(c.buttons.save,"setInvisible","setVisible"),c.buttons.graphView.classList.remove("selected-view"),c.buttons.singleView.classList.remove("selected-view"),c.buttons.tabularView.classList.add("selected-view"),te.container.classList.replace("setInvisible","setVisible")}function rt(){Rt(),te.zones.forEach((e,t)=>{if(e.textContent=i.zones[t].replace(/\*[TD#1-3]+/g,""),i.zones[t].includes("*")){let a=i.zones[t].split("*")[1];const s=document.createElement("img");switch(s.classList.add("td-special-enemy-icon"),e.classList.add("boss-w-cell"),a){case"T#1":s.src="./svg/td-x-1-tengu.svg";break;case"T#2":s.src="./svg/td-x-2-tengu.svg";break;case"T#3":s.src="./svg/td-x-3-tengu.svg";break;case"D#1":s.src="./svg/td-x-1-disciple.svg";break;case"D#2":s.src="./svg/td-x-2-disciple.svg";break}e.parentElement.append(s)}}),te.bonusObjectives.forEach((e,t)=>{const a=document.createElement("img");a.classList.add("td-bonus-icon"),a.src="./svg/"+i.bonus[t].tsvg,e.append(a)}),te.bossModifiers.forEach((e,t)=>{const a=document.createElement("img");a.classList.add("td-bonus-icon"),a.src="./svg/"+i.bossWave[t].tsvg,e.append(a)})}function Rt(){document.querySelectorAll(".td-bonus-icon").forEach(e=>e.remove()),document.querySelectorAll(".td-modifier-icon").forEach(e=>e.remove()),document.querySelectorAll(".td-special-enemy-icon").forEach(e=>e.remove())}function qt(){if(r.wave_g_container.classList.add("scroll-x-right"),setTimeout(()=>r.wave_g_container.classList.remove("scroll-x-right"),500),r.state.currentWave++,re(r.state.currentWave,r.state.recordMode),r.state.recordMode&&(document.querySelectorAll(".single-wave-edit-efi").forEach(e=>{e.value.length>0&&r.data.editedZones.push(e.value),e.value=""}),r.data.editedZones.length==45)){document.querySelectorAll(".single-wave-edit-efi").forEach(t=>t.remove());const e=i;e.zones=[],e.zones=e.zones.concat(r.data.editedZones),Ce(e),r.data.editedZones=[],r.state.recordMode=!1,r.buttons.recordMode.textContent="Enable Record Data Mode",ge(),we(),fe()}r.state.currentWave==16?(it(),r.state.currentWave=15,r.buttons.next.disabled=!0,r.buttons.previous.disabled=!1):(r.buttons.next.disabled=!1,r.buttons.previous.disabled=!1)}function it(){r.state.recordMode||(r.state.currentWave==1?(re(r.state.currentWave,r.state.recordMode),r.buttons.previous.disabled=!0,r.buttons.next.disabled=!1):(r.wave_g_container.classList.add("scroll-x-left"),setTimeout(()=>r.wave_g_container.classList.remove("scroll-x-left"),500),r.state.currentWave--,re(r.state.currentWave,r.state.recordMode))),r.state.currentWave<=15&&(r.buttons.next.disabled=!1)}function fe(){r.state.currentWave=1,re(r.state.currentWave,r.state.recordMode),r.wave_g_container.classList.add("scroll-x-left"),setTimeout(()=>r.wave_g_container.classList.remove("scroll-x-left"),500),r.buttons.next.disabled=!1,["sv-intersect-a","sv-intersect-b","sv-intersect-c","sv-intersect-ab","sv-intersect-ac","sv-intersect-bc","sv-intersect-abc"].forEach(t=>{r.waveBorder.classList.contains(t)&&r.waveBorder.classList.remove(t)})}function Kt(e){r.state.recordMode?(r.state.recordMode=!1,e.target.textContent="Enable Record Data Mode",document.querySelectorAll(".single-wave-edit-efi").forEach(t=>t.remove()),fe()):(window.scrollTo({top:0,behavior:"smooth"}),De(),fe(),r.zones.forEach(t=>{t.firstElementChild.textContent="",t.append(ve("single-wave-edit-efi"))}),r.data.editedZones=[],r.state.recordMode=!0,e.target.textContent="Disable Record Mode")}function re(e,t){if(t)switch(e){case 1:case 5:case 8:case 11:case 14:r.wave_s_container.style.background="transparent",ze(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent="",r.zones[1].firstElementChild.textContent="",r.zones[2].firstElementChild.textContent="";break;case 2:case 4:case 7:case 10:case 13:Pe(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent="",r.zones[1].firstElementChild.textContent="",r.zones[2].firstElementChild.textContent="";break;case 3:case 6:case 9:case 12:case 15:Re(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent="",r.zones[1].firstElementChild.textContent="",r.zones[2].firstElementChild.textContent="";break}else switch(e){case 1:case 5:case 8:case 11:case 14:r.wave_s_container.style.background="transparent",ze(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent=i.zones[r.state.currentWave*3-3].replace(/\*[TD#1-3]+/g,""),r.zones[1].firstElementChild.textContent=i.zones[r.state.currentWave*3-2].replace(/\*[TD#1-3]+/g,""),r.zones[2].firstElementChild.textContent=i.zones[r.state.currentWave*3-1].replace(/\*[TD#1-3]+/g,"");break;case 2:case 4:case 7:case 10:case 13:Pe(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent=i.zones[r.state.currentWave*3-3].replace(/\*[TD#1-3]+/g,""),r.zones[1].firstElementChild.textContent=i.zones[r.state.currentWave*3-2].replace(/\*[TD#1-3]+/g,""),r.zones[2].firstElementChild.textContent=i.zones[r.state.currentWave*3-1].replace(/\*[TD#1-3]+/g,"");break;case 3:case 6:case 9:case 12:case 15:Re(),r.wave_count.textContent=e,r.zones[0].firstElementChild.textContent=i.zones[r.state.currentWave*3-3].replace(/\*[TD#1-3]+/g,""),r.zones[1].firstElementChild.textContent=i.zones[r.state.currentWave*3-2].replace(/\*[TD#1-3]+/g,""),r.zones[2].firstElementChild.textContent=i.zones[r.state.currentWave*3-1].replace(/\*[TD#1-3]+/g,"");break}switch(e){case 1:W();break;case 2:W(),r.extendedInfo.textContent=i.bonus[0].objective,r.amount.textContent=i.bonus[0].amount,r.wave_s_container.style.background=`url(./svg/${i.bonus[0].svg}) no-repeat center center/58%`;break;case 3:W(),r.extendedInfo.textContent=i.bossWave[0].modifier,r.wave_s_container.style.background=`url(./svg/${i.bossWave[0].svg}) no-repeat center center/58%`;break;case 4:W(),r.extendedInfo.textContent=i.bonus[1].objective,r.amount.textContent=i.bonus[1].amount,r.wave_s_container.style.background=`url(./svg/${i.bonus[1].svg}) no-repeat center center/58%`;break;case 5:W();break;case 6:W(),r.extendedInfo.textContent=i.bossWave[1].modifier,r.wave_s_container.style.background=`url(./svg/${i.bossWave[1].svg}) no-repeat center center/58%`;break;case 7:W(),r.extendedInfo.textContent=i.bonus[2].objective,r.amount.textContent=i.bonus[2].amount,r.wave_s_container.style.background=`url(./svg/${i.bonus[2].svg}) no-repeat center center/58%`;break;case 8:W(),r.zones.forEach((s,n)=>{et(s,i.zones[r.state.currentWave*3+(n-3)],n)});break;case 9:W(),r.extendedInfo.textContent=i.bossWave[2].modifier,r.wave_s_container.style.background=`url(./svg/${i.bossWave[2].svg}) no-repeat center center/58%`;break;case 10:W(),r.extendedInfo.textContent=i.bonus[3].objective,r.amount.textContent=i.bonus[3].amount,r.wave_s_container.style.background=`url(./svg/${i.bonus[3].svg}) no-repeat center center/58%`;break;case 11:W();break;case 12:W();break;case 13:W(),r.extendedInfo.textContent=i.bonus[4].objective,r.amount.textContent=i.bonus[4].amount,r.wave_s_container.style.background=`url(./svg/${i.bonus[4].svg}) no-repeat center center/58%`;break;case 14:W();break;case 15:W(),r.extendedInfo.textContent=i.bossWave[4].modifier,r.wave_s_container.style.background=`url(./svg/${i.bossWave[4].svg}) no-repeat center center/58%`;break}st(ye(i.zones),"singleView").forEach(s=>{e==s.waveIndex+1?r.waveBorder.classList.add(s.clipClass):r.waveBorder.classList.remove(s.clipClass)}),i.bears&&i.bears.forEach(s=>{if(s==e){const n=document.createElement("img");n.src="./svg/se-bears.svg",n.classList.add("sv-bear"),document.querySelector(".sv-special-enemies").append(n)}else document.querySelectorAll(".sv-bear").forEach(n=>n.remove())}),i.dogs&&i.dogs.forEach(s=>{if(s==e){const n=document.createElement("img");n.src="./svg/se-dogs.svg",n.classList.add("sv-dog"),document.querySelector(".sv-special-enemies").append(n)}else document.querySelectorAll(".sv-dog").forEach(n=>n.remove())})}function W(){r.zones.forEach((e,t)=>{et(e,i.zones[r.state.currentWave*3+(t-3)],t)})}function ze(){r.amount.classList.replace("setVisible","setInvisible"),r.linkLines.classList.replace("setVisible","setInvisible"),r.extendedInfo.classList.replace("setVisible","setInvisible"),r.wave_count.classList.replace("bonus","normal"),r.wave_count.classList.replace("boss","normal"),r.waveBorder.classList.replace("bonus","normal"),r.waveBorder.classList.replace("boss","normal"),r.zones.forEach(e=>{e.classList.replace("bonus","normal"),e.classList.replace("boss","normal")})}function Pe(){r.amount.classList.replace("setInvisible","setVisible"),r.linkLines.classList.replace("setInvisible","setVisible"),r.extendedInfo.classList.replace("setInvisible","setVisible"),r.linkLines.classList.replace("boss","bonus"),r.extendedInfo.classList.replace("boss","bonus"),r.wave_count.classList.replace("normal","bonus"),r.wave_count.classList.replace("boss","bonus"),r.waveBorder.classList.replace("normal","bonus"),r.waveBorder.classList.replace("boss","bonus"),r.zones.forEach(e=>{e.classList.replace("normal","bonus"),e.classList.replace("boss","bonus")})}function Re(){r.amount.classList.replace("setVisible","setInvisible"),r.linkLines.classList.replace("setInvisible","setVisible"),r.extendedInfo.classList.replace("setInvisible","setVisible"),r.linkLines.classList.replace("bonus","boss"),r.extendedInfo.classList.replace("bonus","boss"),r.wave_count.classList.replace("normal","boss"),r.wave_count.classList.replace("bonus","boss"),r.waveBorder.classList.replace("normal","boss"),r.waveBorder.classList.replace("bonus","boss"),r.zones.forEach(e=>{e.classList.replace("normal","boss"),e.classList.replace("bonus","boss")})}function Ht(e){p.optionals.date.value.length==0?he(new Date(i.latestUpdate)):p.optionals.date.value,o.fields.currentWeek.value=e[0],o.fields.weeklyModifier.value=p.required.weeklyModifier.value,o.fields.weeklyHazard.value=p.required.weeklyHazard.value,o.fields.wave_1.value=e[1],o.fields.wave_2.value=e[2],o.fields.wave_3.value=e[3],o.fields.wave_4.value=e[4],o.fields.wave_5.value=e[5],o.fields.wave_6.value=e[6],o.fields.wave_7.value=e[7],o.fields.wave_8.value=e[8],o.fields.wave_9.value=e[9],o.fields.wave_10.value=e[10],o.fields.wave_11.value=e[11],o.fields.wave_12.value=e[12],o.fields.wave_13.value=e[13],o.fields.wave_14.value=e[14],o.fields.wave_15.value=e[15],o.fields.credits.value=p.optionals.credits.value||i.credits,o.fields.version.value=p.optionals.version.value||i.version,o.fields.date.value=p.optionals.date.value||It(he(new Date))}function Ut(){let e="";p.required.weeklyModifier.value=o.fields.weeklyModifier.value,p.required.weeklyHazard.value=o.fields.weeklyHazard.value,e=o.fields.currentWeek.value.trim()+`
`+o.fields.wave_1.value.trim()+`
`+o.fields.wave_2.value.trim()+`
`+o.fields.wave_3.value.trim()+`
`+o.fields.wave_4.value.trim()+`
`+o.fields.wave_5.value.trim()+`
`+o.fields.wave_6.value.trim()+`
`+o.fields.wave_7.value.trim()+`
`+o.fields.wave_8.value.trim()+`
`+o.fields.wave_9.value.trim()+`
`+o.fields.wave_10.value.trim()+`
`+o.fields.wave_11.value.trim()+`
`+o.fields.wave_12.value.trim()+`
`+o.fields.wave_13.value.trim()+`
`+o.fields.wave_14.value.trim()+`
`+o.fields.wave_15.value.trim()+`
`,p.textArea.value=e.trim(),p.optionals.credits.value=o.fields.credits.value.trim(),p.optionals.version.value=o.fields.version.value.trim(),p.optionals.date.value=o.fields.date.value.trim()}function Y(e){e.classList.add("setInvisible")}function oe(e){e.classList.remove("setInvisible")}function Ae(e){e.classList.contains("setVisible")?(e.classList.remove("setVisible"),e.classList.add("setInvisible")):e.classList.contains("setInvisible")?(e.classList.add("setVisible"),e.classList.remove("setInvisible")):e.classList.add("setInvisible")}function Nt(e,t,a){e.classList.contains(t)?(e.classList.remove(t),e.classList.add(a)):e.classList.contains(a)?(e.classList.add(t),e.classList.remove(a)):e.classList.add(a)}function Me(){f.nav.forEach(e=>e.classList.remove("active-tab"))}function ke(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}function M(e,t,a){e.classList.contains(a)?e.classList.replace(a,t):e.classList.add(t)}function Gt(){f.modals.exportModal.container.showModal(),window.scrollTo({top:0,behavior:"smooth"})}function Jt(){nt();const e=c.container.cloneNode("deep");e.classList.remove("setInvisible"),e.style.margin="0",e.style.borderRadius="0",window.innerWidth<=393?(document.body.append(e),e.id="info-graph-sh",e.style.width="420px",document.querySelectorAll(".grid-a")[1].classList.replace("grid-a","grid-a-sh"),document.querySelectorAll(".grid-b")[1].classList.replace("grid-b","grid-b-sh"),document.querySelectorAll(".grid-b-sh .wave-container").forEach(a=>a.classList.replace("wave-container","wave-container-sh")),document.querySelectorAll(".grid-b-sh .boss-modifier").forEach(a=>a.classList.replace("boss-modifier","boss-modifier-sh")),document.querySelectorAll(".grid-b-sh .bonus-objective").forEach(a=>a.classList.replace("bonus-objective","bonus-objective-sh")),document.querySelectorAll(".back-drop")[1].classList.replace("back-drop","back-drop-sh"),document.querySelector("#info-graph-sh .weekly-modifiers").classList.replace("weekly-modifiers","weekly-modifiers-sh"),document.querySelector("#info-graph-sh .decorated-line").classList.replace("decorated-line","decorated-line-sh"),document.querySelector("#info-graph-sh .decorated-line-2").classList.replace("decorated-line-2","decorated-line-2-sh"),document.querySelector("#info-graph-sh .credits").classList.replace("credits","credits-sh"),document.querySelector("#info-graph-sh .infograph-footer").classList.replace("infograph-footer","infograph-footer-sh"),document.querySelector("#info-graph-sh .info-container").classList.replace("info-container","info-container-sh"),document.querySelector("#info-graph-sh #fallback-title").remove()):f.subApp.append(e),setTimeout(()=>{He.toBlob(e,{scale:4}).then(function(t){window.saveAs(t,"nms-order-infograph-screenshot.png"),e.style="",e.remove()})},1e3)}function $t(){at();const e=te.container.cloneNode("deep");e.style.width="420px",e.style.margin="0",e.style.borderRadius="0",document.body.appendChild(e),setTimeout(()=>{He.toBlob(e,{scale:4}).then(function(t){window.saveAs(t,"nms-order-tabular-view-screenshot.png"),e.style="",e.remove()})},1e3)}function Xt(){let e=Qt(),t=new Blob([e],{type:"text/csv"});window.saveAs(t,"nms-order.csv")}function Zt(){let e=Yt();navigator.clipboard.writeText(e).then(()=>{f.modals.exportModal.buttons.copyToClipBoard.textContent="Copied",setTimeout(()=>{f.modals.exportModal.buttons.copyToClipBoard.textContent="Copy Text to Clipboard"},900)})}function Yt(){let e=i.latestUpdate+`

Week `+i.week+`
`+Z(i.map)+`
(`+Z(i.modifiers[0])+", "+Z(i.modifiers[1])+`)

`,t=[];return i.zones.forEach(s=>{if(s.includes("*")){const n=s.split("*")[1];let d="";switch(n){case"T#1":d="(Tengu x1)";break;case"T#2":d="(Tengu x2)";break;case"T#3":d="(Tengu x3)";break;case"D#1":d="(Disciple x1)";break;case"D#2":d="(Disciple x2)";break}t.push(s.replace(/\*[TD#1-3]+/g," "+d))}else t.push(s)}),ye(t).forEach((s,n)=>{switch(n){case 0:e=e.concat("("+i.bonus[0].objective+" x"+i.bonus[0].amount+`)
`+(n+1)+". "+s.join(", ")+`
`);break;case 1:e=e.concat(n+1+". "+s.join(", ")+`
`);break;case 2:e=e.concat(n+1+". "+s.join(", ")+" ("+i.bossWave[0].modifier+`)

`);break;case 3:e=e.concat("("+i.bonus[1].objective+" x"+i.bonus[1].amount+`)
`+(n+1)+". "+s.join(", ")+`
`);break;case 4:e=e.concat(n+1+". "+s.join(", ")+`
`);break;case 5:e=e.concat(n+1+". "+s.join(", ")+" ("+i.bossWave[1].modifier+`)

`);break;case 6:e=e.concat("("+i.bonus[2].objective+" x"+i.bonus[2].amount+`)
`+(n+1)+". "+s.join(", ")+`
`);break;case 7:e=e.concat(n+1+". "+s.join(", ")+`
`);break;case 8:e=e.concat(n+1+". "+s.join(", ")+" ("+i.bossWave[2].modifier+`)

`);break;case 9:e=e.concat("("+i.bonus[3].objective+" x"+i.bonus[3].amount+`)
`+(n+1)+". "+s.join(", ")+`
`);break;case 10:e=e.concat(n+1+". "+s.join(", ")+`
`);break;case 11:e=e.concat(n+1+". "+s.join(", ")+" ("+i.bossWave[3].modifier+`)

`);break;case 12:e=e.concat("("+i.bonus[4].objective+" x"+i.bonus[4].amount+`)
`+(n+1)+". "+s.join(", ")+`
`);break;case 13:e=e.concat(n+1+". "+s.join(", ")+`
`);break;case 14:e=e.concat(n+1+". "+s.join(", ")+" ("+i.bossWave[4].modifier+`)

`);break}}),e=e.concat("Credits: "+i.credits),e}function Qt(){let e=`Date, Week, Map, Modifier, Hazard
`+i.latestUpdate+", "+i.week+", "+Z(i.map)+", "+Z(i.modifiers[0])+", "+Z(i.modifiers[1])+`

Wave, Zone #1, Zone #2, Zone #3, Objective | Modifier
`,t=[];return i.zones.forEach(s=>{if(s.includes("*")){const n=s.split("*")[1];let d="";switch(n){case"T#1":d="(Tengu x1)";break;case"T#2":d="(Tengu x2)";break;case"T#3":d="(Tengu x3)";break;case"D#1":d="(Disciple x1)";break;case"D#2":d="(Disiciple x2)";break}t.push(s.replace(/\*[TD#1-3]+/g," "+d))}else t.push(s)}),ye(t).forEach((s,n)=>{switch(n){case 0:e=e.concat(n+1+", "+s.join(", ")+`, 
`);break;case 1:e=e.concat(n+1+", "+s.join(", ")+", "+i.bonus[0].objective+" x"+i.bonus[0].amount+`
`);break;case 2:e=e.concat(n+1+", "+s.join(", ")+", "+i.bossWave[0].modifier+`
`);break;case 3:e=e.concat(n+1+", "+s.join(", ")+", "+i.bonus[1].objective+" x"+i.bonus[1].amount+`
`);break;case 4:e=e.concat(n+1+", "+s.join(", ")+`, 
`);break;case 5:e=e.concat(n+1+", "+s.join(", ")+", "+i.bossWave[1].modifier+`
`);break;case 6:e=e.concat(n+1+", "+s.join(", ")+", "+i.bonus[2].objective+" x"+i.bonus[2].amount+`
`);break;case 7:e=e.concat(n+1+", "+s.join(", ")+`, 
`);break;case 8:e=e.concat(n+1+", "+s.join(", ")+", "+i.bossWave[2].modifier+`
`);break;case 9:e=e.concat(n+1+", "+s.join(", ")+", "+i.bonus[3].objective+" x"+i.bonus[3].amount+`
`);break;case 10:e=e.concat(n+1+", "+s.join(", ")+`, 
`);break;case 11:e=e.concat(n+1+", "+s.join(", ")+", "+i.bossWave[3].modifier+`
`);break;case 12:e=e.concat(n+1+", "+s.join(", ")+", "+i.bonus[4].objective+" x"+i.bonus[4].amount+`
`);break;case 13:e=e.concat(n+1+", "+s.join(", ")+`, 
`);break;case 14:e=e.concat(n+1+", "+s.join(", ")+", "+i.bossWave[4].modifier+`

`);break}}),e=e.concat(`Credits
`+i.credits),e}function es(){f.modals.exportModal.container.close()}function ts(){f.modals.updateModal.container.showModal(),window.scrollTo({top:0,behavior:"smooth"})}function ot(){f.modals.updateModal.container.close()}function ss(){me();let e=i;if(f.modals.updateModal.fields.username.value.trim().length>0)e.updatedBy=f.modals.updateModal.fields.username.value.trim(),ds(e),ot(),V("success","Recent Updated Successfully.");else{const t=document.createElement("p");t.classList.add("form-error-2"),t.textContent="Username must not be empty.",f.modals.updateModal.fields.username.insertAdjacentElement("afterend",t)}}function ns(){f.buttons.bow.addEventListener("click",cs),f.nav[0].addEventListener("click",Ye),f.nav[1].addEventListener("click",De),f.nav[2].addEventListener("click",At),p.buttons.template.addEventListener("click",ge),p.mapSelection.addEventListener("change",ge),o.mapSelection.addEventListener("change",ge),p.buttons.clear.addEventListener("click",Te),p.buttons.process.addEventListener("click",we),o.buttons.next.addEventListener("click",_t),o.buttons.back.addEventListener("click",Dt),o.buttons.process.addEventListener("click",we),o.buttons.clear.addEventListener("click",Te),c.buttons.edit.addEventListener("click",Mt),c.buttons.save.addEventListener("click",Ot),c.buttons.graphView.addEventListener("click",nt),c.buttons.singleView.addEventListener("click",Pt),c.buttons.tabularView.addEventListener("click",at),r.buttons.previous.addEventListener("click",it),r.buttons.next.addEventListener("click",qt),r.buttons.reset.addEventListener("click",fe),r.buttons.recordMode.addEventListener("click",Kt),c.buttons.export.addEventListener("click",Gt),f.modals.exportModal.buttons.exportInfoGraphScreenshot.addEventListener("click",Jt),f.modals.exportModal.buttons.exportTabularScreenshot.addEventListener("click",$t),f.modals.exportModal.buttons.exportCSV.addEventListener("click",Xt),f.modals.exportModal.buttons.copyToClipBoard.addEventListener("click",Zt),f.modals.exportModal.buttons.close.addEventListener("click",es),f.modals.updateModal.buttons.show.addEventListener("click",ts),f.modals.updateModal.buttons.close.addEventListener("click",ot),f.modals.updateModal.buttons.update.addEventListener("click",ss),window.oninput=()=>{me(),o.fields.currentWeek.onchange=Je(),o.fields.wave_1.onchange=$e(),o.fields.wave_6.onchange=Xe(),o.fields.wave_7.onchange=Ze()},c.buttons.share.addEventListener("click",async()=>{const e={title:"NMS Order",url:window.location.href};try{await navigator.share(e)}catch{}})}var as=[{headshots:{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},killInsideDefArea:{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},ghostWeaponKills:{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},fireDmgKills:{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},killOutsideDefArea:{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"},pParryCounterAtk:{objective:"P.Parry Counter ATK",amount:15,svg:"b-parries.svg",tsvg:"td-b-pParryCounters.svg",png:"b-parries.png"},assassinateFromAbove:{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},rangedKills:{objective:"Ranged Kills",amount:20,svg:"b-rangedKills.svg",tsvg:"td-b-rangedKills.svg",png:"b-rangedKills.png"},assassinateCrits:{objective:"Assassinate | Crits",amount:10,svg:"b-crits.svg",tsvg:"td-b-assassinationsCrits.svg",png:"b-crits.png"}}],rs=[{wildfire:{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},eruption:{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},fightingBlind:{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},burningBlades:{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},toxicClouds:{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},slowedRevives:{modifier:"Slowed Revives",svg:"v-slowedRevives.svg",tsvg:"td-m-slowedRevives.svg",png:"v-slowedRevives.png"},immunity:{modifier:"Immunity",svg:"v-immunity.svg",tsvg:"td-m-immunity.svg",png:"v-immunity.png"},toolShortage:{modifier:"Tool Shortage",svg:"v-toolShortage.svg",tsvg:"td-m-toolShortage.svg",png:"v-toolShortage.png"}}],is=[{barbedArrows:{modifier:"barbed arrows",svg:"w-barbedArrows.svg",png:"w-barbedArrows.png",key:"barbed-arrows"},empoweredFoes:{modifier:"empowered foes",svg:"w-empoweredFoes.svg",png:"w-empoweredFoes.png",key:"empowered-foes"},immunity:{modifier:"immunity",svg:"w-immunity.svg",png:"w-immunity.png",key:"immunity"},incapacitated:{modifier:"incapacitated",svg:"w-incapacitated.svg",png:"w-w-incapacitated.png",key:"incapacitated"},reducedHealing:{modifier:"reduced healing",svg:"w-reducedHealing.svg",png:"w-reducedHealing.png",key:"reduced-healing"},slowedRevives:{modifier:"slowed revives",svg:"w-slowedRevives.svg",png:"w-slowedRevives.png",key:"slowed-revives"},toolShortage:{modifier:"tool shortage",svg:"w-toolShortage.svg",png:"w-toolShortage.png",key:"tool-shortage"}}],os=[{hwachas:{modifier:"fire spirits, hwachas",svg:"w-hwachas.svg",png:"w-hwachas.png",key:"fire-spirits-hwachas"},eyesOfIyo:{modifier:"eyes of iyo",svg:"w-eyesOfIyo.svg",png:"w-eyesOfIyo.png",key:"eyes-of-iyo"},disciples:{modifier:"disciples of iyo",svg:"w-disciple.svg",png:"w-disciple.png",key:"disciples-of-iyo"}}],ls=[{bloodAndSteel:{map:"blood and steel",mapKey:"blood-and-steel",week:6,modifiers:["tool shortage","eyes of iyo"],zones:["Cliff-Cart","Island-Cart","Camp-Right","Island-Left","Island-Cart","Camp-Right","Cliff-Cart","Cliff-Top","Camp-Right","Island-Left","Island-Cart","Camp-Left","Island-Left","Camp-Right","Island-Cart*T#2","Cliff-Cart","Camp-Left","Island-Cart","Camp-Right*T#2","Cliff-Top","Cliff-Top","Camp-Left","Island-Cart","Island-Cart","Camp-Right","Island-Left","Island-Cart","Cliff-Top","Island-Left","Cliff-Top","Island-Left","Camp-Left","Cliff-Cart","Cliff-Top*T#2","Island-Left*T#2","Camp-Right*T#2","Island-Cart","Cliff-Top","Island-Left","Camp-Right","Island-Cart","Camp-Right","Island-Left","Camp-Right","Camp-Right"],bonus:[{objective:"Assassinate | Crits",amount:10,svg:"b-crits.svg",tsvg:"td-b-assassinationsCrits.svg",png:"b-crits.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},{objective:"P.Parry Counter ATK",amount:15,svg:"b-parries.svg",tsvg:"td-b-pParryCounters.svg",png:"b-parries.png"}],bossWave:[{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Slowed Revives",svg:"v-slowedRevives.svg",tsvg:"td-m-slowedRevives.svg",png:"v-slowedRevives.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[12,15],shaman:[9],background:"Blood-And-Steel.webp",key:"bloodAndSteel",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},bloodInTheSnow:{map:"blood in the snow",mapKey:"blood-in-the-snow",week:5,modifiers:["immunity","hwachas"],zones:["Camp","Mine","Outpost","Camp","Outpost","Mine","Outpost","Camp","Mine","Outpost*T#2","Mine","Outpost","Camp","Outpost","Camp","Mine","Camp","Outpost","Mine","Mine","Outpost","Mine","Mine*T#2","Outpost","Camp*T#1","Mine*T#2","Outpost*T#3","Outpost","Mine","Outpost","Outpost","Mine","Outpost","Camp","Camp","Mine","Mine","Outpost","Camp","Mine","Camp","Camp","Camp","Camp","Mine"],bonus:[{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"}],bossWave:[{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[15],background:"Blood-In-The-Snow.webp",key:"bloodInTheSnow",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},theDefenseOfAoiVillage:{map:"the defense of aoi village",mapKey:"the-defense-of-aoi-village",week:2,modifiers:["reduced healing","hwachas"],zones:["Villa","Farm-Right","Side","Beach","Farm-Right","Villa","Villa","Side","Farm-Left","Farm-Right*T#2","Farm-Left","Beach","Beach","Villa","Side","Beach","Villa","Farm-Right","Villa","Beach","Farm-Right","Farm-Left","Villa*T#2","Beach","Villa","Side","Side","Farm-Right","Beach","Villa","Villa","Villa","Farm-Left","Side","Villa","Villa","Beach","Beach","Farm-Left","Villa","Farm-Left","Beach","Farm-Right","Villa","Farm-Left"],bonus:[{objective:"P.Parry Counter ATK",amount:15,svg:"b-parries.svg",tsvg:"td-b-pParryCounters.svg",png:"b-parries.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"},{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},{objective:"Ranged Kills",amount:20,svg:"b-rangedKills.svg",tsvg:"td-b-rangedKills.svg",png:"b-rangedKills.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"}],bossWave:[{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.svg"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.svg"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[9,12,15],bears:[9,15],background:"the-defense-of-aoi-village.webp",key:"theDefenseOfAoiVillage",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},theShadowsOfWar:{map:"the shadows of war",mapKey:"the-shadows-of-war",week:7,modifiers:["reduced healing","hwachas"],zones:["Dojo Middle","Stable","Barracks Left","Dojo Right","Stable","Barracks Right","Stable","Dojo Deep","Barracks Middle","Stable","Dojo Middle","Barracks Right","Barracks Right","Stable","Dojo Right*T#2","Dojo Deep","Stable","Barracks Left","Barracks Right*T#2","Dojo Deep","Barracks Middle","Barracks Middle","Dojo Deep","Stable","Stable","Barracks Left","Barracks Right","Dojo Right","Dojo Middle","Stable","Dojo Right","Stable","Stable","Stable","Barracks Right","Barracks Left","Barracks Middle","Dojo Middle","Stable","Dojo Deep","Stable","Stable","Stable","Dojo Deep","Dojo Middle"],bonus:[{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"}],bossWave:[{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[15],background:"the-shadows-of-war.webp",key:"theShadowsOfWar",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},theShoresOfVengeance:{map:"the shores of vengeance",mapKey:"the-shores-of-vengeance",week:4,modifiers:["empowered foes","disciples"],zones:["Beach","Boat","Cliff-Hut","Beach","Beach","Boat","Beach","Cliff-Hut","Beach","Beach","Cliff-Forest","Boat","Boat","Cliff-Forest","Beach*T#2","Beach","Beach","Cliff-Forest","Beach*T#2","Cliff-Forest","Beach","Boat","Cliff-Forest","Cliff-Hut","Boat","Beach","Boat","Boat","Beach","Beach","Beach","Beach","Boat","Cliff-Forest","Beach","Boat","Beach","Beach","Cliff-Hut","Boat","Beach","Cliff-Forest","Cliff-Forest","Boat","Beach"],bonus:[{objective:"Ranged Kills",amount:20,svg:"b-rangedKills.svg",tsvg:"td-b-rangedKills.svg",png:"b-rangedKills.png"},{objective:"Kill Inside Def. Area",amount:25,svg:"b-killsIn.svg",tsvg:"td-b-killInsideDefArea.svg",png:"b-killsIn.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"},{objective:"Assassinate | Crits",amount:10,svg:"b-crits.svg",tsvg:"td-b-assassinationsCrits.svg",png:"b-crits.png"},{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"}],bossWave:[{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"},{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Burning Blades",svg:"v-burningBlades.svg",tsvg:"td-m-burningBlades.svg",png:"v-burningBlades.png"},{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[12],bears:[12,15],background:"The-Shores-Of-Vengeance.webp",key:"theShoresOfVengeance",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}},twilightAndAshes:{map:"twilight and ashes",mapKey:"twilight-and-ashes",week:3,modifiers:["incapacitated","disciples"],zones:["Obelisk","Boulder L","Side LH","Cliff L","Side LH","Side LH","Boulder L*D#2","Obelisk*D#2","Cliff L*D#2","Cliff L","Boulder L","Side LH","Obelisk","Side LH","Boulder LH*T#2","Cliff L","Obelisk","Boulder L","Side LH*T#2","Obelisk","Obelisk","Obelisk","Boulder LH","Obelisk","Obelisk","Cliff L","Side LH","Cliff LH","Obelisk","Obelisk","Side LH","Boulder L","Side LH","Obelisk*D#1","Boulder LH","Boulder L","Boulder LH","Obelisk","Boulder L","Cliff L","Cliff LH","Obelisk","Cliff L","Side LH","Obelisk"],bonus:[{objective:"Headshots",amount:25,svg:"b-headshots.svg",tsvg:"td-b-headshots.svg",png:"b-headshots.png"},{objective:"Assassinate From Above",amount:5,svg:"b-assassinateFromAbove.svg",tsvg:"td-b-assassinateFromAbove.svg",png:"b-assassinateFromAbove.png"},{objective:"Fire DMG Kills",amount:15,svg:"b-fireKills.svg",tsvg:"td-b-fireDmgKills.svg",png:"b-fireKills.png"},{objective:"Kill Outside Def. Area",amount:25,svg:"b-killsOut.svg",tsvg:"td-b-killOutsideDefArea.svg",png:"b-killsOut.png"},{objective:"Ghost Weapon Kills",amount:5,svg:"b-ghostWeaponKills.svg",tsvg:"td-b-ghostWeaponKills.svg",png:"b-ghostWeaponKills.png"}],bossWave:[{modifier:"Toxic Clouds",svg:"v-toxicClouds.svg",tsvg:"td-m-toxicClouds.svg",png:"v-toxicClouds.png"},{modifier:"Wildfire",svg:"v-wildFire.svg",tsvg:"td-m-wildfire.svg",png:"v-wildFire.png"},{modifier:"Fighting Blind",svg:"v-fightingBlind.svg",tsvg:"td-m-fightingBlind.svg",png:"v-fightingBlind.png"},{modifier:"Immunity",svg:"v-immunity.svg",tsvg:"td-m-immunity.svg",png:"v-immunity.png"},{modifier:"Eruption",svg:"v-eruption.svg",tsvg:"td-m-eruption.svg",png:"v-eruption.png"}],credits:["player#1","player#2","player#n"],tengu:["10*T#2","23*T#2","25*T#1","26*T#2","27*T#3"],dogs:[],bears:[12,15],background:"Twilight-And-Ashes.webp",key:"twilightAndAshes",selected:!1,latestUpdate:"8/04/2022",version:"ver2.18",updatedBy:"",legend:{}}}];Object.values(as)[0];Object.values(rs)[0];const Oe=Object.values(is)[0],We=Object.values(os)[0];let G=Object.values(ls)[0];const lt="/templates/-N70N_ziMiaukkfPTVb_.json",Ee="https://gotlegends-nms-order-default-rtdb.europe-west1.firebasedatabase.app";let i={},je=0;ct();let Ve="text";function Fe(e){Ve=e}function Ce(e){i=e}function qe(e){Object.entries(G).forEach(t=>{t[1].mapKey==e?t[1].selected=!0:t[1].selected=!1})}function ct(){fetch(Ee+"/testBows.json").then(e=>e.json()).then(e=>{je=parseInt(e),f.totalBows.textContent=je})}function cs(){fetch(Ee+"/testBows.json",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(je+1)}).then(e=>ct())}function dt(){return fetch(Ee+lt).then(e=>e.json()).then(e=>(G=e,Object.entries(G).filter(t=>t[1].selected).length>0?i=Object.entries(G).filter(t=>t[1].selected)[0][1]:(i=G.bloodAndSteel,G.bloodAndSteel.selected=!0),Promise.resolve({templates:G,currentTemplate:i})))}function ds(e){G[e.key]=e,fetch(Ee+lt,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}dt();Ye();ns();
